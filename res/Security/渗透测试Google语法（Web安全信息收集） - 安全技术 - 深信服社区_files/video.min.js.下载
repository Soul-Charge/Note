/*! sangforbbs 2020-11-26 */
!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.videojs=f()}}(function(){var define;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){(function(global){var topLevel="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},minDoc=_dereq_("min-document");if("undefined"!=typeof document)module.exports=document;else{var doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"];doccy||(doccy=topLevel["__GLOBAL_DOCUMENT_CACHE@4"]=minDoc),module.exports=doccy}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":3}],2:[function(_dereq_,module,exports){(function(global){"undefined"!=typeof window?module.exports=window:"undefined"!=typeof global?module.exports=global:"undefined"!=typeof self?module.exports=self:module.exports={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(_dereq_,module,exports){},{}],4:[function(_dereq_,module,exports){var getNative=_dereq_("../internal/getNative"),nativeNow=getNative(Date,"now"),now=nativeNow||function(){return(new Date).getTime()};module.exports=now},{"../internal/getNative":20}],5:[function(_dereq_,module,exports){function debounce(func,wait,options){function cancel(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId&&clearTimeout(maxTimeoutId),lastCalled=0,maxTimeoutId=timeoutId=trailingCall=void 0}function complete(isCalled,id){id&&clearTimeout(id),maxTimeoutId=timeoutId=trailingCall=void 0,isCalled&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=void 0))}function delayed(){var remaining=wait-(now()-stamp);0>=remaining||remaining>wait?complete(trailingCall,maxTimeoutId):timeoutId=setTimeout(delayed,remaining)}function maxDelayed(){complete(trailing,timeoutId)}function debounced(){if(args=arguments,stamp=now(),thisArg=this,trailingCall=trailing&&(timeoutId||!leading),maxWait===!1)var leadingCall=leading&&!timeoutId;else{maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=0>=remaining||remaining>maxWait;isCalled?(maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId)),lastCalled=stamp,result=func.apply(thisArg,args)):maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}return isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait)),leadingCall&&(isCalled=!0,result=func.apply(thisArg,args)),!isCalled||timeoutId||maxTimeoutId||(args=thisArg=void 0),result}var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(wait=0>wait?0:+wait||0,options===!0){var leading=!0;trailing=!1}else isObject(options)&&(leading=!!options.leading,maxWait="maxWait"in options&&nativeMax(+options.maxWait||0,wait),trailing="trailing"in options?!!options.trailing:trailing);return debounced.cancel=cancel,debounced}var isObject=_dereq_("../lang/isObject"),now=_dereq_("../date/now"),FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max;module.exports=debounce},{"../date/now":4,"../lang/isObject":33}],6:[function(_dereq_,module,exports){function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(void 0===start?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);++index<length;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;++index<start;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}var FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max;module.exports=restParam},{}],7:[function(_dereq_,module,exports){function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return options===!1?leading=!1:isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:+wait,trailing:trailing})}var debounce=_dereq_("./debounce"),isObject=_dereq_("../lang/isObject"),FUNC_ERROR_TEXT="Expected a function";module.exports=throttle},{"../lang/isObject":33,"./debounce":5}],8:[function(_dereq_,module,exports){function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}module.exports=arrayCopy},{}],9:[function(_dereq_,module,exports){function arrayEach(array,iteratee){for(var index=-1,length=array.length;++index<length&&iteratee(array[index],index,array)!==!1;);return array}module.exports=arrayEach},{}],10:[function(_dereq_,module,exports){function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index];object[key]=source[key]}return object}module.exports=baseCopy},{}],11:[function(_dereq_,module,exports){var createBaseFor=_dereq_("./createBaseFor"),baseFor=createBaseFor();module.exports=baseFor},{"./createBaseFor":18}],12:[function(_dereq_,module,exports){function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}var baseFor=_dereq_("./baseFor"),keysIn=_dereq_("../object/keysIn");module.exports=baseForIn},{"../object/keysIn":39,"./baseFor":11}],13:[function(_dereq_,module,exports){function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isArrayLike(source)&&(isArray(source)||isTypedArray(source)),props=isSrcArr?void 0:keys(source);return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):void 0,isCommon=void 0===result;isCommon&&(result=srcValue),void 0===result&&(!isSrcArr||key in object)||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}var arrayEach=_dereq_("./arrayEach"),baseMergeDeep=_dereq_("./baseMergeDeep"),isArray=_dereq_("../lang/isArray"),isArrayLike=_dereq_("./isArrayLike"),isObject=_dereq_("../lang/isObject"),isObjectLike=_dereq_("./isObjectLike"),isTypedArray=_dereq_("../lang/isTypedArray"),keys=_dereq_("../object/keys");module.exports=baseMerge},{"../lang/isArray":30,"../lang/isObject":33,"../lang/isTypedArray":36,"../object/keys":38,"./arrayEach":9,"./baseMergeDeep":14,"./isArrayLike":21,"./isObjectLike":26}],14:[function(_dereq_,module,exports){function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return void(object[key]=stackB[length]);var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):void 0,isCommon=void 0===result;isCommon&&(result=srcValue,isArrayLike(srcValue)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:isArrayLike(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}var arrayCopy=_dereq_("./arrayCopy"),isArguments=_dereq_("../lang/isArguments"),isArray=_dereq_("../lang/isArray"),isArrayLike=_dereq_("./isArrayLike"),isPlainObject=_dereq_("../lang/isPlainObject"),isTypedArray=_dereq_("../lang/isTypedArray"),toPlainObject=_dereq_("../lang/toPlainObject");module.exports=baseMergeDeep},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isPlainObject":34,"../lang/isTypedArray":36,"../lang/toPlainObject":37,"./arrayCopy":8,"./isArrayLike":21}],15:[function(_dereq_,module,exports){function baseProperty(key){return function(object){return null==object?void 0:toObject(object)[key]}}var toObject=_dereq_("./toObject");module.exports=baseProperty},{"./toObject":28}],16:[function(_dereq_,module,exports){function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(void 0===thisArg)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}var identity=_dereq_("../utility/identity");module.exports=bindCallback},{"../utility/identity":42}],17:[function(_dereq_,module,exports){function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2?sources[length-2]:void 0,guard=length>2?sources[2]:void 0,thisArg=length>1?sources[length-1]:void 0;for("function"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer="function"==typeof thisArg?thisArg:void 0,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?void 0:customizer,length=1);++index<length;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}var bindCallback=_dereq_("./bindCallback"),isIterateeCall=_dereq_("./isIterateeCall"),restParam=_dereq_("../function/restParam");module.exports=createAssigner},{"../function/restParam":6,"./bindCallback":16,"./isIterateeCall":24}],18:[function(_dereq_,module,exports){function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:++index<length;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}var toObject=_dereq_("./toObject");module.exports=createBaseFor},{"./toObject":28}],19:[function(_dereq_,module,exports){var baseProperty=_dereq_("./baseProperty"),getLength=baseProperty("length");module.exports=getLength},{"./baseProperty":15}],20:[function(_dereq_,module,exports){function getNative(object,key){var value=null==object?void 0:object[key];return isNative(value)?value:void 0}var isNative=_dereq_("../lang/isNative");module.exports=getNative},{"../lang/isNative":32}],21:[function(_dereq_,module,exports){function isArrayLike(value){return null!=value&&isLength(getLength(value))}var getLength=_dereq_("./getLength"),isLength=_dereq_("./isLength");module.exports=isArrayLike},{"./getLength":19,"./isLength":25}],22:[function(_dereq_,module,exports){var isHostObject=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(value){return"function"!=typeof value.toString&&"string"==typeof(value+"")}}();module.exports=isHostObject},{}],23:[function(_dereq_,module,exports){function isIndex(value,length){return value="number"==typeof value||reIsUint.test(value)?+value:-1,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&value%1==0&&length>value}var reIsUint=/^\d+$/,MAX_SAFE_INTEGER=9007199254740991;module.exports=isIndex},{}],24:[function(_dereq_,module,exports){function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object){var other=object[index];return value===value?value===other:other!==other}return!1}var isArrayLike=_dereq_("./isArrayLike"),isIndex=_dereq_("./isIndex"),isObject=_dereq_("../lang/isObject");module.exports=isIterateeCall},{"../lang/isObject":33,"./isArrayLike":21,"./isIndex":23}],25:[function(_dereq_,module,exports){function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&MAX_SAFE_INTEGER>=value}var MAX_SAFE_INTEGER=9007199254740991;module.exports=isLength},{}],26:[function(_dereq_,module,exports){function isObjectLike(value){return!!value&&"object"==typeof value}module.exports=isObjectLike},{}],27:[function(_dereq_,module,exports){function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object)||isString(object)),index=-1,result=[];++index<propsLength;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}var isArguments=_dereq_("../lang/isArguments"),isArray=_dereq_("../lang/isArray"),isIndex=_dereq_("./isIndex"),isLength=_dereq_("./isLength"),isString=_dereq_("../lang/isString"),keysIn=_dereq_("../object/keysIn"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;module.exports=shimKeys},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isString":35,"../object/keysIn":39,"./isIndex":23,"./isLength":25}],28:[function(_dereq_,module,exports){function toObject(value){if(support.unindexedChars&&isString(value)){for(var index=-1,length=value.length,result=Object(value);++index<length;)result[index]=value.charAt(index);return result}return isObject(value)?value:Object(value)}var isObject=_dereq_("../lang/isObject"),isString=_dereq_("../lang/isString"),support=_dereq_("../support");module.exports=toObject},{"../lang/isObject":33,"../lang/isString":35,"../support":41}],29:[function(_dereq_,module,exports){function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")}var isArrayLike=_dereq_("../internal/isArrayLike"),isObjectLike=_dereq_("../internal/isObjectLike"),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,propertyIsEnumerable=objectProto.propertyIsEnumerable;module.exports=isArguments},{"../internal/isArrayLike":21,"../internal/isObjectLike":26}],30:[function(_dereq_,module,exports){var getNative=_dereq_("../internal/getNative"),isLength=_dereq_("../internal/isLength"),isObjectLike=_dereq_("../internal/isObjectLike"),arrayTag="[object Array]",objectProto=Object.prototype,objToString=objectProto.toString,nativeIsArray=getNative(Array,"isArray"),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};module.exports=isArray},{"../internal/getNative":20,"../internal/isLength":25,"../internal/isObjectLike":26}],31:[function(_dereq_,module,exports){function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}var isObject=_dereq_("./isObject"),funcTag="[object Function]",objectProto=Object.prototype,objToString=objectProto.toString;module.exports=isFunction},{"./isObject":33}],32:[function(_dereq_,module,exports){function isNative(value){return null==value?!1:isFunction(value)?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&(isHostObject(value)?reIsNative:reIsHostCtor).test(value)}var isFunction=_dereq_("./isFunction"),isHostObject=_dereq_("../internal/isHostObject"),isObjectLike=_dereq_("../internal/isObjectLike"),reIsHostCtor=/^\[object .+?Constructor\]$/,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");module.exports=isNative},{"../internal/isHostObject":22,"../internal/isObjectLike":26,"./isFunction":31}],33:[function(_dereq_,module,exports){function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}module.exports=isObject},{}],34:[function(_dereq_,module,exports){function isPlainObject(value){var Ctor;if(!isObjectLike(value)||objToString.call(value)!=objectTag||isHostObject(value)||isArguments(value)||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,"function"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return support.ownLast?(baseForIn(value,function(subValue,key,object){return result=hasOwnProperty.call(object,key),!1}),result!==!1):(baseForIn(value,function(subValue,key){result=key}),void 0===result||hasOwnProperty.call(value,result))}var baseForIn=_dereq_("../internal/baseForIn"),isArguments=_dereq_("./isArguments"),isHostObject=_dereq_("../internal/isHostObject"),isObjectLike=_dereq_("../internal/isObjectLike"),support=_dereq_("../support"),objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString;module.exports=isPlainObject},{"../internal/baseForIn":12,"../internal/isHostObject":22,"../internal/isObjectLike":26,"../support":41,"./isArguments":29}],35:[function(_dereq_,module,exports){function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}var isObjectLike=_dereq_("../internal/isObjectLike"),stringTag="[object String]",objectProto=Object.prototype,objToString=objectProto.toString;module.exports=isString},{"../internal/isObjectLike":26}],36:[function(_dereq_,module,exports){function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}var isLength=_dereq_("../internal/isLength"),isObjectLike=_dereq_("../internal/isObjectLike"),argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var objectProto=Object.prototype,objToString=objectProto.toString;module.exports=isTypedArray},{"../internal/isLength":25,"../internal/isObjectLike":26}],37:[function(_dereq_,module,exports){function toPlainObject(value){return baseCopy(value,keysIn(value))}var baseCopy=_dereq_("../internal/baseCopy"),keysIn=_dereq_("../object/keysIn");module.exports=toPlainObject},{"../internal/baseCopy":10,"../object/keysIn":39}],38:[function(_dereq_,module,exports){var getNative=_dereq_("../internal/getNative"),isArrayLike=_dereq_("../internal/isArrayLike"),isObject=_dereq_("../lang/isObject"),shimKeys=_dereq_("../internal/shimKeys"),support=_dereq_("../support"),nativeKeys=getNative(Object,"keys"),keys=nativeKeys?function(object){var Ctor=null==object?void 0:object.constructor;return"function"==typeof Ctor&&Ctor.prototype===object||("function"==typeof object?support.enumPrototypes:isArrayLike(object))?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys;module.exports=keys},{"../internal/getNative":20,"../internal/isArrayLike":21,"../internal/shimKeys":27,"../lang/isObject":33,"../support":41}],39:[function(_dereq_,module,exports){function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object)||isString(object))&&length||0;for(var Ctor=object.constructor,index=-1,proto=isFunction(Ctor)&&Ctor.prototype||objectProto,isProto=proto===object,result=Array(length),skipIndexes=length>0,skipErrorProps=support.enumErrorProps&&(object===errorProto||object instanceof Error),skipProto=support.enumPrototypes&&isFunction(object);++index<length;)result[index]=index+"";for(var key in object)skipProto&&"prototype"==key||skipErrorProps&&("message"==key||"name"==key)||skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);if(support.nonEnumShadows&&object!==objectProto){var tag=object===stringProto?stringTag:object===errorProto?errorTag:objToString.call(object),nonEnums=nonEnumProps[tag]||nonEnumProps[objectTag];for(tag==objectTag&&(proto=objectProto),length=shadowProps.length;length--;){key=shadowProps[length];var nonEnum=nonEnums[key];isProto&&nonEnum||(nonEnum?!hasOwnProperty.call(object,key):object[key]===proto[key])||result.push(key)}}return result}var arrayEach=_dereq_("../internal/arrayEach"),isArguments=_dereq_("../lang/isArguments"),isArray=_dereq_("../lang/isArray"),isFunction=_dereq_("../lang/isFunction"),isIndex=_dereq_("../internal/isIndex"),isLength=_dereq_("../internal/isLength"),isObject=_dereq_("../lang/isObject"),isString=_dereq_("../lang/isString"),support=_dereq_("../support"),arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",stringTag="[object String]",shadowProps=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],errorProto=Error.prototype,objectProto=Object.prototype,stringProto=String.prototype,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,nonEnumProps={};nonEnumProps[arrayTag]=nonEnumProps[dateTag]=nonEnumProps[numberTag]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},nonEnumProps[boolTag]=nonEnumProps[stringTag]={constructor:!0,toString:!0,valueOf:!0},nonEnumProps[errorTag]=nonEnumProps[funcTag]=nonEnumProps[regexpTag]={constructor:!0,toString:!0},nonEnumProps[objectTag]={constructor:!0},arrayEach(shadowProps,function(key){for(var tag in nonEnumProps)if(hasOwnProperty.call(nonEnumProps,tag)){var props=nonEnumProps[tag];props[key]=hasOwnProperty.call(props,key)}}),module.exports=keysIn},{"../internal/arrayEach":9,"../internal/isIndex":23,"../internal/isLength":25,"../lang/isArguments":29,"../lang/isArray":30,"../lang/isFunction":31,"../lang/isObject":33,"../lang/isString":35,"../support":41}],40:[function(_dereq_,module,exports){var baseMerge=_dereq_("../internal/baseMerge"),createAssigner=_dereq_("../internal/createAssigner"),merge=createAssigner(baseMerge);module.exports=merge},{"../internal/baseMerge":13,"../internal/createAssigner":17}],41:[function(_dereq_,module,exports){var arrayProto=Array.prototype,errorProto=Error.prototype,objectProto=Object.prototype,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,support={};!function(x){var Ctor=function(){this.x=x},object={0:x,length:x},props=[];Ctor.prototype={valueOf:x,y:x};for(var key in new Ctor)props.push(key);support.enumErrorProps=propertyIsEnumerable.call(errorProto,"message")||propertyIsEnumerable.call(errorProto,"name"),support.enumPrototypes=propertyIsEnumerable.call(Ctor,"prototype"),support.nonEnumShadows=!/valueOf/.test(props),support.ownLast="x"!=props[0],support.spliceObjects=(splice.call(object,0,1),!object[0]),support.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0),module.exports=support},{}],42:[function(_dereq_,module,exports){function identity(value){return value}module.exports=identity},{}],43:[function(_dereq_,module,exports){"use strict";var keys=_dereq_("object-keys");module.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var obj={},sym=Symbol("test");if("string"==typeof sym)return!1;if(sym instanceof Symbol)return!1;obj[sym]=42;for(sym in obj)return!1;if(0!==keys(obj).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(obj).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(obj).length)return!1;var syms=Object.getOwnPropertySymbols(obj);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(obj,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var descriptor=Object.getOwnPropertyDescriptor(obj,sym);if(42!==descriptor.value||descriptor.enumerable!==!0)return!1}return!0}},{"object-keys":49}],44:[function(_dereq_,module,exports){"use strict";var keys=_dereq_("object-keys"),bind=_dereq_("function-bind"),canBeObject=function(obj){return"undefined"!=typeof obj&&null!==obj},hasSymbols=_dereq_("./hasSymbols")(),toObject=Object,push=bind.call(Function.call,Array.prototype.push),propIsEnumerable=bind.call(Function.call,Object.prototype.propertyIsEnumerable);module.exports=function(target,source1){if(!canBeObject(target))throw new TypeError("target must be an object");var s,source,i,props,syms,objTarget=toObject(target);for(s=1;s<arguments.length;++s){if(source=toObject(arguments[s]),props=keys(source),hasSymbols&&Object.getOwnPropertySymbols)for(syms=Object.getOwnPropertySymbols(source),i=0;i<syms.length;++i)propIsEnumerable(source,syms[i])&&push(props,syms[i]);for(i=0;i<props.length;++i)objTarget[props[i]]=source[props[i]]}return objTarget}},{"./hasSymbols":43,"function-bind":48,"object-keys":49}],45:[function(_dereq_,module,exports){"use strict";var defineProperties=_dereq_("define-properties"),implementation=_dereq_("./implementation"),getPolyfill=_dereq_("./polyfill"),shim=_dereq_("./shim");defineProperties(implementation,{implementation:implementation,getPolyfill:getPolyfill,shim:shim}),module.exports=implementation},{"./implementation":44,"./polyfill":51,"./shim":52,"define-properties":46}],46:[function(_dereq_,module,exports){"use strict";var keys=_dereq_("object-keys"),foreach=_dereq_("foreach"),hasSymbols="function"==typeof Symbol&&"symbol"==typeof Symbol(),toStr=Object.prototype.toString,isFunction=function(fn){return"function"==typeof fn&&"[object Function]"===toStr.call(fn)},arePropertyDescriptorsSupported=function(){var obj={};try{Object.defineProperty(obj,"x",{enumerable:!1,value:obj});for(var _ in obj)return!1;return obj.x===obj}catch(e){return!1}},supportsDescriptors=Object.defineProperty&&arePropertyDescriptorsSupported(),defineProperty=function(object,name,value,predicate){(!(name in object)||isFunction(predicate)&&predicate())&&(supportsDescriptors?Object.defineProperty(object,name,{configurable:!0,enumerable:!1,value:value,writable:!0}):object[name]=value)},defineProperties=function(object,map){var predicates=arguments.length>2?arguments[2]:{},props=keys(map);hasSymbols&&(props=props.concat(Object.getOwnPropertySymbols(map))),foreach(props,function(name){defineProperty(object,name,map[name],predicates[name])})};defineProperties.supportsDescriptors=!!supportsDescriptors,module.exports=defineProperties},{foreach:47,"object-keys":49}],47:[function(_dereq_,module,exports){var hasOwn=Object.prototype.hasOwnProperty,toString=Object.prototype.toString;module.exports=function(obj,fn,ctx){if("[object Function]"!==toString.call(fn))throw new TypeError("iterator must be a function");var l=obj.length;if(l===+l)for(var i=0;l>i;i++)fn.call(ctx,obj[i],i,obj);else for(var k in obj)hasOwn.call(obj,k)&&fn.call(ctx,obj[k],k,obj)}},{}],48:[function(_dereq_,module,exports){var ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice=Array.prototype.slice,toStr=Object.prototype.toString,funcType="[object Function]";module.exports=function(that){var target=this;if("function"!=typeof target||toStr.call(target)!==funcType)throw new TypeError(ERROR_MESSAGE+target);for(var args=slice.call(arguments,1),binder=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))},boundLength=Math.max(0,target.length-args.length),boundArgs=[],i=0;boundLength>i;i++)boundArgs.push("$"+i);var bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this,arguments); }")(binder);if(target.prototype){var Empty=function(){};Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null}return bound}},{}],49:[function(_dereq_,module,exports){"use strict";var has=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,slice=Array.prototype.slice,isArgs=_dereq_("./isArguments"),hasDontEnumBug=!{toString:null}.propertyIsEnumerable("toString"),hasProtoEnumBug=function(){}.propertyIsEnumerable("prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(o){var ctor=o.constructor;return ctor&&ctor.prototype===o},blacklistedKeys={$console:!0,$frame:!0,$frameElement:!0,$frames:!0,$parent:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if("undefined"==typeof window)return!1;for(var k in window)try{if(!blacklistedKeys["$"+k]&&has.call(window,k)&&null!==window[k]&&"object"==typeof window[k])try{equalsConstructorPrototype(window[k])}catch(e){return!0}}catch(e){return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(o){if("undefined"==typeof window||!hasAutomationEqualityBug)return equalsConstructorPrototype(o);try{return equalsConstructorPrototype(o)}catch(e){return!1}},keysShim=function(object){var isObject=null!==object&&"object"==typeof object,isFunction="[object Function]"===toStr.call(object),isArguments=isArgs(object),isString=isObject&&"[object String]"===toStr.call(object),theKeys=[];if(!isObject&&!isFunction&&!isArguments)throw new TypeError("Object.keys called on a non-object");var skipProto=hasProtoEnumBug&&isFunction;if(isString&&object.length>0&&!has.call(object,0))for(var i=0;i<object.length;++i)theKeys.push(String(i));if(isArguments&&object.length>0)for(var j=0;j<object.length;++j)theKeys.push(String(j));else for(var name in object)skipProto&&"prototype"===name||!has.call(object,name)||theKeys.push(String(name));if(hasDontEnumBug)for(var skipConstructor=equalsConstructorPrototypeIfNotBuggy(object),k=0;k<dontEnums.length;++k)skipConstructor&&"constructor"===dontEnums[k]||!has.call(object,dontEnums[k])||theKeys.push(dontEnums[k]);return theKeys};keysShim.shim=function(){if(Object.keys){var keysWorksWithArguments=function(){return 2===(Object.keys(arguments)||"").length}(1,2);if(!keysWorksWithArguments){var originalKeys=Object.keys;Object.keys=function(object){return originalKeys(isArgs(object)?slice.call(object):object)}}}else Object.keys=keysShim;return Object.keys||keysShim},module.exports=keysShim},{"./isArguments":50}],50:[function(_dereq_,module,exports){
"use strict";var toStr=Object.prototype.toString;module.exports=function(value){var str=toStr.call(value),isArgs="[object Arguments]"===str;return isArgs||(isArgs="[object Array]"!==str&&null!==value&&"object"==typeof value&&"number"==typeof value.length&&value.length>=0&&"[object Function]"===toStr.call(value.callee)),isArgs}},{}],51:[function(_dereq_,module,exports){"use strict";var implementation=_dereq_("./implementation"),assignHasPendingExceptions=function(){if(!Object.assign||!Object.preventExtensions)return!1;var thrower=Object.preventExtensions({1:2});try{Object.assign(thrower,"xy")}catch(e){return"y"===thrower[1]}};module.exports=function(){return!Object.assign||assignHasPendingExceptions()?implementation:Object.assign}},{"./implementation":44}],52:[function(_dereq_,module,exports){"use strict";var define=_dereq_("define-properties"),getPolyfill=_dereq_("./polyfill");module.exports=function(){var polyfill=getPolyfill();return Object.assign!==polyfill&&define(Object,{assign:polyfill}),polyfill}},{"./polyfill":51,"define-properties":46}],53:[function(_dereq_,module,exports){function SafeParseTuple(obj,reviver){var json,error=null;try{json=JSON.parse(obj,reviver)}catch(err){error=err}return[error,json]}module.exports=SafeParseTuple},{}],54:[function(_dereq_,module,exports){function clean(s){return s.replace(/\n\r?\s*/g,"")}module.exports=function(sa){for(var s="",i=0;i<arguments.length;i++)s+=clean(sa[i])+(arguments[i+1]||"");return s}},{}],55:[function(_dereq_,module,exports){"use strict";function isEmpty(obj){for(var i in obj)if(obj.hasOwnProperty(i))return!1;return!0}function createXHR(options,callback){function readystatechange(){4===xhr.readyState&&loadFunc()}function getBody(){var body=void 0;if(xhr.response?body=xhr.response:"text"!==xhr.responseType&&xhr.responseType||(body=xhr.responseText||xhr.responseXML),isJson)try{body=JSON.parse(body)}catch(e){}return body}function errorFunc(evt){clearTimeout(timeoutTimer),evt instanceof Error||(evt=new Error(""+(evt||"Unknown XMLHttpRequest Error"))),evt.statusCode=0,callback(evt,failureResponse)}function loadFunc(){if(!aborted){var status;clearTimeout(timeoutTimer),status=options.useXDR&&void 0===xhr.status?200:1223===xhr.status?204:xhr.status;var response=failureResponse,err=null;0!==status?(response={body:getBody(),statusCode:status,method:method,headers:{},url:uri,rawRequest:xhr},xhr.getAllResponseHeaders&&(response.headers=parseHeaders(xhr.getAllResponseHeaders()))):err=new Error("Internal XMLHttpRequest Error"),callback(err,response,response.body)}}var failureResponse={body:void 0,headers:{},statusCode:0,method:method,url:uri,rawRequest:xhr};if("string"==typeof options&&(options={uri:options}),options=options||{},"undefined"==typeof callback)throw new Error("callback argument missing");callback=once(callback);var xhr=options.xhr||null;xhr||(xhr=options.cors||options.useXDR?new createXHR.XDomainRequest:new createXHR.XMLHttpRequest);var key,aborted,timeoutTimer,uri=xhr.url=options.uri||options.url,method=xhr.method=options.method||"GET",body=options.body||options.data,headers=xhr.headers=options.headers||{},sync=!!options.sync,isJson=!1;if("json"in options&&(isJson=!0,headers.accept||headers.Accept||(headers.Accept="application/json"),"GET"!==method&&"HEAD"!==method&&(headers["content-type"]||headers["Content-Type"]||(headers["Content-Type"]="application/json"),body=JSON.stringify(options.json))),xhr.onreadystatechange=readystatechange,xhr.onload=loadFunc,xhr.onerror=errorFunc,xhr.onprogress=function(){},xhr.ontimeout=errorFunc,xhr.open(method,uri,!sync,options.username,options.password),sync||(xhr.withCredentials=!!options.withCredentials),!sync&&options.timeout>0&&(timeoutTimer=setTimeout(function(){aborted=!0,xhr.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",errorFunc(e)},options.timeout)),xhr.setRequestHeader)for(key in headers)headers.hasOwnProperty(key)&&xhr.setRequestHeader(key,headers[key]);else if(options.headers&&!isEmpty(options.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in options&&(xhr.responseType=options.responseType),"beforeSend"in options&&"function"==typeof options.beforeSend&&options.beforeSend(xhr),xhr.send(body),xhr}function noop(){}var window=_dereq_("global/window"),once=_dereq_("once"),parseHeaders=_dereq_("parse-headers");module.exports=createXHR,createXHR.XMLHttpRequest=window.XMLHttpRequest||noop,createXHR.XDomainRequest="withCredentials"in new createXHR.XMLHttpRequest?createXHR.XMLHttpRequest:window.XDomainRequest},{"global/window":2,once:56,"parse-headers":60}],56:[function(_dereq_,module,exports){function once(fn){var called=!1;return function(){return called?void 0:(called=!0,fn.apply(this,arguments))}}module.exports=once,once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0})})},{}],57:[function(_dereq_,module,exports){function forEach(list,iterator,context){if(!isFunction(iterator))throw new TypeError("iterator must be a function");arguments.length<3&&(context=this),"[object Array]"===toString.call(list)?forEachArray(list,iterator,context):"string"==typeof list?forEachString(list,iterator,context):forEachObject(list,iterator,context)}function forEachArray(array,iterator,context){for(var i=0,len=array.length;len>i;i++)hasOwnProperty.call(array,i)&&iterator.call(context,array[i],i,array)}function forEachString(string,iterator,context){for(var i=0,len=string.length;len>i;i++)iterator.call(context,string.charAt(i),i,string)}function forEachObject(object,iterator,context){for(var k in object)hasOwnProperty.call(object,k)&&iterator.call(context,object[k],k,object)}var isFunction=_dereq_("is-function");module.exports=forEach;var toString=Object.prototype.toString,hasOwnProperty=Object.prototype.hasOwnProperty},{"is-function":58}],58:[function(_dereq_,module,exports){function isFunction(fn){var string=toString.call(fn);return"[object Function]"===string||"function"==typeof fn&&"[object RegExp]"!==string||"undefined"!=typeof window&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt)}module.exports=isFunction;var toString=Object.prototype.toString},{}],59:[function(_dereq_,module,exports){function trim(str){return str.replace(/^\s*|\s*$/g,"")}exports=module.exports=trim,exports.left=function(str){return str.replace(/^\s*/,"")},exports.right=function(str){return str.replace(/\s*$/,"")}},{}],60:[function(_dereq_,module,exports){var trim=_dereq_("trim"),forEach=_dereq_("for-each"),isArray=function(arg){return"[object Array]"===Object.prototype.toString.call(arg)};module.exports=function(headers){if(!headers)return{};var result={};return forEach(trim(headers).split("\n"),function(row){var index=row.indexOf(":"),key=trim(row.slice(0,index)).toLowerCase(),value=trim(row.slice(index+1));"undefined"==typeof result[key]?result[key]=value:isArray(result[key])?result[key].push(value):result[key]=[result[key],value]}),result}},{"for-each":57,trim:59}],61:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _buttonJs=_dereq_("./button.js"),_buttonJs2=_interopRequireDefault(_buttonJs),_componentJs=_dereq_("./component.js"),_componentJs2=_interopRequireDefault(_componentJs),BigPlayButton=function(_Button){function BigPlayButton(player,options){_classCallCheck(this,BigPlayButton),_Button.call(this,player,options)}return _inherits(BigPlayButton,_Button),BigPlayButton.prototype.buildCSSClass=function(){return"vjs-big-play-button"},BigPlayButton.prototype.handleClick=function(){this.player_.play()},BigPlayButton}(_buttonJs2["default"]);BigPlayButton.prototype.controlText_="Play Video",_componentJs2["default"].registerComponent("BigPlayButton",BigPlayButton),exports["default"]=BigPlayButton,module.exports=exports["default"]},{"./button.js":62,"./component.js":63}],62:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_("./component"),_component2=_interopRequireDefault(_component),_utilsDomJs=_dereq_("./utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_utilsEventsJs=_dereq_("./utils/events.js"),Events=_interopRequireWildcard(_utilsEventsJs),_utilsFnJs=_dereq_("./utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),_objectAssign=_dereq_("object.assign"),_objectAssign2=_interopRequireDefault(_objectAssign),Button=function(_Component){function Button(player,options){_classCallCheck(this,Button),_Component.call(this,player,options),this.emitTapEvents(),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur)}return _inherits(Button,_Component),Button.prototype.createEl=function(){var tag=arguments.length<=0||void 0===arguments[0]?"button":arguments[0],props=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],attributes=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];props=_objectAssign2["default"]({className:this.buildCSSClass(),tabIndex:0},props),attributes=_objectAssign2["default"]({role:"button",type:"button","aria-live":"polite"},attributes);var el=_Component.prototype.createEl.call(this,tag,props,attributes);return this.controlTextEl_=Dom.createEl("span",{className:"vjs-control-text"}),el.appendChild(this.controlTextEl_),this.controlText(this.controlText_),el},Button.prototype.controlText=function(text){return text?(this.controlText_=text,this.controlTextEl_.innerHTML=this.localize(this.controlText_),this):this.controlText_||"Need Text"},Button.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+_Component.prototype.buildCSSClass.call(this)},Button.prototype.handleClick=function(){},Button.prototype.handleFocus=function(){Events.on(_globalDocument2["default"],"keydown",Fn.bind(this,this.handleKeyPress))},Button.prototype.handleKeyPress=function(event){(32===event.which||13===event.which)&&(event.preventDefault(),this.handleClick(event))},Button.prototype.handleBlur=function(){Events.off(_globalDocument2["default"],"keydown",Fn.bind(this,this.handleKeyPress))},Button}(_component2["default"]);_component2["default"].registerComponent("Button",Button),exports["default"]=Button,module.exports=exports["default"]},{"./component":63,"./utils/dom.js":123,"./utils/events.js":124,"./utils/fn.js":125,"global/document":1,"object.assign":45}],63:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var _globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),_utilsDomJs=_dereq_("./utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_utilsFnJs=_dereq_("./utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_utilsGuidJs=_dereq_("./utils/guid.js"),Guid=_interopRequireWildcard(_utilsGuidJs),_utilsEventsJs=_dereq_("./utils/events.js"),Events=_interopRequireWildcard(_utilsEventsJs),_utilsLogJs=_dereq_("./utils/log.js"),_utilsLogJs2=_interopRequireDefault(_utilsLogJs),_utilsToTitleCaseJs=_dereq_("./utils/to-title-case.js"),_utilsToTitleCaseJs2=_interopRequireDefault(_utilsToTitleCaseJs),_objectAssign=_dereq_("object.assign"),_objectAssign2=_interopRequireDefault(_objectAssign),_utilsMergeOptionsJs=_dereq_("./utils/merge-options.js"),_utilsMergeOptionsJs2=_interopRequireDefault(_utilsMergeOptionsJs),Component=function(){function Component(player,options,ready){if(_classCallCheck(this,Component),!player&&this.play?this.player_=player=this:this.player_=player,this.options_=_utilsMergeOptionsJs2["default"]({},this.options_),options=this.options_=_utilsMergeOptionsJs2["default"](this.options_,options),this.id_=options.id||options.el&&options.el.id,!this.id_){var id=player&&player.id&&player.id()||"no_player";this.id_=id+"_component_"+Guid.newGUID()}this.name_=options.name||null,options.el?this.el_=options.el:options.createEl!==!1&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},options.initChildren!==!1&&this.initChildren(),this.ready(ready),options.reportTouchActivity!==!1&&this.enableTouchActivity()}return Component.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Dom.removeElData(this.el_),this.el_=null},Component.prototype.player=function(){return this.player_},Component.prototype.options=function(obj){return _utilsLogJs2["default"].warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),obj?(this.options_=_utilsMergeOptionsJs2["default"](this.options_,obj),this.options_):this.options_},Component.prototype.el=function(){return this.el_},Component.prototype.createEl=function(tagName,properties,attributes){return Dom.createEl(tagName,properties,attributes)},Component.prototype.localize=function(string){var code=this.player_.language&&this.player_.language(),languages=this.player_.languages&&this.player_.languages();if(!code||!languages)return string;var language=languages[code];if(language&&language[string])return language[string];var primaryCode=code.split("-")[0],primaryLang=languages[primaryCode];return primaryLang&&primaryLang[string]?primaryLang[string]:string},Component.prototype.contentEl=function(){return this.contentEl_||this.el_},Component.prototype.id=function(){return this.id_},Component.prototype.name=function(){return this.name_},Component.prototype.children=function(){return this.children_},Component.prototype.getChildById=function(id){return this.childIndex_[id]},Component.prototype.getChild=function(name){return this.childNameIndex_[name]},Component.prototype.addChild=function(child){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],component=void 0,componentName=void 0;if("string"==typeof child){componentName=child,options||(options={}),options===!0&&(_utilsLogJs2["default"].warn("Initializing a child component with `true` is deprecated. Children should be defined in an array when possible, but if necessary use an object instead of `true`."),options={});var componentClassName=options.componentClass||_utilsToTitleCaseJs2["default"](componentName);options.name=componentName;var ComponentClass=Component.getComponent(componentClassName);component=new ComponentClass(this.player_||this,options)}else component=child;return this.children_.push(component),"function"==typeof component.id&&(this.childIndex_[component.id()]=component),componentName=componentName||component.name&&component.name(),componentName&&(this.childNameIndex_[componentName]=component),"function"==typeof component.el&&component.el()&&this.contentEl().appendChild(component.el()),component},Component.prototype.removeChild=function(component){if("string"==typeof component&&(component=this.getChild(component)),component&&this.children_){for(var childFound=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===component){childFound=!0,this.children_.splice(i,1);break}if(childFound){this.childIndex_[component.id()]=null,this.childNameIndex_[component.name()]=null;var compEl=component.el();compEl&&compEl.parentNode===this.contentEl()&&this.contentEl().removeChild(component.el())}}},Component.prototype.initChildren=function(){var _this=this,children=this.options_.children;children&&!function(){var parentOptions=_this.options_,handleAdd=function(name,opts){void 0!==parentOptions[name]&&(opts=parentOptions[name]),opts!==!1&&(opts===!0&&(opts={}),opts.playerOptions=_this.options_.playerOptions,_this[name]=_this.addChild(name,opts))};if(Array.isArray(children))for(var i=0;i<children.length;i++){var child=children[i],_name=void 0,opts=void 0;"string"==typeof child?(_name=child,opts={}):(_name=child.name,opts=child),handleAdd(_name,opts)}else Object.getOwnPropertyNames(children).forEach(function(name){handleAdd(name,children[name])})}()},Component.prototype.buildCSSClass=function(){return""},Component.prototype.on=function(first,second,third){var _this2=this;return"string"==typeof first||Array.isArray(first)?Events.on(this.el_,first,Fn.bind(this,second)):!function(){var target=first,type=second,fn=Fn.bind(_this2,third),removeOnDispose=function(){return _this2.off(target,type,fn)};removeOnDispose.guid=fn.guid,_this2.on("dispose",removeOnDispose);var cleanRemover=function(){return _this2.off("dispose",removeOnDispose)};cleanRemover.guid=fn.guid,first.nodeName?(Events.on(target,type,fn),Events.on(target,"dispose",cleanRemover)):"function"==typeof first.on&&(target.on(type,fn),target.on("dispose",cleanRemover))}(),this},Component.prototype.off=function(first,second,third){if(!first||"string"==typeof first||Array.isArray(first))Events.off(this.el_,first,second);else{var target=first,type=second,fn=Fn.bind(this,third);this.off("dispose",fn),first.nodeName?(Events.off(target,type,fn),Events.off(target,"dispose",fn)):(target.off(type,fn),target.off("dispose",fn))}return this},Component.prototype.one=function(first,second,third){var _this3=this,_arguments=arguments;return"string"==typeof first||Array.isArray(first)?Events.one(this.el_,first,Fn.bind(this,second)):!function(){var target=first,type=second,fn=Fn.bind(_this3,third),newFunc=function newFunc(){_this3.off(target,type,newFunc),fn.apply(null,_arguments)};newFunc.guid=fn.guid,_this3.on(target,type,newFunc)}(),this},Component.prototype.trigger=function(event,hash){return Events.trigger(this.el_,event,hash),this},Component.prototype.ready=function(fn){var sync=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return fn&&(this.isReady_?sync?fn.call(this):this.setTimeout(fn,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(fn))),this},Component.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var readyQueue=this.readyQueue_;this.readyQueue_=[],readyQueue&&readyQueue.length>0&&readyQueue.forEach(function(fn){fn.call(this)},this),this.trigger("ready")},1)},Component.prototype.hasClass=function(classToCheck){return Dom.hasElClass(this.el_,classToCheck)},Component.prototype.addClass=function(classToAdd){return Dom.addElClass(this.el_,classToAdd),this},Component.prototype.removeClass=function(classToRemove){return Dom.removeElClass(this.el_,classToRemove),this},Component.prototype.show=function(){return this.removeClass("vjs-hidden"),this},Component.prototype.hide=function(){return this.addClass("vjs-hidden"),this},Component.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},Component.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},Component.prototype.width=function(num,skipListeners){return this.dimension("width",num,skipListeners)},Component.prototype.height=function(num,skipListeners){return this.dimension("height",num,skipListeners)},Component.prototype.dimensions=function(width,height){return this.width(width,!0).height(height)},Component.prototype.dimension=function(widthOrHeight,num,skipListeners){if(void 0!==num)return(null===num||num!==num)&&(num=0),-1!==(""+num).indexOf("%")||-1!==(""+num).indexOf("px")?this.el_.style[widthOrHeight]=num:"auto"===num?this.el_.style[widthOrHeight]="":this.el_.style[widthOrHeight]=num+"px",skipListeners||this.trigger("resize"),this;if(!this.el_)return 0;var val=this.el_.style[widthOrHeight],pxIndex=val.indexOf("px");return-1!==pxIndex?parseInt(val.slice(0,pxIndex),10):parseInt(this.el_["offset"+_utilsToTitleCaseJs2["default"](widthOrHeight)],10)},Component.prototype.emitTapEvents=function(){var touchStart=0,firstTouch=null,tapMovementThreshold=10,touchTimeThreshold=200,couldBeTap=void 0;this.on("touchstart",function(event){1===event.touches.length&&(firstTouch=_objectAssign2["default"]({},event.touches[0]),touchStart=(new Date).getTime(),couldBeTap=!0)}),this.on("touchmove",function(event){if(event.touches.length>1)couldBeTap=!1;else if(firstTouch){var xdiff=event.touches[0].pageX-firstTouch.pageX,ydiff=event.touches[0].pageY-firstTouch.pageY,touchDistance=Math.sqrt(xdiff*xdiff+ydiff*ydiff);touchDistance>tapMovementThreshold&&(couldBeTap=!1)}});var noTap=function(){couldBeTap=!1};this.on("touchleave",noTap),this.on("touchcancel",noTap),this.on("touchend",function(event){if(firstTouch=null,couldBeTap===!0){var touchTime=(new Date).getTime()-touchStart;touchTimeThreshold>touchTime&&(event.preventDefault(),this.trigger("tap"))}})},Component.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var report=Fn.bind(this.player(),this.player().reportUserActivity),touchHolding=void 0;this.on("touchstart",function(){report(),this.clearInterval(touchHolding),touchHolding=this.setInterval(report,250)});var touchEnd=function(event){report(),this.clearInterval(touchHolding)};this.on("touchmove",report),this.on("touchend",touchEnd),this.on("touchcancel",touchEnd)}},Component.prototype.setTimeout=function(fn,timeout){fn=Fn.bind(this,fn);var timeoutId=_globalWindow2["default"].setTimeout(fn,timeout),disposeFn=function(){this.clearTimeout(timeoutId)};return disposeFn.guid="vjs-timeout-"+timeoutId,this.on("dispose",disposeFn),timeoutId},Component.prototype.clearTimeout=function(timeoutId){_globalWindow2["default"].clearTimeout(timeoutId);var disposeFn=function(){};return disposeFn.guid="vjs-timeout-"+timeoutId,this.off("dispose",disposeFn),timeoutId},Component.prototype.setInterval=function(fn,interval){fn=Fn.bind(this,fn);var intervalId=_globalWindow2["default"].setInterval(fn,interval),disposeFn=function(){this.clearInterval(intervalId)};return disposeFn.guid="vjs-interval-"+intervalId,this.on("dispose",disposeFn),intervalId},Component.prototype.clearInterval=function(intervalId){_globalWindow2["default"].clearInterval(intervalId);var disposeFn=function(){};return disposeFn.guid="vjs-interval-"+intervalId,this.off("dispose",disposeFn),intervalId},Component.registerComponent=function(name,comp){return Component.components_||(Component.components_={}),Component.components_[name]=comp,comp},Component.getComponent=function(name){return Component.components_&&Component.components_[name]?Component.components_[name]:_globalWindow2["default"]&&_globalWindow2["default"].videojs&&_globalWindow2["default"].videojs[name]?(_utilsLogJs2["default"].warn("The "+name+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),_globalWindow2["default"].videojs[name]):void 0},Component.extend=function(props){props=props||{},_utilsLogJs2["default"].warn("Component.extend({}) has been deprecated, use videojs.extend(Component, {}) instead");var init=props.init||props.init||this.prototype.init||this.prototype.init||function(){},subObj=function(){init.apply(this,arguments)};subObj.prototype=Object.create(this.prototype),subObj.prototype.constructor=subObj,subObj.extend=Component.extend;for(var _name2 in props)props.hasOwnProperty(_name2)&&(subObj.prototype[_name2]=props[_name2]);return subObj},Component}();Component.registerComponent("Component",Component),exports["default"]=Component,module.exports=exports["default"]},{"./utils/dom.js":123,"./utils/events.js":124,"./utils/fn.js":125,"./utils/guid.js":127,"./utils/log.js":128,"./utils/merge-options.js":129,"./utils/to-title-case.js":132,"global/window":2,"object.assign":45}],64:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_playToggleJs=_dereq_("./play-toggle.js"),_timeControlsCurrentTimeDisplayJs=(_interopRequireDefault(_playToggleJs),_dereq_("./time-controls/current-time-display.js")),_timeControlsDurationDisplayJs=(_interopRequireDefault(_timeControlsCurrentTimeDisplayJs),_dereq_("./time-controls/duration-display.js")),_timeControlsTimeDividerJs=(_interopRequireDefault(_timeControlsDurationDisplayJs),_dereq_("./time-controls/time-divider.js")),_timeControlsRemainingTimeDisplayJs=(_interopRequireDefault(_timeControlsTimeDividerJs),_dereq_("./time-controls/remaining-time-display.js")),_liveDisplayJs=(_interopRequireDefault(_timeControlsRemainingTimeDisplayJs),_dereq_("./live-display.js")),_progressControlProgressControlJs=(_interopRequireDefault(_liveDisplayJs),_dereq_("./progress-control/progress-control.js")),_fullscreenToggleJs=(_interopRequireDefault(_progressControlProgressControlJs),_dereq_("./fullscreen-toggle.js")),_volumeControlVolumeControlJs=(_interopRequireDefault(_fullscreenToggleJs),_dereq_("./volume-control/volume-control.js")),_volumeMenuButtonJs=(_interopRequireDefault(_volumeControlVolumeControlJs),_dereq_("./volume-menu-button.js")),_muteToggleJs=(_interopRequireDefault(_volumeMenuButtonJs),_dereq_("./mute-toggle.js")),_textTrackControlsChaptersButtonJs=(_interopRequireDefault(_muteToggleJs),_dereq_("./text-track-controls/chapters-button.js")),_textTrackControlsSubtitlesButtonJs=(_interopRequireDefault(_textTrackControlsChaptersButtonJs),_dereq_("./text-track-controls/subtitles-button.js")),_textTrackControlsCaptionsButtonJs=(_interopRequireDefault(_textTrackControlsSubtitlesButtonJs),_dereq_("./text-track-controls/captions-button.js")),_playbackRateMenuPlaybackRateMenuButtonJs=(_interopRequireDefault(_textTrackControlsCaptionsButtonJs),_dereq_("./playback-rate-menu/playback-rate-menu-button.js")),_spacerControlsCustomControlSpacerJs=(_interopRequireDefault(_playbackRateMenuPlaybackRateMenuButtonJs),_dereq_("./spacer-controls/custom-control-spacer.js")),ControlBar=(_interopRequireDefault(_spacerControlsCustomControlSpacerJs),function(_Component){function ControlBar(){_classCallCheck(this,ControlBar),_Component.apply(this,arguments)}return _inherits(ControlBar,_Component),ControlBar.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-control-bar"})},ControlBar}(_componentJs2["default"]));ControlBar.prototype.options_={loadEvent:"play",children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","subtitlesButton","captionsButton","fullscreenToggle"]},_componentJs2["default"].registerComponent("ControlBar",ControlBar),exports["default"]=ControlBar,module.exports=exports["default"]},{"../component.js":63,"./fullscreen-toggle.js":65,"./live-display.js":66,"./mute-toggle.js":67,"./play-toggle.js":68,"./playback-rate-menu/playback-rate-menu-button.js":69,"./progress-control/progress-control.js":74,"./spacer-controls/custom-control-spacer.js":76,"./text-track-controls/captions-button.js":79,"./text-track-controls/chapters-button.js":80,"./text-track-controls/subtitles-button.js":83,"./time-controls/current-time-display.js":86,"./time-controls/duration-display.js":87,"./time-controls/remaining-time-display.js":88,"./time-controls/time-divider.js":89,"./volume-control/volume-control.js":91,"./volume-menu-button.js":93}],65:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _buttonJs=_dereq_("../button.js"),_buttonJs2=_interopRequireDefault(_buttonJs),_componentJs=_dereq_("../component.js"),_componentJs2=_interopRequireDefault(_componentJs),FullscreenToggle=function(_Button){function FullscreenToggle(){_classCallCheck(this,FullscreenToggle),_Button.apply(this,arguments)}return _inherits(FullscreenToggle,_Button),FullscreenToggle.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+_Button.prototype.buildCSSClass.call(this)},FullscreenToggle.prototype.handleClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText("Fullscreen")):(this.player_.requestFullscreen(),this.controlText("Non-Fullscreen"))},FullscreenToggle}(_buttonJs2["default"]);FullscreenToggle.prototype.controlText_="Fullscreen",_componentJs2["default"].registerComponent("FullscreenToggle",FullscreenToggle),exports["default"]=FullscreenToggle,module.exports=exports["default"]},{"../button.js":62,"../component.js":63}],66:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);
subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_("../component"),_component2=_interopRequireDefault(_component),_utilsDomJs=_dereq_("../utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),LiveDisplay=function(_Component){function LiveDisplay(player,options){_classCallCheck(this,LiveDisplay),_Component.call(this,player,options),this.updateShowing(),this.on(this.player(),"durationchange",this.updateShowing)}return _inherits(LiveDisplay,_Component),LiveDisplay.prototype.createEl=function(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Dom.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),el.appendChild(this.contentEl_),el},LiveDisplay.prototype.updateShowing=function(){this.player().duration()===1/0?this.show():this.hide()},LiveDisplay}(_component2["default"]);_component2["default"].registerComponent("LiveDisplay",LiveDisplay),exports["default"]=LiveDisplay,module.exports=exports["default"]},{"../component":63,"../utils/dom.js":123}],67:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _button=_dereq_("../button"),_button2=_interopRequireDefault(_button),_component=_dereq_("../component"),_component2=_interopRequireDefault(_component),_utilsDomJs=_dereq_("../utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),MuteToggle=function(_Button){function MuteToggle(player,options){_classCallCheck(this,MuteToggle),_Button.call(this,player,options),this.on(player,"volumechange",this.update),player.tech_&&player.tech_.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(player,"loadstart",function(){this.update(),player.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return _inherits(MuteToggle,_Button),MuteToggle.prototype.buildCSSClass=function(){return"vjs-mute-control "+_Button.prototype.buildCSSClass.call(this)},MuteToggle.prototype.handleClick=function(){this.player_.muted(this.player_.muted()?!1:!0)},MuteToggle.prototype.update=function(){var vol=this.player_.volume(),level=3;0===vol||this.player_.muted()?level=0:.33>vol?level=1:.67>vol&&(level=2);var toMute=this.player_.muted()?"Unmute":"Mute",localizedMute=this.localize(toMute);this.controlText()!==localizedMute&&this.controlText(localizedMute);for(var i=0;4>i;i++)Dom.removeElClass(this.el_,"vjs-vol-"+i);Dom.addElClass(this.el_,"vjs-vol-"+level)},MuteToggle}(_button2["default"]);MuteToggle.prototype.controlText_="Mute",_component2["default"].registerComponent("MuteToggle",MuteToggle),exports["default"]=MuteToggle,module.exports=exports["default"]},{"../button":62,"../component":63,"../utils/dom.js":123}],68:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _buttonJs=_dereq_("../button.js"),_buttonJs2=_interopRequireDefault(_buttonJs),_componentJs=_dereq_("../component.js"),_componentJs2=_interopRequireDefault(_componentJs),PlayToggle=function(_Button){function PlayToggle(player,options){_classCallCheck(this,PlayToggle),_Button.call(this,player,options),this.on(player,"play",this.handlePlay),this.on(player,"pause",this.handlePause)}return _inherits(PlayToggle,_Button),PlayToggle.prototype.buildCSSClass=function(){return"vjs-play-control "+_Button.prototype.buildCSSClass.call(this)},PlayToggle.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},PlayToggle.prototype.handlePlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},PlayToggle.prototype.handlePause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},PlayToggle}(_buttonJs2["default"]);PlayToggle.prototype.controlText_="Play",_componentJs2["default"].registerComponent("PlayToggle",PlayToggle),exports["default"]=PlayToggle,module.exports=exports["default"]},{"../button.js":62,"../component.js":63}],69:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _menuMenuButtonJs=_dereq_("../../menu/menu-button.js"),_menuMenuButtonJs2=_interopRequireDefault(_menuMenuButtonJs),_menuMenuJs=_dereq_("../../menu/menu.js"),_menuMenuJs2=_interopRequireDefault(_menuMenuJs),_playbackRateMenuItemJs=_dereq_("./playback-rate-menu-item.js"),_playbackRateMenuItemJs2=_interopRequireDefault(_playbackRateMenuItemJs),_componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_utilsDomJs=_dereq_("../../utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),PlaybackRateMenuButton=function(_MenuButton){function PlaybackRateMenuButton(player,options){_classCallCheck(this,PlaybackRateMenuButton),_MenuButton.call(this,player,options),this.updateVisibility(),this.updateLabel(),this.on(player,"loadstart",this.updateVisibility),this.on(player,"ratechange",this.updateLabel)}return _inherits(PlaybackRateMenuButton,_MenuButton),PlaybackRateMenuButton.prototype.createEl=function(){var el=_MenuButton.prototype.createEl.call(this);return this.labelEl_=Dom.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),el.appendChild(this.labelEl_),el},PlaybackRateMenuButton.prototype.buildCSSClass=function(){return"vjs-playback-rate "+_MenuButton.prototype.buildCSSClass.call(this)},PlaybackRateMenuButton.prototype.createMenu=function(){var menu=new _menuMenuJs2["default"](this.player()),rates=this.playbackRates();if(rates)for(var i=rates.length-1;i>=0;i--)menu.addChild(new _playbackRateMenuItemJs2["default"](this.player(),{rate:rates[i]+"x"}));return menu},PlaybackRateMenuButton.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},PlaybackRateMenuButton.prototype.handleClick=function(){for(var currentRate=this.player().playbackRate(),rates=this.playbackRates(),newRate=rates[0],i=0;i<rates.length;i++)if(rates[i]>currentRate){newRate=rates[i];break}this.player().playbackRate(newRate)},PlaybackRateMenuButton.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},PlaybackRateMenuButton.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},PlaybackRateMenuButton.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},PlaybackRateMenuButton.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},PlaybackRateMenuButton}(_menuMenuButtonJs2["default"]);PlaybackRateMenuButton.prototype.controlText_="Playback Rate",_componentJs2["default"].registerComponent("PlaybackRateMenuButton",PlaybackRateMenuButton),exports["default"]=PlaybackRateMenuButton,module.exports=exports["default"]},{"../../component.js":63,"../../menu/menu-button.js":100,"../../menu/menu.js":102,"../../utils/dom.js":123,"./playback-rate-menu-item.js":70}],70:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _menuMenuItemJs=_dereq_("../../menu/menu-item.js"),_menuMenuItemJs2=_interopRequireDefault(_menuMenuItemJs),_componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),PlaybackRateMenuItem=function(_MenuItem){function PlaybackRateMenuItem(player,options){_classCallCheck(this,PlaybackRateMenuItem);var label=options.rate,rate=parseFloat(label,10);options.label=label,options.selected=1===rate,_MenuItem.call(this,player,options),this.label=label,this.rate=rate,this.on(player,"ratechange",this.update)}return _inherits(PlaybackRateMenuItem,_MenuItem),PlaybackRateMenuItem.prototype.handleClick=function(){_MenuItem.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},PlaybackRateMenuItem.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},PlaybackRateMenuItem}(_menuMenuItemJs2["default"]);PlaybackRateMenuItem.prototype.contentElType="button",_componentJs2["default"].registerComponent("PlaybackRateMenuItem",PlaybackRateMenuItem),exports["default"]=PlaybackRateMenuItem,module.exports=exports["default"]},{"../../component.js":63,"../../menu/menu-item.js":101}],71:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_utilsDomJs=_dereq_("../../utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),LoadProgressBar=function(_Component){function LoadProgressBar(player,options){_classCallCheck(this,LoadProgressBar),_Component.call(this,player,options),this.on(player,"progress",this.update)}return _inherits(LoadProgressBar,_Component),LoadProgressBar.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},LoadProgressBar.prototype.update=function(){var buffered=this.player_.buffered(),duration=this.player_.duration(),bufferedEnd=this.player_.bufferedEnd(),children=this.el_.children,percentify=function(time,end){var percent=time/end||0;return 100*(percent>=1?1:percent)+"%"};this.el_.style.width=percentify(bufferedEnd,duration);for(var i=0;i<buffered.length;i++){var start=buffered.start(i),end=buffered.end(i),part=children[i];part||(part=this.el_.appendChild(Dom.createEl())),part.style.left=percentify(start,bufferedEnd),part.style.width=percentify(end-start,bufferedEnd)}for(var i=children.length;i>buffered.length;i--)this.el_.removeChild(children[i-1])},LoadProgressBar}(_componentJs2["default"]);_componentJs2["default"].registerComponent("LoadProgressBar",LoadProgressBar),exports["default"]=LoadProgressBar,module.exports=exports["default"]},{"../../component.js":63,"../../utils/dom.js":123}],72:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_utilsDomJs=_dereq_("../../utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_utilsFnJs=_dereq_("../../utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_utilsFormatTimeJs=_dereq_("../../utils/format-time.js"),_utilsFormatTimeJs2=_interopRequireDefault(_utilsFormatTimeJs),_lodashCompatFunctionThrottle=_dereq_("lodash-compat/function/throttle"),_lodashCompatFunctionThrottle2=_interopRequireDefault(_lodashCompatFunctionThrottle),MouseTimeDisplay=function(_Component){function MouseTimeDisplay(player,options){var _this=this;_classCallCheck(this,MouseTimeDisplay),_Component.call(this,player,options),this.update(0,0),player.on("ready",function(){_this.on(player.controlBar.progressControl.el(),"mousemove",_lodashCompatFunctionThrottle2["default"](Fn.bind(_this,_this.handleMouseMove),25))})}return _inherits(MouseTimeDisplay,_Component),MouseTimeDisplay.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},MouseTimeDisplay.prototype.handleMouseMove=function(event){var duration=this.player_.duration(),newTime=this.calculateDistance(event)*duration,position=event.pageX-Dom.findElPosition(this.el().parentNode).left;this.update(newTime,position)},MouseTimeDisplay.prototype.update=function(newTime,position){var time=_utilsFormatTimeJs2["default"](newTime,this.player_.duration());this.el().style.left=position+"px",this.el().setAttribute("data-current-time",time)},MouseTimeDisplay.prototype.calculateDistance=function(event){return Dom.getPointerPosition(this.el().parentNode,event).x},MouseTimeDisplay}(_componentJs2["default"]);_componentJs2["default"].registerComponent("MouseTimeDisplay",MouseTimeDisplay),exports["default"]=MouseTimeDisplay,module.exports=exports["default"]},{"../../component.js":63,"../../utils/dom.js":123,"../../utils/fn.js":125,"../../utils/format-time.js":126,"lodash-compat/function/throttle":7}],73:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_utilsFnJs=_dereq_("../../utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_utilsFormatTimeJs=_dereq_("../../utils/format-time.js"),_utilsFormatTimeJs2=_interopRequireDefault(_utilsFormatTimeJs),PlayProgressBar=function(_Component){function PlayProgressBar(player,options){_classCallCheck(this,PlayProgressBar),_Component.call(this,player,options),this.updateDataAttr(),this.on(player,"timeupdate",this.updateDataAttr),player.ready(Fn.bind(this,this.updateDataAttr))}return _inherits(PlayProgressBar,_Component),PlayProgressBar.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},PlayProgressBar.prototype.updateDataAttr=function(){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",_utilsFormatTimeJs2["default"](time,this.player_.duration()))},PlayProgressBar}(_componentJs2["default"]);_componentJs2["default"].registerComponent("PlayProgressBar",PlayProgressBar),exports["default"]=PlayProgressBar,module.exports=exports["default"]},{"../../component.js":63,"../../utils/fn.js":125,"../../utils/format-time.js":126}],74:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_seekBarJs=_dereq_("./seek-bar.js"),_mouseTimeDisplayJs=(_interopRequireDefault(_seekBarJs),_dereq_("./mouse-time-display.js")),ProgressControl=(_interopRequireDefault(_mouseTimeDisplayJs),function(_Component){function ProgressControl(){_classCallCheck(this,ProgressControl),_Component.apply(this,arguments)}return _inherits(ProgressControl,_Component),ProgressControl.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},ProgressControl}(_componentJs2["default"]));ProgressControl.prototype.options_={children:["seekBar"]},_componentJs2["default"].registerComponent("ProgressControl",ProgressControl),exports["default"]=ProgressControl,module.exports=exports["default"]},{"../../component.js":63,"./mouse-time-display.js":72,"./seek-bar.js":75}],75:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _sliderSliderJs=_dereq_("../../slider/slider.js"),_sliderSliderJs2=_interopRequireDefault(_sliderSliderJs),_componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_loadProgressBarJs=_dereq_("./load-progress-bar.js"),_playProgressBarJs=(_interopRequireDefault(_loadProgressBarJs),_dereq_("./play-progress-bar.js")),_utilsFnJs=(_interopRequireDefault(_playProgressBarJs),_dereq_("../../utils/fn.js")),Fn=_interopRequireWildcard(_utilsFnJs),_utilsFormatTimeJs=_dereq_("../../utils/format-time.js"),_utilsFormatTimeJs2=_interopRequireDefault(_utilsFormatTimeJs),_objectAssign=_dereq_("object.assign"),SeekBar=(_interopRequireDefault(_objectAssign),function(_Slider){function SeekBar(player,options){_classCallCheck(this,SeekBar),_Slider.call(this,player,options),this.on(player,"timeupdate",this.updateARIAAttributes),player.ready(Fn.bind(this,this.updateARIAAttributes))}return _inherits(SeekBar,_Slider),SeekBar.prototype.createEl=function(){return _Slider.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"video progress bar"})},SeekBar.prototype.updateARIAAttributes=function(){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),this.el_.setAttribute("aria-valuetext",_utilsFormatTimeJs2["default"](time,this.player_.duration()))},SeekBar.prototype.getPercent=function(){var percent=this.player_.currentTime()/this.player_.duration();return percent>=1?1:percent},SeekBar.prototype.handleMouseDown=function(event){_Slider.prototype.handleMouseDown.call(this,event),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},SeekBar.prototype.handleMouseMove=function(event){var newTime=this.calculateDistance(event)*this.player_.duration();newTime===this.player_.duration()&&(newTime-=.1),this.player_.currentTime(newTime)},SeekBar.prototype.handleMouseUp=function(event){_Slider.prototype.handleMouseUp.call(this,event),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},SeekBar.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},SeekBar.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},SeekBar}(_sliderSliderJs2["default"]));SeekBar.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},SeekBar.prototype.playerEvent="timeupdate",_componentJs2["default"].registerComponent("SeekBar",SeekBar),exports["default"]=SeekBar,module.exports=exports["default"]},{"../../component.js":63,"../../slider/slider.js":107,"../../utils/fn.js":125,"../../utils/format-time.js":126,"./load-progress-bar.js":71,"./play-progress-bar.js":73,"object.assign":45}],76:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _spacerJs=_dereq_("./spacer.js"),_spacerJs2=_interopRequireDefault(_spacerJs),_componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),CustomControlSpacer=function(_Spacer){function CustomControlSpacer(){_classCallCheck(this,CustomControlSpacer),_Spacer.apply(this,arguments)}return _inherits(CustomControlSpacer,_Spacer),CustomControlSpacer.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+_Spacer.prototype.buildCSSClass.call(this)},CustomControlSpacer.prototype.createEl=function(){var el=_Spacer.prototype.createEl.call(this,{className:this.buildCSSClass()});return el.innerHTML="&nbsp;",el},CustomControlSpacer}(_spacerJs2["default"]);_componentJs2["default"].registerComponent("CustomControlSpacer",CustomControlSpacer),exports["default"]=CustomControlSpacer,module.exports=exports["default"]},{"../../component.js":63,"./spacer.js":77}],77:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),Spacer=function(_Component){function Spacer(){_classCallCheck(this,Spacer),_Component.apply(this,arguments)}return _inherits(Spacer,_Component),Spacer.prototype.buildCSSClass=function(){return"vjs-spacer "+_Component.prototype.buildCSSClass.call(this)},Spacer.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},Spacer}(_componentJs2["default"]);_componentJs2["default"].registerComponent("Spacer",Spacer),exports["default"]=Spacer,module.exports=exports["default"]},{"../../component.js":63}],78:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _textTrackMenuItemJs=_dereq_("./text-track-menu-item.js"),_textTrackMenuItemJs2=_interopRequireDefault(_textTrackMenuItemJs),_componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),CaptionSettingsMenuItem=function(_TextTrackMenuItem){function CaptionSettingsMenuItem(player,options){_classCallCheck(this,CaptionSettingsMenuItem),options.track={kind:options.kind,player:player,label:options.kind+" settings","default":!1,mode:"disabled"},_TextTrackMenuItem.call(this,player,options),this.addClass("vjs-texttrack-settings")}return _inherits(CaptionSettingsMenuItem,_TextTrackMenuItem),CaptionSettingsMenuItem.prototype.handleClick=function(){this.player().getChild("textTrackSettings").show()},CaptionSettingsMenuItem}(_textTrackMenuItemJs2["default"]);_componentJs2["default"].registerComponent("CaptionSettingsMenuItem",CaptionSettingsMenuItem),exports["default"]=CaptionSettingsMenuItem,module.exports=exports["default"]},{"../../component.js":63,"./text-track-menu-item.js":85}],79:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _textTrackButtonJs=_dereq_("./text-track-button.js"),_textTrackButtonJs2=_interopRequireDefault(_textTrackButtonJs),_componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_captionSettingsMenuItemJs=_dereq_("./caption-settings-menu-item.js"),_captionSettingsMenuItemJs2=_interopRequireDefault(_captionSettingsMenuItemJs),CaptionsButton=function(_TextTrackButton){function CaptionsButton(player,options,ready){_classCallCheck(this,CaptionsButton),_TextTrackButton.call(this,player,options,ready),this.el_.setAttribute("aria-label","Captions Menu")}return _inherits(CaptionsButton,_TextTrackButton),CaptionsButton.prototype.buildCSSClass=function(){return"vjs-captions-button "+_TextTrackButton.prototype.buildCSSClass.call(this)},CaptionsButton.prototype.update=function(){var threshold=2;_TextTrackButton.prototype.update.call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(threshold=1),this.items&&this.items.length>threshold?this.show():this.hide()},CaptionsButton.prototype.createItems=function(){var items=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||items.push(new _captionSettingsMenuItemJs2["default"](this.player_,{kind:this.kind_})),_TextTrackButton.prototype.createItems.call(this,items)},CaptionsButton}(_textTrackButtonJs2["default"]);CaptionsButton.prototype.kind_="captions",CaptionsButton.prototype.controlText_="Captions",_componentJs2["default"].registerComponent("CaptionsButton",CaptionsButton),exports["default"]=CaptionsButton,
module.exports=exports["default"]},{"../../component.js":63,"./caption-settings-menu-item.js":78,"./text-track-button.js":84}],80:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _textTrackButtonJs=_dereq_("./text-track-button.js"),_textTrackButtonJs2=_interopRequireDefault(_textTrackButtonJs),_componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_textTrackMenuItemJs=_dereq_("./text-track-menu-item.js"),_textTrackMenuItemJs2=_interopRequireDefault(_textTrackMenuItemJs),_chaptersTrackMenuItemJs=_dereq_("./chapters-track-menu-item.js"),_chaptersTrackMenuItemJs2=_interopRequireDefault(_chaptersTrackMenuItemJs),_menuMenuJs=_dereq_("../../menu/menu.js"),_menuMenuJs2=_interopRequireDefault(_menuMenuJs),_utilsDomJs=_dereq_("../../utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_utilsFnJs=_dereq_("../../utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_utilsToTitleCaseJs=_dereq_("../../utils/to-title-case.js"),_utilsToTitleCaseJs2=_interopRequireDefault(_utilsToTitleCaseJs),_globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),ChaptersButton=function(_TextTrackButton){function ChaptersButton(player,options,ready){_classCallCheck(this,ChaptersButton),_TextTrackButton.call(this,player,options,ready),this.el_.setAttribute("aria-label","Chapters Menu")}return _inherits(ChaptersButton,_TextTrackButton),ChaptersButton.prototype.buildCSSClass=function(){return"vjs-chapters-button "+_TextTrackButton.prototype.buildCSSClass.call(this)},ChaptersButton.prototype.createItems=function(){var items=[],tracks=this.player_.textTracks();if(!tracks)return items;for(var i=0;i<tracks.length;i++){var track=tracks[i];track.kind===this.kind_&&items.push(new _textTrackMenuItemJs2["default"](this.player_,{track:track}))}return items},ChaptersButton.prototype.createMenu=function(){for(var tracks=this.player_.textTracks()||[],chaptersTrack=void 0,items=this.items=[],i=0,l=tracks.length;l>i;i++){var track=tracks[i];if(track.kind===this.kind_){if(track.cues){chaptersTrack=track;break}track.mode="hidden",_globalWindow2["default"].setTimeout(Fn.bind(this,function(){this.createMenu()}),100)}}var menu=this.menu;if(void 0===menu&&(menu=new _menuMenuJs2["default"](this.player_),menu.contentEl().appendChild(Dom.createEl("li",{className:"vjs-menu-title",innerHTML:_utilsToTitleCaseJs2["default"](this.kind_),tabIndex:-1}))),chaptersTrack){for(var cues=chaptersTrack.cues,cue=void 0,i=0,l=cues.length;l>i;i++){cue=cues[i];var mi=new _chaptersTrackMenuItemJs2["default"](this.player_,{track:chaptersTrack,cue:cue});items.push(mi),menu.addChild(mi)}this.addChild(menu)}return this.items.length>0&&this.show(),menu},ChaptersButton}(_textTrackButtonJs2["default"]);ChaptersButton.prototype.kind_="chapters",ChaptersButton.prototype.controlText_="Chapters",_componentJs2["default"].registerComponent("ChaptersButton",ChaptersButton),exports["default"]=ChaptersButton,module.exports=exports["default"]},{"../../component.js":63,"../../menu/menu.js":102,"../../utils/dom.js":123,"../../utils/fn.js":125,"../../utils/to-title-case.js":132,"./chapters-track-menu-item.js":81,"./text-track-button.js":84,"./text-track-menu-item.js":85,"global/window":2}],81:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _menuMenuItemJs=_dereq_("../../menu/menu-item.js"),_menuMenuItemJs2=_interopRequireDefault(_menuMenuItemJs),_componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_utilsFnJs=_dereq_("../../utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),ChaptersTrackMenuItem=function(_MenuItem){function ChaptersTrackMenuItem(player,options){_classCallCheck(this,ChaptersTrackMenuItem);var track=options.track,cue=options.cue,currentTime=player.currentTime();options.label=cue.text,options.selected=cue.startTime<=currentTime&&currentTime<cue.endTime,_MenuItem.call(this,player,options),this.track=track,this.cue=cue,track.addEventListener("cuechange",Fn.bind(this,this.update))}return _inherits(ChaptersTrackMenuItem,_MenuItem),ChaptersTrackMenuItem.prototype.handleClick=function(){_MenuItem.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},ChaptersTrackMenuItem.prototype.update=function(){var cue=this.cue,currentTime=this.player_.currentTime();this.selected(cue.startTime<=currentTime&&currentTime<cue.endTime)},ChaptersTrackMenuItem}(_menuMenuItemJs2["default"]);_componentJs2["default"].registerComponent("ChaptersTrackMenuItem",ChaptersTrackMenuItem),exports["default"]=ChaptersTrackMenuItem,module.exports=exports["default"]},{"../../component.js":63,"../../menu/menu-item.js":101,"../../utils/fn.js":125}],82:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _textTrackMenuItemJs=_dereq_("./text-track-menu-item.js"),_textTrackMenuItemJs2=_interopRequireDefault(_textTrackMenuItemJs),_componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),OffTextTrackMenuItem=function(_TextTrackMenuItem){function OffTextTrackMenuItem(player,options){_classCallCheck(this,OffTextTrackMenuItem),options.track={kind:options.kind,player:player,label:options.kind+" off","default":!1,mode:"disabled"},_TextTrackMenuItem.call(this,player,options),this.selected(!0)}return _inherits(OffTextTrackMenuItem,_TextTrackMenuItem),OffTextTrackMenuItem.prototype.handleTracksChange=function(event){for(var tracks=this.player().textTracks(),selected=!0,i=0,l=tracks.length;l>i;i++){var track=tracks[i];if(track.kind===this.track.kind&&"showing"===track.mode){selected=!1;break}}this.selected(selected)},OffTextTrackMenuItem}(_textTrackMenuItemJs2["default"]);_componentJs2["default"].registerComponent("OffTextTrackMenuItem",OffTextTrackMenuItem),exports["default"]=OffTextTrackMenuItem,module.exports=exports["default"]},{"../../component.js":63,"./text-track-menu-item.js":85}],83:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _textTrackButtonJs=_dereq_("./text-track-button.js"),_textTrackButtonJs2=_interopRequireDefault(_textTrackButtonJs),_componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),SubtitlesButton=function(_TextTrackButton){function SubtitlesButton(player,options,ready){_classCallCheck(this,SubtitlesButton),_TextTrackButton.call(this,player,options,ready),this.el_.setAttribute("aria-label","Subtitles Menu")}return _inherits(SubtitlesButton,_TextTrackButton),SubtitlesButton.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+_TextTrackButton.prototype.buildCSSClass.call(this)},SubtitlesButton}(_textTrackButtonJs2["default"]);SubtitlesButton.prototype.kind_="subtitles",SubtitlesButton.prototype.controlText_="Subtitles",_componentJs2["default"].registerComponent("SubtitlesButton",SubtitlesButton),exports["default"]=SubtitlesButton,module.exports=exports["default"]},{"../../component.js":63,"./text-track-button.js":84}],84:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _menuMenuButtonJs=_dereq_("../../menu/menu-button.js"),_menuMenuButtonJs2=_interopRequireDefault(_menuMenuButtonJs),_componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_utilsFnJs=_dereq_("../../utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_textTrackMenuItemJs=_dereq_("./text-track-menu-item.js"),_textTrackMenuItemJs2=_interopRequireDefault(_textTrackMenuItemJs),_offTextTrackMenuItemJs=_dereq_("./off-text-track-menu-item.js"),_offTextTrackMenuItemJs2=_interopRequireDefault(_offTextTrackMenuItemJs),TextTrackButton=function(_MenuButton){function TextTrackButton(player,options){_classCallCheck(this,TextTrackButton),_MenuButton.call(this,player,options);var tracks=this.player_.textTracks();if(this.items.length<=1&&this.hide(),tracks){var updateHandler=Fn.bind(this,this.update);tracks.addEventListener("removetrack",updateHandler),tracks.addEventListener("addtrack",updateHandler),this.player_.on("dispose",function(){tracks.removeEventListener("removetrack",updateHandler),tracks.removeEventListener("addtrack",updateHandler)})}}return _inherits(TextTrackButton,_MenuButton),TextTrackButton.prototype.createItems=function(){var items=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];items.push(new _offTextTrackMenuItemJs2["default"](this.player_,{kind:this.kind_}));var tracks=this.player_.textTracks();if(!tracks)return items;for(var i=0;i<tracks.length;i++){var track=tracks[i];track.kind===this.kind_&&items.push(new _textTrackMenuItemJs2["default"](this.player_,{track:track}))}return items},TextTrackButton}(_menuMenuButtonJs2["default"]);_componentJs2["default"].registerComponent("TextTrackButton",TextTrackButton),exports["default"]=TextTrackButton,module.exports=exports["default"]},{"../../component.js":63,"../../menu/menu-button.js":100,"../../utils/fn.js":125,"./off-text-track-menu-item.js":82,"./text-track-menu-item.js":85}],85:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _menuMenuItemJs=_dereq_("../../menu/menu-item.js"),_menuMenuItemJs2=_interopRequireDefault(_menuMenuItemJs),_componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_utilsFnJs=_dereq_("../../utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),_globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),TextTrackMenuItem=function(_MenuItem){function TextTrackMenuItem(player,options){var _this=this;_classCallCheck(this,TextTrackMenuItem);var track=options.track,tracks=player.textTracks();options.label=track.label||track.language||"Unknown",options.selected=track["default"]||"showing"===track.mode,_MenuItem.call(this,player,options),this.track=track,tracks&&!function(){var changeHandler=Fn.bind(_this,_this.handleTracksChange);tracks.addEventListener("change",changeHandler),_this.on("dispose",function(){tracks.removeEventListener("change",changeHandler)})}(),tracks&&void 0===tracks.onchange&&!function(){var event=void 0;_this.on(["tap","click"],function(){if("object"!=typeof _globalWindow2["default"].Event)try{event=new _globalWindow2["default"].Event("change")}catch(err){}event||(event=_globalDocument2["default"].createEvent("Event"),event.initEvent("change",!0,!0)),tracks.dispatchEvent(event)})}()}return _inherits(TextTrackMenuItem,_MenuItem),TextTrackMenuItem.prototype.handleClick=function(event){var kind=this.track.kind,tracks=this.player_.textTracks();if(_MenuItem.prototype.handleClick.call(this,event),tracks)for(var i=0;i<tracks.length;i++){var track=tracks[i];track.kind===kind&&(track===this.track?track.mode="showing":track.mode="disabled")}},TextTrackMenuItem.prototype.handleTracksChange=function(event){this.selected("showing"===this.track.mode)},TextTrackMenuItem}(_menuMenuItemJs2["default"]);_componentJs2["default"].registerComponent("TextTrackMenuItem",TextTrackMenuItem),exports["default"]=TextTrackMenuItem,module.exports=exports["default"]},{"../../component.js":63,"../../menu/menu-item.js":101,"../../utils/fn.js":125,"global/document":1,"global/window":2}],86:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_utilsDomJs=_dereq_("../../utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_utilsFormatTimeJs=_dereq_("../../utils/format-time.js"),_utilsFormatTimeJs2=_interopRequireDefault(_utilsFormatTimeJs),CurrentTimeDisplay=function(_Component){function CurrentTimeDisplay(player,options){_classCallCheck(this,CurrentTimeDisplay),_Component.call(this,player,options),this.on(player,"timeupdate",this.updateContent)}return _inherits(CurrentTimeDisplay,_Component),CurrentTimeDisplay.prototype.createEl=function(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=Dom.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),el.appendChild(this.contentEl_),el},CurrentTimeDisplay.prototype.updateContent=function(){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),localizedText=this.localize("Current Time"),formattedTime=_utilsFormatTimeJs2["default"](time,this.player_.duration());this.contentEl_.innerHTML='<span class="vjs-control-text">'+localizedText+"</span> "+formattedTime},CurrentTimeDisplay}(_componentJs2["default"]);_componentJs2["default"].registerComponent("CurrentTimeDisplay",CurrentTimeDisplay),exports["default"]=CurrentTimeDisplay,module.exports=exports["default"]},{"../../component.js":63,"../../utils/dom.js":123,"../../utils/format-time.js":126}],87:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_utilsDomJs=_dereq_("../../utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_utilsFormatTimeJs=_dereq_("../../utils/format-time.js"),_utilsFormatTimeJs2=_interopRequireDefault(_utilsFormatTimeJs),DurationDisplay=function(_Component){function DurationDisplay(player,options){_classCallCheck(this,DurationDisplay),_Component.call(this,player,options),this.on(player,"timeupdate",this.updateContent),this.on(player,"loadedmetadata",this.updateContent)}return _inherits(DurationDisplay,_Component),DurationDisplay.prototype.createEl=function(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=Dom.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),el.appendChild(this.contentEl_),el},DurationDisplay.prototype.updateContent=function(){var duration=this.player_.duration();if(duration){var localizedText=this.localize("Duration Time"),formattedTime=_utilsFormatTimeJs2["default"](duration);this.contentEl_.innerHTML='<span class="vjs-control-text">'+localizedText+"</span> "+formattedTime}},DurationDisplay}(_componentJs2["default"]);_componentJs2["default"].registerComponent("DurationDisplay",DurationDisplay),exports["default"]=DurationDisplay,module.exports=exports["default"]},{"../../component.js":63,"../../utils/dom.js":123,"../../utils/format-time.js":126}],88:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_utilsDomJs=_dereq_("../../utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_utilsFormatTimeJs=_dereq_("../../utils/format-time.js"),_utilsFormatTimeJs2=_interopRequireDefault(_utilsFormatTimeJs),RemainingTimeDisplay=function(_Component){function RemainingTimeDisplay(player,options){_classCallCheck(this,RemainingTimeDisplay),_Component.call(this,player,options),this.on(player,"timeupdate",this.updateContent)}return _inherits(RemainingTimeDisplay,_Component),RemainingTimeDisplay.prototype.createEl=function(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=Dom.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),el.appendChild(this.contentEl_),el},RemainingTimeDisplay.prototype.updateContent=function(){if(this.player_.duration()){var localizedText=this.localize("Remaining Time"),formattedTime=_utilsFormatTimeJs2["default"](this.player_.remainingTime());this.contentEl_.innerHTML='<span class="vjs-control-text">'+localizedText+"</span> -"+formattedTime}},RemainingTimeDisplay}(_componentJs2["default"]);_componentJs2["default"].registerComponent("RemainingTimeDisplay",RemainingTimeDisplay),exports["default"]=RemainingTimeDisplay,module.exports=exports["default"]},{"../../component.js":63,"../../utils/dom.js":123,"../../utils/format-time.js":126}],89:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),TimeDivider=function(_Component){function TimeDivider(){_classCallCheck(this,TimeDivider),_Component.apply(this,arguments)}return _inherits(TimeDivider,_Component),TimeDivider.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},TimeDivider}(_componentJs2["default"]);_componentJs2["default"].registerComponent("TimeDivider",TimeDivider),exports["default"]=TimeDivider,module.exports=exports["default"]},{"../../component.js":63}],90:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _sliderSliderJs=_dereq_("../../slider/slider.js"),_sliderSliderJs2=_interopRequireDefault(_sliderSliderJs),_componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_utilsFnJs=_dereq_("../../utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_volumeLevelJs=_dereq_("./volume-level.js"),VolumeBar=(_interopRequireDefault(_volumeLevelJs),function(_Slider){function VolumeBar(player,options){_classCallCheck(this,VolumeBar),_Slider.call(this,player,options),this.on(player,"volumechange",this.updateARIAAttributes),player.ready(Fn.bind(this,this.updateARIAAttributes))}return _inherits(VolumeBar,_Slider),VolumeBar.prototype.createEl=function(){return _Slider.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},VolumeBar.prototype.handleMouseMove=function(event){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(event))},VolumeBar.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},VolumeBar.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},VolumeBar.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},VolumeBar.prototype.updateARIAAttributes=function(){var volume=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",volume),this.el_.setAttribute("aria-valuetext",volume+"%")},VolumeBar}(_sliderSliderJs2["default"]));VolumeBar.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},VolumeBar.prototype.playerEvent="volumechange",_componentJs2["default"].registerComponent("VolumeBar",VolumeBar),exports["default"]=VolumeBar,module.exports=exports["default"]},{"../../component.js":63,"../../slider/slider.js":107,"../../utils/fn.js":125,"./volume-level.js":92}],91:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_volumeBarJs=_dereq_("./volume-bar.js"),VolumeControl=(_interopRequireDefault(_volumeBarJs),function(_Component){function VolumeControl(player,options){_classCallCheck(this,VolumeControl),_Component.call(this,player,options),player.tech_&&player.tech_.featuresVolumeControl===!1&&this.addClass("vjs-hidden"),this.on(player,"loadstart",function(){player.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return _inherits(VolumeControl,_Component),VolumeControl.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},VolumeControl}(_componentJs2["default"]));VolumeControl.prototype.options_={children:["volumeBar"]},_componentJs2["default"].registerComponent("VolumeControl",VolumeControl),exports["default"]=VolumeControl,module.exports=exports["default"]},{"../../component.js":63,"./volume-bar.js":90}],92:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("../../component.js"),_componentJs2=_interopRequireDefault(_componentJs),VolumeLevel=function(_Component){function VolumeLevel(){_classCallCheck(this,VolumeLevel),_Component.apply(this,arguments)}return _inherits(VolumeLevel,_Component),VolumeLevel.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},VolumeLevel}(_componentJs2["default"]);_componentJs2["default"].registerComponent("VolumeLevel",VolumeLevel),exports["default"]=VolumeLevel,module.exports=exports["default"]},{"../../component.js":63}],93:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _buttonJs=_dereq_("../button.js"),_componentJs=(_interopRequireDefault(_buttonJs),_dereq_("../component.js")),_componentJs2=_interopRequireDefault(_componentJs),_menuMenuJs=_dereq_("../menu/menu.js"),_menuMenuJs2=_interopRequireDefault(_menuMenuJs),_menuMenuButtonJs=_dereq_("../menu/menu-button.js"),_menuMenuButtonJs2=_interopRequireDefault(_menuMenuButtonJs),_muteToggleJs=_dereq_("./mute-toggle.js"),_muteToggleJs2=_interopRequireDefault(_muteToggleJs),_volumeControlVolumeBarJs=_dereq_("./volume-control/volume-bar.js"),_volumeControlVolumeBarJs2=_interopRequireDefault(_volumeControlVolumeBarJs),VolumeMenuButton=function(_MenuButton){
function VolumeMenuButton(player){function updateVisibility(){player.tech_&&player.tech_.featuresVolumeControl===!1?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,VolumeMenuButton),void 0===options.inline&&(options.inline=!0),void 0===options.vertical&&(options.inline?options.vertical=!1:options.vertical=!0),options.volumeBar=options.volumeBar||{},options.volumeBar.vertical=!!options.vertical,_MenuButton.call(this,player,options),this.on(player,"volumechange",this.volumeUpdate),this.on(player,"loadstart",this.volumeUpdate),updateVisibility.call(this),this.on(player,"loadstart",updateVisibility),this.on(this.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),this.on(this.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")})}return _inherits(VolumeMenuButton,_MenuButton),VolumeMenuButton.prototype.buildCSSClass=function(){var orientationClass="";return orientationClass=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+_MenuButton.prototype.buildCSSClass.call(this)+" "+orientationClass},VolumeMenuButton.prototype.createMenu=function(){var menu=new _menuMenuJs2["default"](this.player_,{contentElType:"div"}),vb=new _volumeControlVolumeBarJs2["default"](this.player_,this.options_.volumeBar);return menu.addChild(vb),this.volumeBar=vb,menu},VolumeMenuButton.prototype.handleClick=function(){_muteToggleJs2["default"].prototype.handleClick.call(this),_MenuButton.prototype.handleClick.call(this)},VolumeMenuButton}(_menuMenuButtonJs2["default"]);VolumeMenuButton.prototype.volumeUpdate=_muteToggleJs2["default"].prototype.update,VolumeMenuButton.prototype.controlText_="Mute",_componentJs2["default"].registerComponent("VolumeMenuButton",VolumeMenuButton),exports["default"]=VolumeMenuButton,module.exports=exports["default"]},{"../button.js":62,"../component.js":63,"../menu/menu-button.js":100,"../menu/menu.js":102,"./mute-toggle.js":67,"./volume-control/volume-bar.js":90}],94:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_("./component"),_component2=_interopRequireDefault(_component),_utilsDomJs=_dereq_("./utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),ErrorDisplay=function(_Component){function ErrorDisplay(player,options){_classCallCheck(this,ErrorDisplay),_Component.call(this,player,options),this.update(),this.on(player,"error",this.update)}return _inherits(ErrorDisplay,_Component),ErrorDisplay.prototype.createEl=function(){var el=_Component.prototype.createEl.call(this,"div",{className:"vjs-error-display"});return this.contentEl_=Dom.createEl("div"),el.appendChild(this.contentEl_),el},ErrorDisplay.prototype.update=function(){this.player().error()&&(this.contentEl_.innerHTML=this.localize(this.player().error().message))},ErrorDisplay}(_component2["default"]);_component2["default"].registerComponent("ErrorDisplay",ErrorDisplay),exports["default"]=ErrorDisplay,module.exports=exports["default"]},{"./component":63,"./utils/dom.js":123}],95:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}exports.__esModule=!0;var _utilsEventsJs=_dereq_("./utils/events.js"),Events=_interopRequireWildcard(_utilsEventsJs),EventTarget=function(){};EventTarget.prototype.allowedEvents_={},EventTarget.prototype.on=function(type,fn){var ael=this.addEventListener;this.addEventListener=Function.prototype,Events.on(this,type,fn),this.addEventListener=ael},EventTarget.prototype.addEventListener=EventTarget.prototype.on,EventTarget.prototype.off=function(type,fn){Events.off(this,type,fn)},EventTarget.prototype.removeEventListener=EventTarget.prototype.off,EventTarget.prototype.one=function(type,fn){Events.one(this,type,fn)},EventTarget.prototype.trigger=function(event){var type=event.type||event;"string"==typeof event&&(event={type:type}),event=Events.fixEvent(event),this.allowedEvents_[type]&&this["on"+type]&&this["on"+type](event),Events.trigger(this,event)},EventTarget.prototype.dispatchEvent=EventTarget.prototype.trigger,exports["default"]=EventTarget,module.exports=exports["default"]},{"./utils/events.js":124}],96:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _utilsLog=_dereq_("./utils/log"),_utilsLog2=_interopRequireDefault(_utilsLog),_inherits=function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(subClass.super_=superClass)},extendFn=function(superClass){var subClassMethods=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],subClass=function(){superClass.apply(this,arguments)},methods={};"object"==typeof subClassMethods?("function"==typeof subClassMethods.init&&(_utilsLog2["default"].warn("Constructor logic via init() is deprecated; please use constructor() instead."),subClassMethods.constructor=subClassMethods.init),subClassMethods.constructor!==Object.prototype.constructor&&(subClass=subClassMethods.constructor),methods=subClassMethods):"function"==typeof subClassMethods&&(subClass=subClassMethods),_inherits(subClass,superClass);for(var name in methods)methods.hasOwnProperty(name)&&(subClass.prototype[name]=methods[name]);return subClass};exports["default"]=extendFn,module.exports=exports["default"]},{"./utils/log":128}],97:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;for(var _globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),FullscreenApi={},apiMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],specApi=apiMap[0],browserApi=void 0,i=0;i<apiMap.length;i++)if(apiMap[i][1]in _globalDocument2["default"]){browserApi=apiMap[i];break}if(browserApi)for(var i=0;i<browserApi.length;i++)FullscreenApi[specApi[i]]=browserApi[i];exports["default"]=FullscreenApi,module.exports=exports["default"]},{"global/document":1}],98:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_("./component"),_component2=_interopRequireDefault(_component),LoadingSpinner=function(_Component){function LoadingSpinner(){_classCallCheck(this,LoadingSpinner),_Component.apply(this,arguments)}return _inherits(LoadingSpinner,_Component),LoadingSpinner.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},LoadingSpinner}(_component2["default"]);_component2["default"].registerComponent("LoadingSpinner",LoadingSpinner),exports["default"]=LoadingSpinner,module.exports=exports["default"]},{"./component":63}],99:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _objectAssign=_dereq_("object.assign"),_objectAssign2=_interopRequireDefault(_objectAssign),MediaError=function MediaError(code){"number"==typeof code?this.code=code:"string"==typeof code?this.message=code:"object"==typeof code&&_objectAssign2["default"](this,code),this.message||(this.message=MediaError.defaultMessages[this.code]||"")};MediaError.prototype.code=0,MediaError.prototype.message="",MediaError.prototype.status=null,MediaError.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],MediaError.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var errNum=0;errNum<MediaError.errorTypes.length;errNum++)MediaError[MediaError.errorTypes[errNum]]=errNum,MediaError.prototype[MediaError.errorTypes[errNum]]=errNum;exports["default"]=MediaError,module.exports=exports["default"]},{"object.assign":45}],100:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _buttonJs=_dereq_("../button.js"),_buttonJs2=_interopRequireDefault(_buttonJs),_componentJs=_dereq_("../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_menuJs=_dereq_("./menu.js"),_menuJs2=_interopRequireDefault(_menuJs),_utilsDomJs=_dereq_("../utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_utilsFnJs=_dereq_("../utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_utilsToTitleCaseJs=_dereq_("../utils/to-title-case.js"),_utilsToTitleCaseJs2=_interopRequireDefault(_utilsToTitleCaseJs),MenuButton=function(_Button){function MenuButton(player){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];_classCallCheck(this,MenuButton),_Button.call(this,player,options),this.update(),this.on("keydown",this.handleKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}return _inherits(MenuButton,_Button),MenuButton.prototype.update=function(){var menu=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=menu,this.addChild(menu),this.buttonPressed_=!1,this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},MenuButton.prototype.createMenu=function(){var menu=new _menuJs2["default"](this.player_);if(this.options_.title&&menu.contentEl().appendChild(Dom.createEl("li",{className:"vjs-menu-title",innerHTML:_utilsToTitleCaseJs2["default"](this.options_.title),tabIndex:-1})),this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)menu.addItem(this.items[i]);return menu},MenuButton.prototype.createItems=function(){},MenuButton.prototype.createEl=function(){return _Button.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},MenuButton.prototype.buildCSSClass=function(){var menuButtonClass="vjs-menu-button";return menuButtonClass+=this.options_.inline===!0?"-inline":"-popup","vjs-menu-button "+menuButtonClass+" "+_Button.prototype.buildCSSClass.call(this)},MenuButton.prototype.handleFocus=function(){},MenuButton.prototype.handleBlur=function(){},MenuButton.prototype.handleClick=function(){this.one("mouseout",Fn.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},MenuButton.prototype.handleKeyPress=function(event){32===event.which||13===event.which?(this.buttonPressed_?this.unpressButton():this.pressButton(),event.preventDefault()):27===event.which&&(this.buttonPressed_&&this.unpressButton(),event.preventDefault())},MenuButton.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&this.items.length>0&&this.items[0].el().focus()},MenuButton.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},MenuButton}(_buttonJs2["default"]);_componentJs2["default"].registerComponent("MenuButton",MenuButton),exports["default"]=MenuButton,module.exports=exports["default"]},{"../button.js":62,"../component.js":63,"../utils/dom.js":123,"../utils/fn.js":125,"../utils/to-title-case.js":132,"./menu.js":102}],101:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _buttonJs=_dereq_("../button.js"),_buttonJs2=_interopRequireDefault(_buttonJs),_componentJs=_dereq_("../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_objectAssign=_dereq_("object.assign"),_objectAssign2=_interopRequireDefault(_objectAssign),MenuItem=function(_Button){function MenuItem(player,options){_classCallCheck(this,MenuItem),_Button.call(this,player,options),this.selected(options.selected)}return _inherits(MenuItem,_Button),MenuItem.prototype.createEl=function(type,props,attrs){return _Button.prototype.createEl.call(this,"li",_objectAssign2["default"]({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label)},props),attrs)},MenuItem.prototype.handleClick=function(){this.selected(!0)},MenuItem.prototype.selected=function(_selected){_selected?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},MenuItem}(_buttonJs2["default"]);_componentJs2["default"].registerComponent("MenuItem",MenuItem),exports["default"]=MenuItem,module.exports=exports["default"]},{"../button.js":62,"../component.js":63,"object.assign":45}],102:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_utilsDomJs=_dereq_("../utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_utilsFnJs=_dereq_("../utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_utilsEventsJs=_dereq_("../utils/events.js"),Events=_interopRequireWildcard(_utilsEventsJs),Menu=function(_Component){function Menu(){_classCallCheck(this,Menu),_Component.apply(this,arguments)}return _inherits(Menu,_Component),Menu.prototype.addItem=function(component){this.addChild(component),component.on("click",Fn.bind(this,function(){this.unlockShowing()}))},Menu.prototype.createEl=function(){var contentElType=this.options_.contentElType||"ul";this.contentEl_=Dom.createEl(contentElType,{className:"vjs-menu-content"});var el=_Component.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return el.appendChild(this.contentEl_),Events.on(el,"click",function(event){event.preventDefault(),event.stopImmediatePropagation()}),el},Menu}(_componentJs2["default"]);_componentJs2["default"].registerComponent("Menu",Menu),exports["default"]=Menu,module.exports=exports["default"]},{"../component.js":63,"../utils/dom.js":123,"../utils/events.js":124,"../utils/fn.js":125}],103:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("./component.js"),_componentJs2=_interopRequireDefault(_componentJs),_globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),_globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),_utilsEventsJs=_dereq_("./utils/events.js"),Events=_interopRequireWildcard(_utilsEventsJs),_utilsDomJs=_dereq_("./utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_utilsFnJs=_dereq_("./utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_utilsGuidJs=_dereq_("./utils/guid.js"),Guid=_interopRequireWildcard(_utilsGuidJs),_utilsBrowserJs=_dereq_("./utils/browser.js"),_utilsLogJs=(_interopRequireWildcard(_utilsBrowserJs),_dereq_("./utils/log.js")),_utilsLogJs2=_interopRequireDefault(_utilsLogJs),_utilsToTitleCaseJs=_dereq_("./utils/to-title-case.js"),_utilsToTitleCaseJs2=_interopRequireDefault(_utilsToTitleCaseJs),_utilsTimeRangesJs=_dereq_("./utils/time-ranges.js"),_utilsBufferJs=_dereq_("./utils/buffer.js"),_utilsStylesheetJs=_dereq_("./utils/stylesheet.js"),stylesheet=_interopRequireWildcard(_utilsStylesheetJs),_fullscreenApiJs=_dereq_("./fullscreen-api.js"),_fullscreenApiJs2=_interopRequireDefault(_fullscreenApiJs),_mediaErrorJs=_dereq_("./media-error.js"),_mediaErrorJs2=_interopRequireDefault(_mediaErrorJs),_safeJsonParseTuple=_dereq_("safe-json-parse/tuple"),_safeJsonParseTuple2=_interopRequireDefault(_safeJsonParseTuple),_objectAssign=_dereq_("object.assign"),_objectAssign2=_interopRequireDefault(_objectAssign),_utilsMergeOptionsJs=_dereq_("./utils/merge-options.js"),_utilsMergeOptionsJs2=_interopRequireDefault(_utilsMergeOptionsJs),_tracksTextTrackListConverterJs=_dereq_("./tracks/text-track-list-converter.js"),_tracksTextTrackListConverterJs2=_interopRequireDefault(_tracksTextTrackListConverterJs),_techLoaderJs=_dereq_("./tech/loader.js"),_posterImageJs=(_interopRequireDefault(_techLoaderJs),_dereq_("./poster-image.js")),_tracksTextTrackDisplayJs=(_interopRequireDefault(_posterImageJs),_dereq_("./tracks/text-track-display.js")),_loadingSpinnerJs=(_interopRequireDefault(_tracksTextTrackDisplayJs),_dereq_("./loading-spinner.js")),_bigPlayButtonJs=(_interopRequireDefault(_loadingSpinnerJs),_dereq_("./big-play-button.js")),_controlBarControlBarJs=(_interopRequireDefault(_bigPlayButtonJs),_dereq_("./control-bar/control-bar.js")),_errorDisplayJs=(_interopRequireDefault(_controlBarControlBarJs),_dereq_("./error-display.js")),_tracksTextTrackSettingsJs=(_interopRequireDefault(_errorDisplayJs),_dereq_("./tracks/text-track-settings.js")),_techHtml5Js=(_interopRequireDefault(_tracksTextTrackSettingsJs),_dereq_("./tech/html5.js")),Player=(_interopRequireDefault(_techHtml5Js),function(_Component){function Player(tag,options,ready){var _this=this;if(_classCallCheck(this,Player),tag.id=tag.id||"vjs_video_"+Guid.newGUID(),options=_objectAssign2["default"](Player.getTagSettings(tag),options),options.initChildren=!1,options.createEl=!1,options.reportTouchActivity=!1,_Component.call(this,null,options,ready),!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");this.tag=tag,this.tagAttributes=tag&&Dom.getElAttributes(tag),this.language(this.options_.language),options.languages?!function(){var languagesToLower={};Object.getOwnPropertyNames(options.languages).forEach(function(name){languagesToLower[name.toLowerCase()]=options.languages[name]}),_this.languages_=languagesToLower}():this.languages_=Player.prototype.options_.languages,this.cache_={},this.poster_=options.poster||"",this.controls_=!!options.controls,tag.controls=!1,this.scrubbing_=!1,this.el_=this.createEl();var playerOptionsCopy=_utilsMergeOptionsJs2["default"](this.options_);options.plugins&&!function(){var plugins=options.plugins;Object.getOwnPropertyNames(plugins).forEach(function(name){"function"==typeof this[name]?this[name](plugins[name]):_utilsLogJs2["default"].error("Unable to find plugin:",name)},_this)}(),this.options_.playerOptions=playerOptionsCopy,this.initChildren(),this.isAudio("audio"===tag.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.isAudio()&&this.addClass("vjs-audio"),this.flexNotSupported_()&&this.addClass("vjs-no-flex"),Player.players[this.id_]=this,this.userActive(!0),this.reportUserActivity(),this.listenForUserActivity_(),this.on("fullscreenchange",this.handleFullscreenChange_),this.on("stageclick",this.handleStageClick_)}return _inherits(Player,_Component),Player.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode.removeChild(this.styleEl_),Player.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),_Component.prototype.dispose.call(this)},Player.prototype.createEl=function(){var el=this.el_=_Component.prototype.createEl.call(this,"div"),tag=this.tag;tag.removeAttribute("width"),tag.removeAttribute("height");var attrs=Dom.getElAttributes(tag);Object.getOwnPropertyNames(attrs).forEach(function(attr){"class"===attr?el.className=attrs[attr]:el.setAttribute(attr,attrs[attr])}),tag.id+="_html5_api",tag.className="vjs-tech",tag.player=el.player=this,this.addClass("vjs-paused"),this.styleEl_=stylesheet.createStyleElement("vjs-styles-dimensions");var defaultsStyleEl=_globalDocument2["default"].querySelector(".vjs-styles-defaults"),head=_globalDocument2["default"].querySelector("head");return head.insertBefore(this.styleEl_,defaultsStyleEl?defaultsStyleEl.nextSibling:head.firstChild),this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),tag.initNetworkState_=tag.networkState,tag.parentNode&&tag.parentNode.insertBefore(el,tag),Dom.insertElFirst(tag,el),this.el_=el,el},Player.prototype.width=function(value){return this.dimension("width",value)},Player.prototype.height=function(value){return this.dimension("height",value)},Player.prototype.dimension=function(_dimension,value){var privDimension=_dimension+"_";if(void 0===value)return this[privDimension]||0;if(""===value)this[privDimension]=void 0;else{var parsedVal=parseFloat(value);if(isNaN(parsedVal))return _utilsLogJs2["default"].error('Improper value "'+value+'" supplied for for '+_dimension),this;this[privDimension]=parsedVal}return this.updateStyleEl_(),this},Player.prototype.fluid=function(bool){return void 0===bool?!!this.fluid_:(this.fluid_=!!bool,void(bool?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid")))},Player.prototype.aspectRatio=function(ratio){if(void 0===ratio)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(ratio))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=ratio,this.fluid(!0),this.updateStyleEl_()},Player.prototype.updateStyleEl_=function(){var width=void 0,height=void 0,aspectRatio=void 0;aspectRatio=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9";var ratioParts=aspectRatio.split(":"),ratioMultiplier=ratioParts[1]/ratioParts[0];width=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/ratioMultiplier:this.videoWidth()||300,height=void 0!==this.height_?this.height_:width*ratioMultiplier;var idClass=this.id()+"-dimensions";this.addClass(idClass),stylesheet.setTextContent(this.styleEl_,"\n      ."+idClass+" {\n        width: "+width+"px;\n        height: "+height+"px;\n      }\n\n      ."+idClass+".vjs-fluid {\n        padding-top: "+100*ratioMultiplier+"%;\n      }\n    ")},Player.prototype.loadTech_=function(techName,source){this.tech_&&this.unloadTech_(),"Html5"!==techName&&this.tag&&(_componentJs2["default"].getComponent("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=techName,this.isReady_=!1;var techOptions=_objectAssign2["default"]({nativeControlsForTouch:this.options_.nativeControlsForTouch,source:source,playerId:this.id(),techId:this.id()+"_"+techName+"_api",textTracks:this.textTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),"vtt.js":this.options_["vtt.js"]},this.options_[techName.toLowerCase()]);this.tag&&(techOptions.tag=this.tag),source&&(this.currentType_=source.type,source.src===this.cache_.src&&this.cache_.currentTime>0&&(techOptions.startTime=this.cache_.currentTime),this.cache_.src=source.src);var techComponent=_componentJs2["default"].getComponent(techName);this.tech_=new techComponent(techOptions),this.tech_.ready(Fn.bind(this,this.handleTechReady_),!0),_tracksTextTrackListConverterJs2["default"].jsonToTextTracks(this.textTracksJson_||[],this.tech_),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"progress",this.handleTechProgress_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"suspend",this.handleTechSuspend_),this.on(this.tech_,"abort",this.handleTechAbort_),this.on(this.tech_,"emptied",this.handleTechEmptied_),this.on(this.tech_,"stalled",this.handleTechStalled_),this.on(this.tech_,"loadedmetadata",this.handleTechLoadedMetaData_),this.on(this.tech_,"loadeddata",this.handleTechLoadedData_),this.on(this.tech_,"timeupdate",this.handleTechTimeUpdate_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.on(this.tech_,"volumechange",this.handleTechVolumeChange_),this.on(this.tech_,"texttrackchange",this.handleTechTextTrackChange_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===techName&&this.tag||Dom.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},Player.prototype.unloadTech_=function(){this.textTracks_=this.textTracks(),this.textTracksJson_=_tracksTextTrackListConverterJs2["default"].textTracksToJson(this),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},Player.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},Player.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},Player.prototype.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,
this.play())},Player.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},Player.prototype.hasStarted=function(_hasStarted){return void 0!==_hasStarted?(this.hasStarted_!==_hasStarted&&(this.hasStarted_=_hasStarted,_hasStarted?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},Player.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},Player.prototype.handleTechWaiting_=function(){this.addClass("vjs-waiting"),this.trigger("waiting")},Player.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},Player.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},Player.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},Player.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},Player.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},Player.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started"),this.trigger("firstplay")},Player.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},Player.prototype.handleTechProgress_=function(){this.trigger("progress")},Player.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},Player.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},Player.prototype.handleTechClick_=function(event){0===event.button&&this.controls()&&(this.paused()?this.play():this.pause())},Player.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},Player.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},Player.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},Player.prototype.handleTechTouchEnd_=function(event){event.preventDefault()},Player.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},Player.prototype.handleStageClick_=function(){this.reportUserActivity()},Player.prototype.handleTechFullscreenChange_=function(event,data){data&&this.isFullscreen(data.isFullscreen),this.trigger("fullscreenchange")},Player.prototype.handleTechError_=function(){var error=this.tech_.error();this.error(error&&error.code)},Player.prototype.handleTechSuspend_=function(){this.trigger("suspend")},Player.prototype.handleTechAbort_=function(){this.trigger("abort")},Player.prototype.handleTechEmptied_=function(){this.trigger("emptied")},Player.prototype.handleTechStalled_=function(){this.trigger("stalled")},Player.prototype.handleTechLoadedMetaData_=function(){this.trigger("loadedmetadata")},Player.prototype.handleTechLoadedData_=function(){this.trigger("loadeddata")},Player.prototype.handleTechTimeUpdate_=function(){this.trigger("timeupdate")},Player.prototype.handleTechRateChange_=function(){this.trigger("ratechange")},Player.prototype.handleTechVolumeChange_=function(){this.trigger("volumechange")},Player.prototype.handleTechTextTrackChange_=function(){this.trigger("texttrackchange")},Player.prototype.getCache=function(){return this.cache_},Player.prototype.techCall_=function(method,arg){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[method](arg)},!0);else try{this.tech_[method](arg)}catch(e){throw _utilsLogJs2["default"](e),e}},Player.prototype.techGet_=function(method){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[method]()}catch(e){throw void 0===this.tech_[method]?_utilsLogJs2["default"]("Video.js: "+method+" method not defined for "+this.techName_+" playback technology.",e):"TypeError"===e.name?(_utilsLogJs2["default"]("Video.js: "+method+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1):_utilsLogJs2["default"](e),e}},Player.prototype.play=function(){return this.techCall_("play"),this},Player.prototype.pause=function(){return this.techCall_("pause"),this},Player.prototype.paused=function(){return this.techGet_("paused")===!1?!1:!0},Player.prototype.scrubbing=function(isScrubbing){return void 0!==isScrubbing?(this.scrubbing_=!!isScrubbing,isScrubbing?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},Player.prototype.currentTime=function(seconds){return void 0!==seconds?(this.techCall_("setCurrentTime",seconds),this):this.cache_.currentTime=this.techGet_("currentTime")||0},Player.prototype.duration=function(seconds){return void 0===seconds?this.cache_.duration||0:(seconds=parseFloat(seconds)||0,0>seconds&&(seconds=1/0),seconds!==this.cache_.duration&&(this.cache_.duration=seconds,seconds===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},Player.prototype.remainingTime=function(){return this.duration()-this.currentTime()},Player.prototype.buffered=function buffered(){var buffered=this.techGet_("buffered");return buffered&&buffered.length||(buffered=_utilsTimeRangesJs.createTimeRange(0,0)),buffered},Player.prototype.bufferedPercent=function(){return _utilsBufferJs.bufferedPercent(this.buffered(),this.duration())},Player.prototype.bufferedEnd=function(){var buffered=this.buffered(),duration=this.duration(),end=buffered.end(buffered.length-1);return end>duration&&(end=duration),end},Player.prototype.volume=function(percentAsDecimal){var vol=void 0;return void 0!==percentAsDecimal?(vol=Math.max(0,Math.min(1,parseFloat(percentAsDecimal))),this.cache_.volume=vol,this.techCall_("setVolume",vol),this):(vol=parseFloat(this.techGet_("volume")),isNaN(vol)?1:vol)},Player.prototype.muted=function(_muted){return void 0!==_muted?(this.techCall_("setMuted",_muted),this):this.techGet_("muted")||!1},Player.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},Player.prototype.isFullscreen=function(isFS){return void 0!==isFS?(this.isFullscreen_=!!isFS,this):!!this.isFullscreen_},Player.prototype.requestFullscreen=function(){var fsApi=_fullscreenApiJs2["default"];return this.isFullscreen(!0),fsApi.requestFullscreen?(Events.on(_globalDocument2["default"],fsApi.fullscreenchange,Fn.bind(this,function documentFullscreenChange(e){this.isFullscreen(_globalDocument2["default"][fsApi.fullscreenElement]),this.isFullscreen()===!1&&Events.off(_globalDocument2["default"],fsApi.fullscreenchange,documentFullscreenChange),this.trigger("fullscreenchange")})),this.el_[fsApi.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},Player.prototype.exitFullscreen=function(){var fsApi=_fullscreenApiJs2["default"];return this.isFullscreen(!1),fsApi.requestFullscreen?_globalDocument2["default"][fsApi.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},Player.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=_globalDocument2["default"].documentElement.style.overflow,Events.on(_globalDocument2["default"],"keydown",Fn.bind(this,this.fullWindowOnEscKey)),_globalDocument2["default"].documentElement.style.overflow="hidden",Dom.addElClass(_globalDocument2["default"].body,"vjs-full-window"),this.trigger("enterFullWindow")},Player.prototype.fullWindowOnEscKey=function(event){27===event.keyCode&&(this.isFullscreen()===!0?this.exitFullscreen():this.exitFullWindow())},Player.prototype.exitFullWindow=function(){this.isFullWindow=!1,Events.off(_globalDocument2["default"],"keydown",this.fullWindowOnEscKey),_globalDocument2["default"].documentElement.style.overflow=this.docOrigOverflow,Dom.removeElClass(_globalDocument2["default"].body,"vjs-full-window"),this.trigger("exitFullWindow")},Player.prototype.selectSource=function(sources){for(var i=0,j=this.options_.techOrder;i<j.length;i++){var techName=_utilsToTitleCaseJs2["default"](j[i]),tech=_componentJs2["default"].getComponent(techName);if(tech){if(tech.isSupported())for(var a=0,b=sources;a<b.length;a++){var source=b[a];if(tech.canPlaySource(source))return{source:source,tech:techName}}}else _utilsLogJs2["default"].error('The "'+techName+'" tech is undefined. Skipped browser support check for that tech.')}return!1},Player.prototype.src=function(source){if(void 0===source)return this.techGet_("src");var currentTech=_componentJs2["default"].getComponent(this.techName_);return Array.isArray(source)?this.sourceList_(source):"string"==typeof source?this.src({src:source}):source instanceof Object&&(source.type&&!currentTech.canPlaySource(source)?this.sourceList_([source]):(this.cache_.src=source.src,this.currentType_=source.type||"",this.ready(function(){currentTech.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",source):this.techCall_("src",source.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},Player.prototype.sourceList_=function(sources){var sourceTech=this.selectSource(sources);sourceTech?sourceTech.tech===this.techName_?this.src(sourceTech.source):this.loadTech_(sourceTech.tech,sourceTech.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},Player.prototype.load=function(){return this.techCall_("load"),this},Player.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},Player.prototype.currentType=function(){return this.currentType_||""},Player.prototype.preload=function(value){return void 0!==value?(this.techCall_("setPreload",value),this.options_.preload=value,this):this.techGet_("preload")},Player.prototype.autoplay=function(value){return void 0!==value?(this.techCall_("setAutoplay",value),this.options_.autoplay=value,this):this.techGet_("autoplay",value)},Player.prototype.loop=function(value){return void 0!==value?(this.techCall_("setLoop",value),this.options_.loop=value,this):this.techGet_("loop")},Player.prototype.poster=function(src){return void 0===src?this.poster_:(src||(src=""),this.poster_=src,this.techCall_("setPoster",src),this.trigger("posterchange"),this)},Player.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},Player.prototype.controls=function(bool){return void 0!==bool?(bool=!!bool,this.controls_!==bool&&(this.controls_=bool,this.usingNativeControls()&&this.techCall_("setControls",bool),bool?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},Player.prototype.usingNativeControls=function(bool){return void 0!==bool?(bool=!!bool,this.usingNativeControls_!==bool&&(this.usingNativeControls_=bool,bool?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},Player.prototype.error=function(err){return void 0===err?this.error_||null:null===err?(this.error_=err,this.removeClass("vjs-error"),this):(err instanceof _mediaErrorJs2["default"]?this.error_=err:this.error_=new _mediaErrorJs2["default"](err),this.trigger("error"),this.addClass("vjs-error"),_utilsLogJs2["default"].error("(CODE:"+this.error_.code+" "+_mediaErrorJs2["default"].errorTypes[this.error_.code]+")",this.error_.message,this.error_),this)},Player.prototype.ended=function(){return this.techGet_("ended")},Player.prototype.seeking=function(){return this.techGet_("seeking")},Player.prototype.seekable=function(){return this.techGet_("seekable")},Player.prototype.reportUserActivity=function(event){this.userActivity_=!0},Player.prototype.userActive=function(bool){return void 0!==bool?(bool=!!bool,bool!==this.userActive_&&(this.userActive_=bool,bool?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},Player.prototype.listenForUserActivity_=function(){var mouseInProgress=void 0,lastMoveX=void 0,lastMoveY=void 0,handleActivity=Fn.bind(this,this.reportUserActivity),handleMouseMove=function(e){(e.screenX!==lastMoveX||e.screenY!==lastMoveY)&&(lastMoveX=e.screenX,lastMoveY=e.screenY,handleActivity())},handleMouseDown=function(){handleActivity(),this.clearInterval(mouseInProgress),mouseInProgress=this.setInterval(handleActivity,250)},handleMouseUp=function(event){handleActivity(),this.clearInterval(mouseInProgress)};this.on("mousedown",handleMouseDown),this.on("mousemove",handleMouseMove),this.on("mouseup",handleMouseUp),this.on("keydown",handleActivity),this.on("keyup",handleActivity);var inactivityTimeout=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(inactivityTimeout);var timeout=this.options_.inactivityTimeout;timeout>0&&(inactivityTimeout=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},timeout))}},250)},Player.prototype.playbackRate=function(rate){return void 0!==rate?(this.techCall_("setPlaybackRate",rate),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},Player.prototype.isAudio=function(bool){return void 0!==bool?(this.isAudio_=!!bool,this):!!this.isAudio_},Player.prototype.networkState=function(){return this.techGet_("networkState")},Player.prototype.readyState=function(){return this.techGet_("readyState")},Player.prototype.textTracks=function(){return this.tech_&&this.tech_.textTracks()},Player.prototype.remoteTextTracks=function(){return this.tech_&&this.tech_.remoteTextTracks()},Player.prototype.addTextTrack=function(kind,label,language){return this.tech_&&this.tech_.addTextTrack(kind,label,language)},Player.prototype.addRemoteTextTrack=function(options){return this.tech_&&this.tech_.addRemoteTextTrack(options)},Player.prototype.removeRemoteTextTrack=function(track){this.tech_&&this.tech_.removeRemoteTextTrack(track)},Player.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},Player.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},Player.prototype.language=function(code){return void 0===code?this.language_:(this.language_=(""+code).toLowerCase(),this)},Player.prototype.languages=function(){return _utilsMergeOptionsJs2["default"](Player.prototype.options_.languages,this.languages_)},Player.prototype.toJSON=function(){var options=_utilsMergeOptionsJs2["default"](this.options_),tracks=options.tracks;options.tracks=[];for(var i=0;i<tracks.length;i++){var track=tracks[i];track=_utilsMergeOptionsJs2["default"](track),track.player=void 0,options.tracks[i]=track}return options},Player.getTagSettings=function(tag){var baseOptions={sources:[],tracks:[]},tagOptions=Dom.getElAttributes(tag),dataSetup=tagOptions["data-setup"];if(null!==dataSetup){var _safeParseTuple=_safeJsonParseTuple2["default"](dataSetup||"{}"),err=_safeParseTuple[0],data=_safeParseTuple[1];err&&_utilsLogJs2["default"].error(err),_objectAssign2["default"](tagOptions,data)}if(_objectAssign2["default"](baseOptions,tagOptions),tag.hasChildNodes())for(var children=tag.childNodes,i=0,j=children.length;j>i;i++){var child=children[i],childName=child.nodeName.toLowerCase();"source"===childName?baseOptions.sources.push(Dom.getElAttributes(child)):"track"===childName&&baseOptions.tracks.push(Dom.getElAttributes(child))}return baseOptions},Player}(_componentJs2["default"]));Player.players={};var navigator=_globalWindow2["default"].navigator;Player.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:_globalDocument2["default"].getElementsByTagName("html")[0].getAttribute("lang")||navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},Player.prototype.handleLoadedMetaData_,Player.prototype.handleLoadedData_,Player.prototype.handleUserActive_,Player.prototype.handleUserInactive_,Player.prototype.handleTimeUpdate_,Player.prototype.handleVolumeChange_,Player.prototype.handleError_,Player.prototype.flexNotSupported_=function(){var elem=_globalDocument2["default"].createElement("i");return!("flexBasis"in elem.style||"webkitFlexBasis"in elem.style||"mozFlexBasis"in elem.style||"msFlexBasis"in elem.style||"msFlexOrder"in elem.style)},_componentJs2["default"].registerComponent("Player",Player),exports["default"]=Player,module.exports=exports["default"]},{"./big-play-button.js":61,"./component.js":63,"./control-bar/control-bar.js":64,"./error-display.js":94,"./fullscreen-api.js":97,"./loading-spinner.js":98,"./media-error.js":99,"./poster-image.js":105,"./tech/html5.js":110,"./tech/loader.js":111,"./tracks/text-track-display.js":114,"./tracks/text-track-list-converter.js":116,"./tracks/text-track-settings.js":118,"./utils/browser.js":120,"./utils/buffer.js":121,"./utils/dom.js":123,"./utils/events.js":124,"./utils/fn.js":125,"./utils/guid.js":127,"./utils/log.js":128,"./utils/merge-options.js":129,"./utils/stylesheet.js":130,"./utils/time-ranges.js":131,"./utils/to-title-case.js":132,"global/document":1,"global/window":2,"object.assign":45,"safe-json-parse/tuple":53}],104:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _playerJs=_dereq_("./player.js"),_playerJs2=_interopRequireDefault(_playerJs),plugin=function(name,init){_playerJs2["default"].prototype[name]=init};exports["default"]=plugin,module.exports=exports["default"]},{"./player.js":103}],105:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _buttonJs=_dereq_("./button.js"),_buttonJs2=_interopRequireDefault(_buttonJs),_componentJs=_dereq_("./component.js"),_componentJs2=_interopRequireDefault(_componentJs),_utilsFnJs=_dereq_("./utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_utilsDomJs=_dereq_("./utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_utilsBrowserJs=_dereq_("./utils/browser.js"),browser=_interopRequireWildcard(_utilsBrowserJs),PosterImage=function(_Button){function PosterImage(player,options){_classCallCheck(this,PosterImage),_Button.call(this,player,options),this.update(),player.on("posterchange",Fn.bind(this,this.update))}return _inherits(PosterImage,_Button),PosterImage.prototype.dispose=function(){this.player().off("posterchange",this.update),_Button.prototype.dispose.call(this)},PosterImage.prototype.createEl=function(){var el=Dom.createEl("div",{className:"vjs-poster",tabIndex:-1});return browser.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=Dom.createEl("img"),el.appendChild(this.fallbackImg_)),el},PosterImage.prototype.update=function(){var url=this.player().poster();this.setSrc(url),url?this.show():this.hide()},PosterImage.prototype.setSrc=function(url){if(this.fallbackImg_)this.fallbackImg_.src=url;else{var backgroundImage="";url&&(backgroundImage='url("'+url+'")'),this.el_.style.backgroundImage=backgroundImage}},PosterImage.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},PosterImage}(_buttonJs2["default"]);_componentJs2["default"].registerComponent("PosterImage",PosterImage),exports["default"]=PosterImage,module.exports=exports["default"]},{"./button.js":62,"./component.js":63,"./utils/browser.js":120,"./utils/dom.js":123,"./utils/fn.js":125}],106:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}exports.__esModule=!0;var _utilsEventsJs=_dereq_("./utils/events.js"),Events=_interopRequireWildcard(_utilsEventsJs),_globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),_globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),_windowLoaded=!1,videojs=void 0,autoSetup=function(){var vids=_globalDocument2["default"].getElementsByTagName("video"),audios=_globalDocument2["default"].getElementsByTagName("audio"),mediaEls=[];if(vids&&vids.length>0)for(var i=0,e=vids.length;e>i;i++)mediaEls.push(vids[i]);if(audios&&audios.length>0)for(var i=0,e=audios.length;e>i;i++)mediaEls.push(audios[i]);if(mediaEls&&mediaEls.length>0)for(var i=0,e=mediaEls.length;e>i;i++){var mediaEl=mediaEls[i];if(!mediaEl||!mediaEl.getAttribute){autoSetupTimeout(1);break}if(void 0===mediaEl.player){var options=mediaEl.getAttribute("data-setup");if(null!==options){videojs(mediaEl)}}}else _windowLoaded||autoSetupTimeout(1)},autoSetupTimeout=function(wait,vjs){videojs=vjs,setTimeout(autoSetup,wait)};"complete"===_globalDocument2["default"].readyState?_windowLoaded=!0:Events.one(_globalWindow2["default"],"load",function(){_windowLoaded=!0});var hasLoaded=function(){return _windowLoaded};exports.autoSetup=autoSetup,exports.autoSetupTimeout=autoSetupTimeout,exports.hasLoaded=hasLoaded},{"./utils/events.js":124,"global/document":1,"global/window":2}],107:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _componentJs=_dereq_("../component.js"),_componentJs2=_interopRequireDefault(_componentJs),_utilsDomJs=_dereq_("../utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),_objectAssign=_dereq_("object.assign"),_objectAssign2=_interopRequireDefault(_objectAssign),Slider=function(_Component){function Slider(player,options){_classCallCheck(this,Slider),_Component.call(this,player,options),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(player,"controlsvisible",this.update),this.on(player,this.playerEvent,this.update)}return _inherits(Slider,_Component),Slider.prototype.createEl=function(type){var props=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],attributes=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return props.className=props.className+" vjs-slider",props=_objectAssign2["default"]({tabIndex:0},props),attributes=_objectAssign2["default"]({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},attributes),_Component.prototype.createEl.call(this,type,props,attributes)},Slider.prototype.handleMouseDown=function(event){event.preventDefault(),Dom.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(_globalDocument2["default"],"mousemove",this.handleMouseMove),this.on(_globalDocument2["default"],"mouseup",this.handleMouseUp),this.on(_globalDocument2["default"],"touchmove",this.handleMouseMove),this.on(_globalDocument2["default"],"touchend",this.handleMouseUp),this.handleMouseMove(event)},Slider.prototype.handleMouseMove=function(){},Slider.prototype.handleMouseUp=function(){Dom.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(_globalDocument2["default"],"mousemove",this.handleMouseMove),this.off(_globalDocument2["default"],"mouseup",this.handleMouseUp),this.off(_globalDocument2["default"],"touchmove",this.handleMouseMove),this.off(_globalDocument2["default"],"touchend",this.handleMouseUp),this.update()},Slider.prototype.update=function(){if(this.el_){var progress=this.getPercent(),bar=this.bar;if(bar){("number"!=typeof progress||progress!==progress||0>progress||progress===1/0)&&(progress=0);var percentage=(100*progress).toFixed(2)+"%";this.vertical()?bar.el().style.height=percentage:bar.el().style.width=percentage}}},Slider.prototype.calculateDistance=function(event){var position=Dom.getPointerPosition(this.el_,event);return this.vertical()?position.y:position.x},Slider.prototype.handleFocus=function(){this.on(_globalDocument2["default"],"keydown",this.handleKeyPress)},Slider.prototype.handleKeyPress=function(event){37===event.which||40===event.which?(event.preventDefault(),this.stepBack()):(38===event.which||39===event.which)&&(event.preventDefault(),this.stepForward())},Slider.prototype.handleBlur=function(){this.off(_globalDocument2["default"],"keydown",this.handleKeyPress)},Slider.prototype.handleClick=function(event){event.stopImmediatePropagation(),event.preventDefault()},Slider.prototype.vertical=function(bool){return void 0===bool?this.vertical_||!1:(this.vertical_=!!bool,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal"),this)},Slider}(_componentJs2["default"]);_componentJs2["default"].registerComponent("Slider",Slider),exports["default"]=Slider,module.exports=exports["default"]},{"../component.js":63,"../utils/dom.js":123,"global/document":1,"object.assign":45}],108:[function(_dereq_,module,exports){"use strict";function FlashRtmpDecorator(Flash){return Flash.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},Flash.streamFromParts=function(connection,stream){return connection+"&"+stream},Flash.streamToParts=function(src){var parts={connection:"",stream:""};if(!src)return parts;var connEnd=src.indexOf("&"),streamBegin=void 0;return-1!==connEnd?streamBegin=connEnd+1:(connEnd=streamBegin=src.lastIndexOf("/")+1,0===connEnd&&(connEnd=streamBegin=src.length)),parts.connection=src.substring(0,connEnd),parts.stream=src.substring(streamBegin,src.length),parts},Flash.isStreamingType=function(srcType){return srcType in Flash.streamingFormats},Flash.RTMP_RE=/^rtmp[set]?:\/\//i,Flash.isStreamingSrc=function(src){return Flash.RTMP_RE.test(src)},Flash.rtmpSourceHandler={},Flash.rtmpSourceHandler.canHandleSource=function(source){return Flash.isStreamingType(source.type)||Flash.isStreamingSrc(source.src)?"maybe":""},Flash.rtmpSourceHandler.handleSource=function(source,tech){var srcParts=Flash.streamToParts(source.src);tech.setRtmpConnection(srcParts.connection),tech.setRtmpStream(srcParts.stream)},Flash.registerSourceHandler(Flash.rtmpSourceHandler),Flash}exports.__esModule=!0,exports["default"]=FlashRtmpDecorator,module.exports=exports["default"]},{}],109:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _createSetter(attr){var attrUpper=attr.charAt(0).toUpperCase()+attr.slice(1);_api["set"+attrUpper]=function(val){return this.el_.vjs_setProperty(attr,val)}}function _createGetter(attr){_api[attr]=function(){return this.el_.vjs_getProperty(attr)}}exports.__esModule=!0;for(var _tech=_dereq_("./tech"),_tech2=_interopRequireDefault(_tech),_utilsDomJs=_dereq_("../utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_utilsUrlJs=_dereq_("../utils/url.js"),Url=_interopRequireWildcard(_utilsUrlJs),_utilsTimeRangesJs=_dereq_("../utils/time-ranges.js"),_flashRtmp=_dereq_("./flash-rtmp"),_flashRtmp2=_interopRequireDefault(_flashRtmp),_component=_dereq_("../component"),_component2=_interopRequireDefault(_component),_globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),_objectAssign=_dereq_("object.assign"),_objectAssign2=_interopRequireDefault(_objectAssign),navigator=_globalWindow2["default"].navigator,Flash=function(_Tech){function Flash(options,ready){_classCallCheck(this,Flash),_Tech.call(this,options,ready),options.source&&this.ready(function(){this.setSource(options.source)},!0),options.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(options.startTime)},!0),_globalWindow2["default"].videojs=_globalWindow2["default"].videojs||{},_globalWindow2["default"].videojs.Flash=_globalWindow2["default"].videojs.Flash||{},_globalWindow2["default"].videojs.Flash.onReady=Flash.onReady,_globalWindow2["default"].videojs.Flash.onEvent=Flash.onEvent,_globalWindow2["default"].videojs.Flash.onError=Flash.onError,this.on("seeked",function(){this.lastSeekTarget_=void 0})}return _inherits(Flash,_Tech),Flash.prototype.createEl=function(){var options=this.options_;options.swf||(options.swf="//vjs.zencdn.net/swf/5.0.0-rc1/video-js.swf");
var objId=options.techId,flashVars=_objectAssign2["default"]({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:options.autoplay,preload:options.preload,loop:options.loop,muted:options.muted},options.flashVars),params=_objectAssign2["default"]({wmode:"opaque",bgcolor:"#000000"},options.params),attributes=_objectAssign2["default"]({id:objId,name:objId,"class":"vjs-tech"},options.attributes);return this.el_=Flash.embed(options.swf,flashVars,params,attributes),this.el_.tech=this,this.el_},Flash.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},Flash.prototype.pause=function(){this.el_.vjs_pause()},Flash.prototype.src=function(_src){return void 0===_src?this.currentSrc():this.setSrc(_src)},Flash.prototype.setSrc=function(src){if(src=Url.getAbsoluteURL(src),this.el_.vjs_src(src),this.autoplay()){var tech=this;this.setTimeout(function(){tech.play()},0)}},Flash.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},Flash.prototype.setCurrentTime=function(time){var seekable=this.seekable();seekable.length&&(time=time>seekable.start(0)?time:seekable.start(0),time=time<seekable.end(seekable.length-1)?time:seekable.end(seekable.length-1),this.lastSeekTarget_=time,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",time),_Tech.prototype.setCurrentTime.call(this))},Flash.prototype.currentTime=function(time){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},Flash.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},Flash.prototype.load=function(){this.el_.vjs_load()},Flash.prototype.poster=function(){this.el_.vjs_getProperty("poster")},Flash.prototype.setPoster=function(){},Flash.prototype.seekable=function(){var duration=this.duration();return 0===duration?_utilsTimeRangesJs.createTimeRange():_utilsTimeRangesJs.createTimeRange(0,duration)},Flash.prototype.buffered=function(){var ranges=this.el_.vjs_getProperty("buffered");return 0===ranges.length?_utilsTimeRangesJs.createTimeRange():_utilsTimeRangesJs.createTimeRange(ranges[0][0],ranges[0][1])},Flash.prototype.supportsFullScreen=function(){return!1},Flash.prototype.enterFullScreen=function(){return!1},Flash}(_tech2["default"]),_api=Flash.prototype,_readWrite="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),_readOnly="networkState,readyState,initialTime,duration,startOffsetTime,paused,ended,videoTracks,audioTracks,videoWidth,videoHeight".split(","),i=0;i<_readWrite.length;i++)_createGetter(_readWrite[i]),_createSetter(_readWrite[i]);for(var i=0;i<_readOnly.length;i++)_createGetter(_readOnly[i]);Flash.isSupported=function(){return Flash.version()[0]>=10},_tech2["default"].withSourceHandlers(Flash),Flash.nativeSourceHandler={},Flash.nativeSourceHandler.canHandleSource=function(source){function guessMimeType(src){var ext=Url.getFileExtension(src);return ext?"video/"+ext:""}var type;return type=source.type?source.type.replace(/;.*/,"").toLowerCase():guessMimeType(source.src),type in Flash.formats?"maybe":""},Flash.nativeSourceHandler.handleSource=function(source,tech){tech.setSrc(source.src)},Flash.nativeSourceHandler.dispose=function(){},Flash.registerSourceHandler(Flash.nativeSourceHandler),Flash.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},Flash.onReady=function(currSwf){var el=Dom.getEl(currSwf),tech=el&&el.tech;tech&&tech.el()&&Flash.checkReady(tech)},Flash.checkReady=function(tech){tech.el()&&(tech.el().vjs_getProperty?tech.triggerReady():this.setTimeout(function(){Flash.checkReady(tech)},50))},Flash.onEvent=function(swfID,eventName){var tech=Dom.getEl(swfID).tech;tech.trigger(eventName)},Flash.onError=function(swfID,err){var tech=Dom.getEl(swfID).tech;return"srcnotfound"===err?tech.error(4):void tech.error("FLASH: "+err)},Flash.version=function(){var version="0,0,0";try{version=new _globalWindow2["default"].ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(version=(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(err){}}return version.split(",")},Flash.embed=function(swf,flashVars,params,attributes){var code=Flash.getEmbedCode(swf,flashVars,params,attributes),obj=Dom.createEl("div",{innerHTML:code}).childNodes[0];return obj},Flash.getEmbedCode=function(swf,flashVars,params,attributes){var objTag='<object type="application/x-shockwave-flash" ',flashVarsString="",paramsString="",attrsString="";return flashVars&&Object.getOwnPropertyNames(flashVars).forEach(function(key){flashVarsString+=key+"="+flashVars[key]+"&amp;"}),params=_objectAssign2["default"]({movie:swf,flashvars:flashVarsString,allowScriptAccess:"always",allowNetworking:"all"},params),Object.getOwnPropertyNames(params).forEach(function(key){paramsString+='<param name="'+key+'" value="'+params[key]+'" />'}),attributes=_objectAssign2["default"]({data:swf,width:"100%",height:"100%"},attributes),Object.getOwnPropertyNames(attributes).forEach(function(key){attrsString+=key+'="'+attributes[key]+'" '}),""+objTag+attrsString+">"+paramsString+"</object>"},_flashRtmp2["default"](Flash),_component2["default"].registerComponent("Flash",Flash),exports["default"]=Flash,module.exports=exports["default"]},{"../component":63,"../utils/dom.js":123,"../utils/time-ranges.js":131,"../utils/url.js":133,"./flash-rtmp":108,"./tech":112,"global/window":2,"object.assign":45}],110:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _techJs=_dereq_("./tech.js"),_techJs2=_interopRequireDefault(_techJs),_component=_dereq_("../component"),_component2=_interopRequireDefault(_component),_utilsDomJs=_dereq_("../utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_utilsUrlJs=_dereq_("../utils/url.js"),Url=_interopRequireWildcard(_utilsUrlJs),_utilsFnJs=_dereq_("../utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_utilsLogJs=_dereq_("../utils/log.js"),_utilsLogJs2=_interopRequireDefault(_utilsLogJs),_utilsBrowserJs=_dereq_("../utils/browser.js"),browser=_interopRequireWildcard(_utilsBrowserJs),_globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),_globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),_objectAssign=_dereq_("object.assign"),_objectAssign2=_interopRequireDefault(_objectAssign),_utilsMergeOptionsJs=_dereq_("../utils/merge-options.js"),_utilsMergeOptionsJs2=_interopRequireDefault(_utilsMergeOptionsJs),Html5=function(_Tech){function Html5(options,ready){_classCallCheck(this,Html5),_Tech.call(this,options,ready);var source=options.source;if(source&&(this.el_.currentSrc!==source.src||options.tag&&3===options.tag.initNetworkState_)?this.setSource(source):this.handleLateInit_(this.el_),this.el_.hasChildNodes()){for(var nodes=this.el_.childNodes,nodesLength=nodes.length,removeNodes=[];nodesLength--;){var node=nodes[nodesLength],nodeName=node.nodeName.toLowerCase();"track"===nodeName&&(this.featuresNativeTextTracks?this.remoteTextTracks().addTrack_(node.track):removeNodes.push(node))}for(var i=0;i<removeNodes.length;i++)this.el_.removeChild(removeNodes[i])}this.featuresNativeTextTracks&&(this.handleTextTrackChange_=Fn.bind(this,this.handleTextTrackChange),this.handleTextTrackAdd_=Fn.bind(this,this.handleTextTrackAdd),this.handleTextTrackRemove_=Fn.bind(this,this.handleTextTrackRemove),this.proxyNativeTextTracks_()),(browser.TOUCH_ENABLED&&options.nativeControlsForTouch===!0||browser.IS_IPHONE||browser.IS_NATIVE_ANDROID)&&this.setControls(!0),this.triggerReady()}return _inherits(Html5,_Tech),Html5.prototype.dispose=function(){var tt=this.el().textTracks,emulatedTt=this.textTracks();tt&&tt.removeEventListener&&(tt.removeEventListener("change",this.handleTextTrackChange_),tt.removeEventListener("addtrack",this.handleTextTrackAdd_),tt.removeEventListener("removetrack",this.handleTextTrackRemove_));for(var i=emulatedTt.length;i--;)emulatedTt.removeTrack_(emulatedTt[i]);Html5.disposeMediaElement(this.el_),_Tech.prototype.dispose.call(this)},Html5.prototype.createEl=function(){var el=this.options_.tag;if(!el||this.movingMediaElementInDOM===!1)if(el){var clone=el.cloneNode(!0);el.parentNode.insertBefore(clone,el),Html5.disposeMediaElement(el),el=clone}else{el=_globalDocument2["default"].createElement("video");var tagAttributes=this.options_.tag&&Dom.getElAttributes(this.options_.tag),attributes=_utilsMergeOptionsJs2["default"]({},tagAttributes);browser.TOUCH_ENABLED&&this.options_.nativeControlsForTouch===!0||delete attributes.controls,Dom.setElAttributes(el,_objectAssign2["default"](attributes,{id:this.options_.techId,"class":"vjs-tech"}))}for(var settingsAttrs=["autoplay","preload","loop","muted"],i=settingsAttrs.length-1;i>=0;i--){var attr=settingsAttrs[i],overwriteAttrs={};"undefined"!=typeof this.options_[attr]&&(overwriteAttrs[attr]=this.options_[attr]),Dom.setElAttributes(el,overwriteAttrs)}return el},Html5.prototype.handleLateInit_=function(el){var _this=this;if(0!==el.networkState&&3!==el.networkState){if(0===el.readyState){var _ret=function(){var loadstartFired=!1,setLoadstartFired=function(){loadstartFired=!0};_this.on("loadstart",setLoadstartFired);var triggerLoadstart=function(){loadstartFired||this.trigger("loadstart")};return _this.on("loadedmetadata",triggerLoadstart),_this.ready(function(){this.off("loadstart",setLoadstartFired),this.off("loadedmetadata",triggerLoadstart),loadstartFired||this.trigger("loadstart")}),{v:void 0}}();if("object"==typeof _ret)return _ret.v}var eventsToTrigger=["loadstart"];eventsToTrigger.push("loadedmetadata"),el.readyState>=2&&eventsToTrigger.push("loadeddata"),el.readyState>=3&&eventsToTrigger.push("canplay"),el.readyState>=4&&eventsToTrigger.push("canplaythrough"),this.ready(function(){eventsToTrigger.forEach(function(type){this.trigger(type)},this)})}},Html5.prototype.proxyNativeTextTracks_=function(){var tt=this.el().textTracks;tt&&tt.addEventListener&&(tt.addEventListener("change",this.handleTextTrackChange_),tt.addEventListener("addtrack",this.handleTextTrackAdd_),tt.addEventListener("removetrack",this.handleTextTrackRemove_))},Html5.prototype.handleTextTrackChange=function(e){var tt=this.textTracks();this.textTracks().trigger({type:"change",target:tt,currentTarget:tt,srcElement:tt})},Html5.prototype.handleTextTrackAdd=function(e){this.textTracks().addTrack_(e.track)},Html5.prototype.handleTextTrackRemove=function(e){this.textTracks().removeTrack_(e.track)},Html5.prototype.play=function(){this.el_.play()},Html5.prototype.pause=function(){this.el_.pause()},Html5.prototype.paused=function(){return this.el_.paused},Html5.prototype.currentTime=function(){return this.el_.currentTime},Html5.prototype.setCurrentTime=function(seconds){try{this.el_.currentTime=seconds}catch(e){_utilsLogJs2["default"](e,"Video is not ready. (Video.js)")}},Html5.prototype.duration=function(){return this.el_.duration||0},Html5.prototype.buffered=function(){return this.el_.buffered},Html5.prototype.volume=function(){return this.el_.volume},Html5.prototype.setVolume=function(percentAsDecimal){this.el_.volume=percentAsDecimal},Html5.prototype.muted=function(){return this.el_.muted},Html5.prototype.setMuted=function(muted){this.el_.muted=muted},Html5.prototype.width=function(){return this.el_.offsetWidth},Html5.prototype.height=function(){return this.el_.offsetHeight},Html5.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var userAgent=_globalWindow2["default"].navigator.userAgent;if(/Android/.test(userAgent)||!/Chrome|Mac OS X 10.5/.test(userAgent))return!0}return!1},Html5.prototype.enterFullScreen=function(){var video=this.el_;"webkitDisplayingFullscreen"in video&&this.one("webkitbeginfullscreen",function(){this.one("webkitendfullscreen",function(){this.trigger("fullscreenchange",{isFullscreen:!1})}),this.trigger("fullscreenchange",{isFullscreen:!0})}),video.paused&&video.networkState<=video.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){video.pause(),video.webkitEnterFullScreen()},0)):video.webkitEnterFullScreen()},Html5.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},Html5.prototype.src=function(_src){return void 0===_src?this.el_.src:void this.setSrc(_src)},Html5.prototype.setSrc=function(src){this.el_.src=src},Html5.prototype.load=function(){this.el_.load()},Html5.prototype.currentSrc=function(){return this.el_.currentSrc},Html5.prototype.poster=function(){return this.el_.poster},Html5.prototype.setPoster=function(val){this.el_.poster=val},Html5.prototype.preload=function(){return this.el_.preload},Html5.prototype.setPreload=function(val){this.el_.preload=val},Html5.prototype.autoplay=function(){return this.el_.autoplay},Html5.prototype.setAutoplay=function(val){this.el_.autoplay=val},Html5.prototype.controls=function(){return this.el_.controls},Html5.prototype.setControls=function(val){this.el_.controls=!!val},Html5.prototype.loop=function(){return this.el_.loop},Html5.prototype.setLoop=function(val){this.el_.loop=val},Html5.prototype.error=function(){return this.el_.error},Html5.prototype.seeking=function(){return this.el_.seeking},Html5.prototype.seekable=function(){return this.el_.seekable},Html5.prototype.ended=function(){return this.el_.ended},Html5.prototype.defaultMuted=function(){return this.el_.defaultMuted},Html5.prototype.playbackRate=function(){return this.el_.playbackRate},Html5.prototype.played=function(){return this.el_.played},Html5.prototype.setPlaybackRate=function(val){this.el_.playbackRate=val},Html5.prototype.networkState=function(){return this.el_.networkState},Html5.prototype.readyState=function(){return this.el_.readyState},Html5.prototype.videoWidth=function(){return this.el_.videoWidth},Html5.prototype.videoHeight=function(){return this.el_.videoHeight},Html5.prototype.textTracks=function(){return _Tech.prototype.textTracks.call(this)},Html5.prototype.addTextTrack=function(kind,label,language){return this.featuresNativeTextTracks?this.el_.addTextTrack(kind,label,language):_Tech.prototype.addTextTrack.call(this,kind,label,language)},Html5.prototype.addRemoteTextTrack=function(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!this.featuresNativeTextTracks)return _Tech.prototype.addRemoteTextTrack.call(this,options);var track=_globalDocument2["default"].createElement("track");return options.kind&&(track.kind=options.kind),options.label&&(track.label=options.label),(options.language||options.srclang)&&(track.srclang=options.language||options.srclang),options["default"]&&(track["default"]=options["default"]),options.id&&(track.id=options.id),options.src&&(track.src=options.src),this.el().appendChild(track),this.remoteTextTracks().addTrack_(track.track),track},Html5.prototype.removeRemoteTextTrack=function(track){if(!this.featuresNativeTextTracks)return _Tech.prototype.removeRemoteTextTrack.call(this,track);var tracks,i;for(this.remoteTextTracks().removeTrack_(track),tracks=this.el().querySelectorAll("track"),i=tracks.length;i--;)(track===tracks[i]||track===tracks[i].track)&&this.el().removeChild(tracks[i])},Html5}(_techJs2["default"]);Html5.TEST_VID=_globalDocument2["default"].createElement("video");var track=_globalDocument2["default"].createElement("track");track.kind="captions",track.srclang="en",track.label="English",Html5.TEST_VID.appendChild(track),Html5.isSupported=function(){try{Html5.TEST_VID.volume=.5}catch(e){return!1}return!!Html5.TEST_VID.canPlayType},_techJs2["default"].withSourceHandlers(Html5),Html5.nativeSourceHandler={},Html5.nativeSourceHandler.canHandleSource=function(source){function canPlayType(type){try{return Html5.TEST_VID.canPlayType(type)}catch(e){return""}}var ext;return source.type?canPlayType(source.type):source.src?(ext=Url.getFileExtension(source.src),canPlayType("video/"+ext)):""},Html5.nativeSourceHandler.handleSource=function(source,tech){tech.setSrc(source.src)},Html5.nativeSourceHandler.dispose=function(){},Html5.registerSourceHandler(Html5.nativeSourceHandler),Html5.canControlVolume=function(){var volume=Html5.TEST_VID.volume;return Html5.TEST_VID.volume=volume/2+.1,volume!==Html5.TEST_VID.volume},Html5.canControlPlaybackRate=function(){var playbackRate=Html5.TEST_VID.playbackRate;return Html5.TEST_VID.playbackRate=playbackRate/2+.1,playbackRate!==Html5.TEST_VID.playbackRate},Html5.supportsNativeTextTracks=function(){var supportsTextTracks;return supportsTextTracks=!!Html5.TEST_VID.textTracks,supportsTextTracks&&Html5.TEST_VID.textTracks.length>0&&(supportsTextTracks="number"!=typeof Html5.TEST_VID.textTracks[0].mode),supportsTextTracks&&browser.IS_FIREFOX&&(supportsTextTracks=!1),!supportsTextTracks||"onremovetrack"in Html5.TEST_VID.textTracks||(supportsTextTracks=!1),supportsTextTracks},Html5.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],Html5.prototype.featuresVolumeControl=Html5.canControlVolume(),Html5.prototype.featuresPlaybackRate=Html5.canControlPlaybackRate(),Html5.prototype.movingMediaElementInDOM=!browser.IS_IOS,Html5.prototype.featuresFullscreenResize=!0,Html5.prototype.featuresProgressEvents=!0,Html5.prototype.featuresNativeTextTracks=Html5.supportsNativeTextTracks();var canPlayType=void 0,mpegurlRE=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,mp4RE=/^video\/mp4/i;Html5.patchCanPlayType=function(){browser.ANDROID_VERSION>=4&&(canPlayType||(canPlayType=Html5.TEST_VID.constructor.prototype.canPlayType),Html5.TEST_VID.constructor.prototype.canPlayType=function(type){return type&&mpegurlRE.test(type)?"maybe":canPlayType.call(this,type)}),browser.IS_OLD_ANDROID&&(canPlayType||(canPlayType=Html5.TEST_VID.constructor.prototype.canPlayType),Html5.TEST_VID.constructor.prototype.canPlayType=function(type){return type&&mp4RE.test(type)?"maybe":canPlayType.call(this,type)})},Html5.unpatchCanPlayType=function(){var r=Html5.TEST_VID.constructor.prototype.canPlayType;return Html5.TEST_VID.constructor.prototype.canPlayType=canPlayType,canPlayType=null,r},Html5.patchCanPlayType(),Html5.disposeMediaElement=function(el){if(el){for(el.parentNode&&el.parentNode.removeChild(el);el.hasChildNodes();)el.removeChild(el.firstChild);el.removeAttribute("src"),"function"==typeof el.load&&!function(){try{el.load()}catch(e){}}()}},_component2["default"].registerComponent("Html5",Html5),exports["default"]=Html5,module.exports=exports["default"]},{"../component":63,"../utils/browser.js":120,"../utils/dom.js":123,"../utils/fn.js":125,"../utils/log.js":128,"../utils/merge-options.js":129,"../utils/url.js":133,"./tech.js":112,"global/document":1,"global/window":2,"object.assign":45}],111:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_("../component"),_component2=_interopRequireDefault(_component),_globalWindow=_dereq_("global/window"),_utilsToTitleCaseJs=(_interopRequireDefault(_globalWindow),_dereq_("../utils/to-title-case.js")),_utilsToTitleCaseJs2=_interopRequireDefault(_utilsToTitleCaseJs),MediaLoader=function(_Component){function MediaLoader(player,options,ready){if(_classCallCheck(this,MediaLoader),_Component.call(this,player,options,ready),options.playerOptions.sources&&0!==options.playerOptions.sources.length)player.src(options.playerOptions.sources);else for(var i=0,j=options.playerOptions.techOrder;i<j.length;i++){var techName=_utilsToTitleCaseJs2["default"](j[i]),tech=_component2["default"].getComponent(techName);if(tech&&tech.isSupported()){player.loadTech_(techName);break}}}return _inherits(MediaLoader,_Component),MediaLoader}(_component2["default"]);_component2["default"].registerComponent("MediaLoader",MediaLoader),exports["default"]=MediaLoader,module.exports=exports["default"]},{"../component":63,"../utils/to-title-case.js":132,"global/window":2}],112:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _component=_dereq_("../component"),_component2=_interopRequireDefault(_component),_tracksTextTrack=_dereq_("../tracks/text-track"),_tracksTextTrack2=_interopRequireDefault(_tracksTextTrack),_tracksTextTrackList=_dereq_("../tracks/text-track-list"),_tracksTextTrackList2=_interopRequireDefault(_tracksTextTrackList),_utilsFnJs=_dereq_("../utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_utilsLogJs=_dereq_("../utils/log.js"),_utilsLogJs2=_interopRequireDefault(_utilsLogJs),_utilsTimeRangesJs=_dereq_("../utils/time-ranges.js"),_utilsBufferJs=_dereq_("../utils/buffer.js"),_mediaErrorJs=_dereq_("../media-error.js"),_mediaErrorJs2=_interopRequireDefault(_mediaErrorJs),_globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),_globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),Tech=function(_Component){function Tech(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],ready=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];_classCallCheck(this,Tech),options.reportTouchActivity=!1,_Component.call(this,null,options,ready),this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),this.textTracks_=options.textTracks,this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),(options.nativeCaptions===!1||options.nativeTextTracks===!1)&&(this.featuresNativeTextTracks=!1),this.featuresNativeTextTracks||this.on("ready",this.emulateTextTracks),this.initTextTrackListeners(),this.emitTapEvents()}return _inherits(Tech,_Component),Tech.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},Tech.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},Tech.prototype.trackProgress=function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Fn.bind(this,function(){var numBufferedPercent=this.bufferedPercent();this.bufferedPercent_!==numBufferedPercent&&this.trigger("progress"),this.bufferedPercent_=numBufferedPercent,1===numBufferedPercent&&this.stopTrackingProgress()}),500)},Tech.prototype.onDurationChange=function(){this.duration_=this.duration()},Tech.prototype.buffered=function(){return _utilsTimeRangesJs.createTimeRange(0,0)},Tech.prototype.bufferedPercent=function(){return _utilsBufferJs.bufferedPercent(this.buffered(),this.duration_)},Tech.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},Tech.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},Tech.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},Tech.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},Tech.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},Tech.prototype.dispose=function(){var textTracks=this.textTracks();if(textTracks)for(var i=textTracks.length;i--;)this.removeRemoteTextTrack(textTracks[i]);this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),_Component.prototype.dispose.call(this)},Tech.prototype.error=function(err){return void 0!==err&&(err instanceof _mediaErrorJs2["default"]?this.error_=err:this.error_=new _mediaErrorJs2["default"](err),this.trigger("error")),this.error_},Tech.prototype.played=function(){return this.hasStarted_?_utilsTimeRangesJs.createTimeRange(0,0):_utilsTimeRangesJs.createTimeRange()},Tech.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},Tech.prototype.initTextTrackListeners=function(){var textTrackListChanges=Fn.bind(this,function(){this.trigger("texttrackchange")}),tracks=this.textTracks();tracks&&(tracks.addEventListener("removetrack",textTrackListChanges),tracks.addEventListener("addtrack",textTrackListChanges),this.on("dispose",Fn.bind(this,function(){tracks.removeEventListener("removetrack",textTrackListChanges),tracks.removeEventListener("addtrack",textTrackListChanges)})))},Tech.prototype.emulateTextTracks=function(){if(!_globalWindow2["default"].WebVTT&&null!=this.el().parentNode){var script=_globalDocument2["default"].createElement("script");script.src=this.options_["vtt.js"]||"../node_modules/vtt.js/dist/vtt.js",this.el().parentNode.appendChild(script),_globalWindow2["default"].WebVTT=!0}var tracks=this.textTracks();if(tracks){var textTracksChanges=Fn.bind(this,function(){var _this=this,updateDisplay=function(){return _this.trigger("texttrackchange")};updateDisplay();for(var i=0;i<tracks.length;i++){var track=tracks[i];track.removeEventListener("cuechange",updateDisplay),"showing"===track.mode&&track.addEventListener("cuechange",updateDisplay)}});tracks.addEventListener("change",textTracksChanges),this.on("dispose",function(){tracks.removeEventListener("change",textTracksChanges)})}},Tech.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new _tracksTextTrackList2["default"],this.textTracks_},Tech.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new _tracksTextTrackList2["default"],this.remoteTextTracks_},Tech.prototype.addTextTrack=function(kind,label,language){if(!kind)throw new Error("TextTrack kind is required but was not provided");return createTrackHelper(this,kind,label,language)},Tech.prototype.addRemoteTextTrack=function(options){var track=createTrackHelper(this,options.kind,options.label,options.language,options);return this.remoteTextTracks().addTrack_(track),{track:track}},Tech.prototype.removeRemoteTextTrack=function(track){this.textTracks().removeTrack_(track),this.remoteTextTracks().removeTrack_(track)},Tech.prototype.setPoster=function(){},Tech}(_component2["default"]);Tech.prototype.textTracks_;var createTrackHelper=function(self,kind,label,language){var options=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],tracks=self.textTracks();options.kind=kind,label&&(options.label=label),language&&(options.language=language),options.tech=self;var track=new _tracksTextTrack2["default"](options);return tracks.addTrack_(track),track};Tech.prototype.featuresVolumeControl=!0,Tech.prototype.featuresFullscreenResize=!1,Tech.prototype.featuresPlaybackRate=!1,Tech.prototype.featuresProgressEvents=!1,Tech.prototype.featuresTimeupdateEvents=!1,Tech.prototype.featuresNativeTextTracks=!1,Tech.withSourceHandlers=function(_Tech){_Tech.registerSourceHandler=function(handler,index){var handlers=_Tech.sourceHandlers;handlers||(handlers=_Tech.sourceHandlers=[]),void 0===index&&(index=handlers.length),handlers.splice(index,0,handler)},_Tech.selectSourceHandler=function(source){for(var handlers=_Tech.sourceHandlers||[],can=void 0,i=0;i<handlers.length;i++)if(can=handlers[i].canHandleSource(source))return handlers[i];return null},_Tech.canPlaySource=function(srcObj){var sh=_Tech.selectSourceHandler(srcObj);return sh?sh.canHandleSource(srcObj):""};var originalSeekable=_Tech.prototype.seekable;_Tech.prototype.seekable=function(){return this.sourceHandler_&&this.sourceHandler_.seekable?this.sourceHandler_.seekable():originalSeekable.call(this)},_Tech.prototype.setSource=function(source){var sh=_Tech.selectSourceHandler(source);return sh||(_Tech.nativeSourceHandler?sh=_Tech.nativeSourceHandler:_utilsLogJs2["default"].error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),this.currentSource_=source,this.sourceHandler_=sh.handleSource(source,this),this.on("dispose",this.disposeSourceHandler),this},_Tech.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&this.sourceHandler_.dispose()}},_component2["default"].registerComponent("Tech",Tech),_component2["default"].registerComponent("MediaTechController",Tech),exports["default"]=Tech,module.exports=exports["default"]},{"../component":63,"../media-error.js":99,"../tracks/text-track":119,"../tracks/text-track-list":117,"../utils/buffer.js":121,"../utils/fn.js":125,"../utils/log.js":128,"../utils/time-ranges.js":131,"global/document":1,"global/window":2}],113:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}exports.__esModule=!0;var _utilsBrowserJs=_dereq_("../utils/browser.js"),browser=_interopRequireWildcard(_utilsBrowserJs),_globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),TextTrackCueList=function TextTrackCueList(cues){
var list=this;if(browser.IS_IE8){list=_globalDocument2["default"].createElement("custom");for(var prop in TextTrackCueList.prototype)list[prop]=TextTrackCueList.prototype[prop]}return TextTrackCueList.prototype.setCues_.call(list,cues),Object.defineProperty(list,"length",{get:function(){return this.length_}}),browser.IS_IE8?list:void 0};TextTrackCueList.prototype.setCues_=function(cues){var oldLength=this.length||0,i=0,l=cues.length;this.cues_=cues,this.length_=cues.length;var defineProp=function(i){""+i in this||Object.defineProperty(this,""+i,{get:function(){return this.cues_[i]}})};if(l>oldLength)for(i=oldLength;l>i;i++)defineProp.call(this,i)},TextTrackCueList.prototype.getCueById=function(id){for(var result=null,i=0,l=this.length;l>i;i++){var cue=this[i];if(cue.id===id){result=cue;break}}return result},exports["default"]=TextTrackCueList,module.exports=exports["default"]},{"../utils/browser.js":120,"global/document":1}],114:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function constructColor(color,opacity){return"rgba("+parseInt(color[1]+color[1],16)+","+parseInt(color[2]+color[2],16)+","+parseInt(color[3]+color[3],16)+","+opacity+")"}function tryUpdateStyle(el,style,rule){try{el.style[style]=rule}catch(e){}}exports.__esModule=!0;var _component=_dereq_("../component"),_component2=_interopRequireDefault(_component),_menuMenuJs=_dereq_("../menu/menu.js"),_menuMenuItemJs=(_interopRequireDefault(_menuMenuJs),_dereq_("../menu/menu-item.js")),_menuMenuButtonJs=(_interopRequireDefault(_menuMenuItemJs),_dereq_("../menu/menu-button.js")),_utilsFnJs=(_interopRequireDefault(_menuMenuButtonJs),_dereq_("../utils/fn.js")),Fn=_interopRequireWildcard(_utilsFnJs),_globalDocument=_dereq_("global/document"),_globalWindow=(_interopRequireDefault(_globalDocument),_dereq_("global/window")),_globalWindow2=_interopRequireDefault(_globalWindow),darkGray="#222",lightGray="#ccc",fontMap={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},TextTrackDisplay=function(_Component){function TextTrackDisplay(player,options,ready){_classCallCheck(this,TextTrackDisplay),_Component.call(this,player,options,ready),player.on("loadstart",Fn.bind(this,this.toggleDisplay)),player.on("texttrackchange",Fn.bind(this,this.updateDisplay)),player.ready(Fn.bind(this,function(){if(player.tech_&&player.tech_.featuresNativeTextTracks)return void this.hide();player.on("fullscreenchange",Fn.bind(this,this.updateDisplay));for(var tracks=this.options_.playerOptions.tracks||[],i=0;i<tracks.length;i++){var track=tracks[i];this.player_.addRemoteTextTrack(track)}}))}return _inherits(TextTrackDisplay,_Component),TextTrackDisplay.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},TextTrackDisplay.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},TextTrackDisplay.prototype.clearDisplay=function(){"function"==typeof _globalWindow2["default"].WebVTT&&_globalWindow2["default"].WebVTT.processCues(_globalWindow2["default"],[],this.el_)},TextTrackDisplay.prototype.updateDisplay=function(){var tracks=this.player_.textTracks();if(this.clearDisplay(),tracks)for(var i=0;i<tracks.length;i++){var track=tracks[i];"showing"===track.mode&&this.updateForTrack(track)}},TextTrackDisplay.prototype.updateForTrack=function(track){if("function"==typeof _globalWindow2["default"].WebVTT&&track.activeCues){for(var overrides=this.player_.textTrackSettings.getValues(),cues=[],_i=0;_i<track.activeCues.length;_i++)cues.push(track.activeCues[_i]);_globalWindow2["default"].WebVTT.processCues(_globalWindow2["default"],track.activeCues,this.el_);for(var i=cues.length;i--;){var cueDiv=cues[i].displayState;if(overrides.color&&(cueDiv.firstChild.style.color=overrides.color),overrides.textOpacity&&tryUpdateStyle(cueDiv.firstChild,"color",constructColor(overrides.color||"#fff",overrides.textOpacity)),overrides.backgroundColor&&(cueDiv.firstChild.style.backgroundColor=overrides.backgroundColor),overrides.backgroundOpacity&&tryUpdateStyle(cueDiv.firstChild,"backgroundColor",constructColor(overrides.backgroundColor||"#000",overrides.backgroundOpacity)),overrides.windowColor&&(overrides.windowOpacity?tryUpdateStyle(cueDiv,"backgroundColor",constructColor(overrides.windowColor,overrides.windowOpacity)):cueDiv.style.backgroundColor=overrides.windowColor),overrides.edgeStyle&&("dropshadow"===overrides.edgeStyle?cueDiv.firstChild.style.textShadow="2px 2px 3px "+darkGray+", 2px 2px 4px "+darkGray+", 2px 2px 5px "+darkGray:"raised"===overrides.edgeStyle?cueDiv.firstChild.style.textShadow="1px 1px "+darkGray+", 2px 2px "+darkGray+", 3px 3px "+darkGray:"depressed"===overrides.edgeStyle?cueDiv.firstChild.style.textShadow="1px 1px "+lightGray+", 0 1px "+lightGray+", -1px -1px "+darkGray+", 0 -1px "+darkGray:"uniform"===overrides.edgeStyle&&(cueDiv.firstChild.style.textShadow="0 0 4px "+darkGray+", 0 0 4px "+darkGray+", 0 0 4px "+darkGray+", 0 0 4px "+darkGray)),overrides.fontPercent&&1!==overrides.fontPercent){var fontSize=_globalWindow2["default"].parseFloat(cueDiv.style.fontSize);cueDiv.style.fontSize=fontSize*overrides.fontPercent+"px",cueDiv.style.height="auto",cueDiv.style.top="auto",cueDiv.style.bottom="2px"}overrides.fontFamily&&"default"!==overrides.fontFamily&&("small-caps"===overrides.fontFamily?cueDiv.firstChild.style.fontVariant="small-caps":cueDiv.firstChild.style.fontFamily=fontMap[overrides.fontFamily])}}},TextTrackDisplay}(_component2["default"]);_component2["default"].registerComponent("TextTrackDisplay",TextTrackDisplay),exports["default"]=TextTrackDisplay,module.exports=exports["default"]},{"../component":63,"../menu/menu-button.js":100,"../menu/menu-item.js":101,"../menu/menu.js":102,"../utils/fn.js":125,"global/document":1,"global/window":2}],115:[function(_dereq_,module,exports){"use strict";exports.__esModule=!0;var TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"},TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"};exports.TextTrackMode=TextTrackMode,exports.TextTrackKind=TextTrackKind},{}],116:[function(_dereq_,module,exports){"use strict";exports.__esModule=!0;var trackToJson_=function(track){return{kind:track.kind,label:track.label,language:track.language,id:track.id,inBandMetadataTrackDispatchType:track.inBandMetadataTrackDispatchType,mode:track.mode,cues:track.cues&&Array.prototype.map.call(track.cues,function(cue){return{startTime:cue.startTime,endTime:cue.endTime,text:cue.text,id:cue.id}}),src:track.src}},textTracksToJson=function(tech){var trackEls=tech.el().querySelectorAll("track"),trackObjs=Array.prototype.map.call(trackEls,function(t){return t.track}),tracks=Array.prototype.map.call(trackEls,function(trackEl){var json=trackToJson_(trackEl.track);return json.src=trackEl.src,json});return tracks.concat(Array.prototype.filter.call(tech.textTracks(),function(track){return-1===trackObjs.indexOf(track)}).map(trackToJson_))},jsonToTextTracks=function(json,tech){return json.forEach(function(track){var addedTrack=tech.addRemoteTextTrack(track).track;!track.src&&track.cues&&track.cues.forEach(function(cue){return addedTrack.addCue(cue)})}),tech.textTracks()};exports["default"]={textTracksToJson:textTracksToJson,jsonToTextTracks:jsonToTextTracks,trackToJson_:trackToJson_},module.exports=exports["default"]},{}],117:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _eventTarget=_dereq_("../event-target"),_eventTarget2=_interopRequireDefault(_eventTarget),_utilsFnJs=_dereq_("../utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_utilsBrowserJs=_dereq_("../utils/browser.js"),browser=_interopRequireWildcard(_utilsBrowserJs),_globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),TextTrackList=function TextTrackList(tracks){var list=this;if(browser.IS_IE8){list=_globalDocument2["default"].createElement("custom");for(var prop in TextTrackList.prototype)list[prop]=TextTrackList.prototype[prop]}tracks=tracks||[],list.tracks_=[],Object.defineProperty(list,"length",{get:function(){return this.tracks_.length}});for(var i=0;i<tracks.length;i++)list.addTrack_(tracks[i]);return browser.IS_IE8?list:void 0};TextTrackList.prototype=Object.create(_eventTarget2["default"].prototype),TextTrackList.prototype.constructor=TextTrackList,TextTrackList.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var _event in TextTrackList.prototype.allowedEvents_)TextTrackList.prototype["on"+_event]=null;TextTrackList.prototype.addTrack_=function(track){var index=this.tracks_.length;""+index in this||Object.defineProperty(this,index,{get:function(){return this.tracks_[index]}}),track.addEventListener("modechange",Fn.bind(this,function(){this.trigger("change")})),this.tracks_.push(track),this.trigger({type:"addtrack",track:track})},TextTrackList.prototype.removeTrack_=function(rtrack){for(var track=void 0,i=0,l=this.length;l>i;i++)if(track=this[i],track===rtrack){this.tracks_.splice(i,1);break}this.trigger({type:"removetrack",track:track})},TextTrackList.prototype.getTrackById=function(id){for(var result=null,i=0,l=this.length;l>i;i++){var track=this[i];if(track.id===id){result=track;break}}return result},exports["default"]=TextTrackList,module.exports=exports["default"]},{"../event-target":95,"../utils/browser.js":120,"../utils/fn.js":125,"global/document":1}],118:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getSelectedOptionValue(target){var selectedOption=void 0;return target.selectedOptions?selectedOption=target.selectedOptions[0]:target.options&&(selectedOption=target.options[target.options.selectedIndex]),selectedOption.value}function setSelectedOption(target,value){if(value){var i=void 0;for(i=0;i<target.options.length;i++){var option=target.options[i];if(option.value===value)break}target.selectedIndex=i}}function captionOptionsMenuTemplate(){var template='<div class="vjs-tracksettings">\n      <div class="vjs-tracksettings-colors">\n        <div class="vjs-fg-color vjs-tracksetting">\n            <label class="vjs-label">Foreground</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-text-opacity vjs-opacity">\n              <select>\n                <option value="">---</option>\n                <option value="1">Opaque</option>\n                <option value="0.5">Semi-Opaque</option>\n              </select>\n            </span>\n        </div> <!-- vjs-fg-color -->\n        <div class="vjs-bg-color vjs-tracksetting">\n            <label class="vjs-label">Background</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-bg-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> <!-- vjs-bg-color -->\n        <div class="window-color vjs-tracksetting">\n            <label class="vjs-label">Window</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-window-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> <!-- vjs-window-color -->\n      </div> <!-- vjs-tracksettings -->\n      <div class="vjs-tracksettings-font">\n        <div class="vjs-font-percent vjs-tracksetting">\n          <label class="vjs-label">Font Size</label>\n          <select>\n            <option value="0.50">50%</option>\n            <option value="0.75">75%</option>\n            <option value="1.00" selected>100%</option>\n            <option value="1.25">125%</option>\n            <option value="1.50">150%</option>\n            <option value="1.75">175%</option>\n            <option value="2.00">200%</option>\n            <option value="3.00">300%</option>\n            <option value="4.00">400%</option>\n          </select>\n        </div> <!-- vjs-font-percent -->\n        <div class="vjs-edge-style vjs-tracksetting">\n          <label class="vjs-label">Text Edge Style</label>\n          <select>\n            <option value="none">None</option>\n            <option value="raised">Raised</option>\n            <option value="depressed">Depressed</option>\n            <option value="uniform">Uniform</option>\n            <option value="dropshadow">Dropshadow</option>\n          </select>\n        </div> <!-- vjs-edge-style -->\n        <div class="vjs-font-family vjs-tracksetting">\n          <label class="vjs-label">Font Family</label>\n          <select>\n            <option value="">Default</option>\n            <option value="monospaceSerif">Monospace Serif</option>\n            <option value="proportionalSerif">Proportional Serif</option>\n            <option value="monospaceSansSerif">Monospace Sans-Serif</option>\n            <option value="proportionalSansSerif">Proportional Sans-Serif</option>\n            <option value="casual">Casual</option>\n            <option value="script">Script</option>\n            <option value="small-caps">Small Caps</option>\n          </select>\n        </div> <!-- vjs-font-family -->\n      </div>\n    </div>\n    <div class="vjs-tracksettings-controls">\n      <button class="vjs-default-button">Defaults</button>\n      <button class="vjs-done-button">Done</button>\n    </div>';return template}exports.__esModule=!0;var _component=_dereq_("../component"),_component2=_interopRequireDefault(_component),_utilsEventsJs=_dereq_("../utils/events.js"),Events=_interopRequireWildcard(_utilsEventsJs),_utilsFnJs=_dereq_("../utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_utilsLogJs=_dereq_("../utils/log.js"),_utilsLogJs2=_interopRequireDefault(_utilsLogJs),_safeJsonParseTuple=_dereq_("safe-json-parse/tuple"),_safeJsonParseTuple2=_interopRequireDefault(_safeJsonParseTuple),_globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),TextTrackSettings=function(_Component){function TextTrackSettings(player,options){_classCallCheck(this,TextTrackSettings),_Component.call(this,player,options),this.hide(),void 0===options.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),Events.on(this.el().querySelector(".vjs-done-button"),"click",Fn.bind(this,function(){this.saveSettings(),this.hide()})),Events.on(this.el().querySelector(".vjs-default-button"),"click",Fn.bind(this,function(){this.el().querySelector(".vjs-fg-color > select").selectedIndex=0,this.el().querySelector(".vjs-bg-color > select").selectedIndex=0,this.el().querySelector(".window-color > select").selectedIndex=0,this.el().querySelector(".vjs-text-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-bg-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-window-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-edge-style select").selectedIndex=0,this.el().querySelector(".vjs-font-family select").selectedIndex=0,this.el().querySelector(".vjs-font-percent select").selectedIndex=2,this.updateDisplay()})),Events.on(this.el().querySelector(".vjs-fg-color > select"),"change",Fn.bind(this,this.updateDisplay)),Events.on(this.el().querySelector(".vjs-bg-color > select"),"change",Fn.bind(this,this.updateDisplay)),Events.on(this.el().querySelector(".window-color > select"),"change",Fn.bind(this,this.updateDisplay)),Events.on(this.el().querySelector(".vjs-text-opacity > select"),"change",Fn.bind(this,this.updateDisplay)),Events.on(this.el().querySelector(".vjs-bg-opacity > select"),"change",Fn.bind(this,this.updateDisplay)),Events.on(this.el().querySelector(".vjs-window-opacity > select"),"change",Fn.bind(this,this.updateDisplay)),Events.on(this.el().querySelector(".vjs-font-percent select"),"change",Fn.bind(this,this.updateDisplay)),Events.on(this.el().querySelector(".vjs-edge-style select"),"change",Fn.bind(this,this.updateDisplay)),Events.on(this.el().querySelector(".vjs-font-family select"),"change",Fn.bind(this,this.updateDisplay)),this.options_.persistTextTrackSettings&&this.restoreSettings()}return _inherits(TextTrackSettings,_Component),TextTrackSettings.prototype.createEl=function(){return _Component.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:captionOptionsMenuTemplate()})},TextTrackSettings.prototype.getValues=function(){var el=this.el(),textEdge=getSelectedOptionValue(el.querySelector(".vjs-edge-style select")),fontFamily=getSelectedOptionValue(el.querySelector(".vjs-font-family select")),fgColor=getSelectedOptionValue(el.querySelector(".vjs-fg-color > select")),textOpacity=getSelectedOptionValue(el.querySelector(".vjs-text-opacity > select")),bgColor=getSelectedOptionValue(el.querySelector(".vjs-bg-color > select")),bgOpacity=getSelectedOptionValue(el.querySelector(".vjs-bg-opacity > select")),windowColor=getSelectedOptionValue(el.querySelector(".window-color > select")),windowOpacity=getSelectedOptionValue(el.querySelector(".vjs-window-opacity > select")),fontPercent=_globalWindow2["default"].parseFloat(getSelectedOptionValue(el.querySelector(".vjs-font-percent > select"))),result={backgroundOpacity:bgOpacity,textOpacity:textOpacity,windowOpacity:windowOpacity,edgeStyle:textEdge,fontFamily:fontFamily,color:fgColor,backgroundColor:bgColor,windowColor:windowColor,fontPercent:fontPercent};for(var _name in result)(""===result[_name]||"none"===result[_name]||"fontPercent"===_name&&1===result[_name])&&delete result[_name];return result},TextTrackSettings.prototype.setValues=function(values){var el=this.el();setSelectedOption(el.querySelector(".vjs-edge-style select"),values.edgeStyle),setSelectedOption(el.querySelector(".vjs-font-family select"),values.fontFamily),setSelectedOption(el.querySelector(".vjs-fg-color > select"),values.color),setSelectedOption(el.querySelector(".vjs-text-opacity > select"),values.textOpacity),setSelectedOption(el.querySelector(".vjs-bg-color > select"),values.backgroundColor),setSelectedOption(el.querySelector(".vjs-bg-opacity > select"),values.backgroundOpacity),setSelectedOption(el.querySelector(".window-color > select"),values.windowColor),setSelectedOption(el.querySelector(".vjs-window-opacity > select"),values.windowOpacity);var fontPercent=values.fontPercent;fontPercent&&(fontPercent=fontPercent.toFixed(2)),setSelectedOption(el.querySelector(".vjs-font-percent > select"),fontPercent)},TextTrackSettings.prototype.restoreSettings=function(){var _safeParseTuple=_safeJsonParseTuple2["default"](_globalWindow2["default"].localStorage.getItem("vjs-text-track-settings")),err=_safeParseTuple[0],values=_safeParseTuple[1];err&&_utilsLogJs2["default"].error(err),values&&this.setValues(values)},TextTrackSettings.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var values=this.getValues();try{Object.getOwnPropertyNames(values).length>0?_globalWindow2["default"].localStorage.setItem("vjs-text-track-settings",JSON.stringify(values)):_globalWindow2["default"].localStorage.removeItem("vjs-text-track-settings")}catch(e){}}},TextTrackSettings.prototype.updateDisplay=function(){var ttDisplay=this.player_.getChild("textTrackDisplay");ttDisplay&&ttDisplay.updateDisplay()},TextTrackSettings}(_component2["default"]);_component2["default"].registerComponent("TextTrackSettings",TextTrackSettings),exports["default"]=TextTrackSettings,module.exports=exports["default"]},{"../component":63,"../utils/events.js":124,"../utils/fn.js":125,"../utils/log.js":128,"global/window":2,"safe-json-parse/tuple":53}],119:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _textTrackCueList=_dereq_("./text-track-cue-list"),_textTrackCueList2=_interopRequireDefault(_textTrackCueList),_utilsFnJs=_dereq_("../utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_utilsGuidJs=_dereq_("../utils/guid.js"),Guid=_interopRequireWildcard(_utilsGuidJs),_utilsBrowserJs=_dereq_("../utils/browser.js"),browser=_interopRequireWildcard(_utilsBrowserJs),_textTrackEnums=_dereq_("./text-track-enums"),TextTrackEnum=_interopRequireWildcard(_textTrackEnums),_utilsLogJs=_dereq_("../utils/log.js"),_utilsLogJs2=_interopRequireDefault(_utilsLogJs),_eventTarget=_dereq_("../event-target"),_eventTarget2=_interopRequireDefault(_eventTarget),_globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),_globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),_utilsUrlJs=_dereq_("../utils/url.js"),_xhr=_dereq_("xhr"),_xhr2=_interopRequireDefault(_xhr),TextTrack=function TextTrack(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!options.tech)throw new Error("A tech was not provided.");var tt=this;if(browser.IS_IE8){tt=_globalDocument2["default"].createElement("custom");for(var prop in TextTrack.prototype)tt[prop]=TextTrack.prototype[prop]}tt.tech_=options.tech;var mode=TextTrackEnum.TextTrackMode[options.mode]||"disabled",kind=TextTrackEnum.TextTrackKind[options.kind]||"subtitles",label=options.label||"",language=options.language||options.srclang||"",id=options.id||"vjs_text_track_"+Guid.newGUID();("metadata"===kind||"chapters"===kind)&&(mode="hidden"),tt.cues_=[],tt.activeCues_=[];var cues=new _textTrackCueList2["default"](tt.cues_),activeCues=new _textTrackCueList2["default"](tt.activeCues_),changed=!1,timeupdateHandler=Fn.bind(tt,function(){this.activeCues,changed&&(this.trigger("cuechange"),changed=!1)});return"disabled"!==mode&&tt.tech_.on("timeupdate",timeupdateHandler),Object.defineProperty(tt,"kind",{get:function(){return kind},set:Function.prototype}),Object.defineProperty(tt,"label",{get:function(){return label},set:Function.prototype}),Object.defineProperty(tt,"language",{get:function(){return language},set:Function.prototype}),Object.defineProperty(tt,"id",{get:function(){return id},set:Function.prototype}),Object.defineProperty(tt,"mode",{get:function(){return mode},set:function(newMode){TextTrackEnum.TextTrackMode[newMode]&&(mode=newMode,"showing"===mode&&this.tech_.on("timeupdate",timeupdateHandler),this.trigger("modechange"))}}),Object.defineProperty(tt,"cues",{get:function(){return this.loaded_?cues:null},set:Function.prototype}),Object.defineProperty(tt,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return activeCues;for(var ct=this.tech_.currentTime(),active=[],i=0,l=this.cues.length;l>i;i++){var cue=this.cues[i];cue.startTime<=ct&&cue.endTime>=ct?active.push(cue):cue.startTime===cue.endTime&&cue.startTime<=ct&&cue.startTime+.5>=ct&&active.push(cue)}if(changed=!1,active.length!==this.activeCues_.length)changed=!0;else for(var i=0;i<active.length;i++)-1===indexOf.call(this.activeCues_,active[i])&&(changed=!0);return this.activeCues_=active,activeCues.setCues_(this.activeCues_),activeCues},set:Function.prototype}),options.src?(tt.src=options.src,loadTrack(options.src,tt)):tt.loaded_=!0,browser.IS_IE8?tt:void 0};TextTrack.prototype=Object.create(_eventTarget2["default"].prototype),TextTrack.prototype.constructor=TextTrack,TextTrack.prototype.allowedEvents_={cuechange:"cuechange"},TextTrack.prototype.addCue=function(cue){var tracks=this.tech_.textTracks();if(tracks)for(var i=0;i<tracks.length;i++)tracks[i]!==this&&tracks[i].removeCue(cue);this.cues_.push(cue),this.cues.setCues_(this.cues_)},TextTrack.prototype.removeCue=function(removeCue){for(var removed=!1,i=0,l=this.cues_.length;l>i;i++){var cue=this.cues_[i];cue===removeCue&&(this.cues_.splice(i,1),removed=!0)}removed&&this.cues.setCues_(this.cues_)};var parseCues=function parseCues(srcContent,track){if("function"!=typeof _globalWindow2["default"].WebVTT)return _globalWindow2["default"].setTimeout(function(){parseCues(srcContent,track)},25);var parser=new _globalWindow2["default"].WebVTT.Parser(_globalWindow2["default"],_globalWindow2["default"].vttjs,_globalWindow2["default"].WebVTT.StringDecoder());parser.oncue=function(cue){track.addCue(cue)},parser.onparsingerror=function(error){_utilsLogJs2["default"].error(error)},parser.parse(srcContent),parser.flush()},loadTrack=function(src,track){var opts={uri:src},crossOrigin=_utilsUrlJs.isCrossOrigin(src);crossOrigin&&(opts.cors=crossOrigin),_xhr2["default"](opts,Fn.bind(this,function(err,response,responseBody){return err?_utilsLogJs2["default"].error(err,response):(track.loaded_=!0,void parseCues(responseBody,track))}))},indexOf=function(searchElement,fromIndex){if(null==this)throw new TypeError('"this" is null or not defined');var O=Object(this),len=O.length>>>0;if(0===len)return-1;var n=+fromIndex||0;if(Math.abs(n)===1/0&&(n=0),n>=len)return-1;for(var k=Math.max(n>=0?n:len-Math.abs(n),0);len>k;){if(k in O&&O[k]===searchElement)return k;k++}return-1};exports["default"]=TextTrack,module.exports=exports["default"]},{"../event-target":95,"../utils/browser.js":120,"../utils/fn.js":125,"../utils/guid.js":127,"../utils/log.js":128,"../utils/url.js":133,"./text-track-cue-list":113,"./text-track-enums":115,"global/document":1,"global/window":2,xhr:55}],120:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),_globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),USER_AGENT=_globalWindow2["default"].navigator.userAgent,webkitVersionMap=/AppleWebKit\/([\d.]+)/i.exec(USER_AGENT),appleWebkitVersion=webkitVersionMap?parseFloat(webkitVersionMap.pop()):null,IS_IPHONE=/iPhone/i.test(USER_AGENT);exports.IS_IPHONE=IS_IPHONE;var IS_IPAD=/iPad/i.test(USER_AGENT);exports.IS_IPAD=IS_IPAD;var IS_IPOD=/iPod/i.test(USER_AGENT);exports.IS_IPOD=IS_IPOD;var IS_IOS=IS_IPHONE||IS_IPAD||IS_IPOD;exports.IS_IOS=IS_IOS;var IOS_VERSION=function(){var match=USER_AGENT.match(/OS (\d+)_/i);return match&&match[1]?match[1]:void 0}();exports.IOS_VERSION=IOS_VERSION;var IS_ANDROID=/Android/i.test(USER_AGENT);exports.IS_ANDROID=IS_ANDROID;var ANDROID_VERSION=function(){var major,minor,match=USER_AGENT.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return match?(major=match[1]&&parseFloat(match[1]),minor=match[2]&&parseFloat(match[2]),major&&minor?parseFloat(match[1]+"."+match[2]):major?major:null):null}();exports.ANDROID_VERSION=ANDROID_VERSION;var IS_OLD_ANDROID=IS_ANDROID&&/webkit/i.test(USER_AGENT)&&2.3>ANDROID_VERSION;exports.IS_OLD_ANDROID=IS_OLD_ANDROID;var IS_NATIVE_ANDROID=IS_ANDROID&&5>ANDROID_VERSION&&537>appleWebkitVersion;exports.IS_NATIVE_ANDROID=IS_NATIVE_ANDROID;var IS_FIREFOX=/Firefox/i.test(USER_AGENT);exports.IS_FIREFOX=IS_FIREFOX;var IS_CHROME=/Chrome/i.test(USER_AGENT);exports.IS_CHROME=IS_CHROME;var IS_IE8=/MSIE\s8\.0/.test(USER_AGENT);exports.IS_IE8=IS_IE8;var TOUCH_ENABLED=!!("ontouchstart"in _globalWindow2["default"]||_globalWindow2["default"].DocumentTouch&&_globalDocument2["default"]instanceof _globalWindow2["default"].DocumentTouch);exports.TOUCH_ENABLED=TOUCH_ENABLED;var BACKGROUND_SIZE_SUPPORTED="backgroundSize"in _globalDocument2["default"].createElement("video").style;exports.BACKGROUND_SIZE_SUPPORTED=BACKGROUND_SIZE_SUPPORTED},{"global/document":1,"global/window":2}],121:[function(_dereq_,module,exports){"use strict";function bufferedPercent(buffered,duration){var start,end,bufferedDuration=0;if(!duration)return 0;buffered&&buffered.length||(buffered=_timeRangesJs.createTimeRange(0,0));for(var i=0;i<buffered.length;i++)start=buffered.start(i),end=buffered.end(i),end>duration&&(end=duration),
bufferedDuration+=end-start;return bufferedDuration/duration}exports.__esModule=!0,exports.bufferedPercent=bufferedPercent;var _timeRangesJs=_dereq_("./time-ranges.js")},{"./time-ranges.js":131}],122:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _logJs=_dereq_("./log.js"),_logJs2=_interopRequireDefault(_logJs),defaultBehaviors={get:function(obj,key){return obj[key]},set:function(obj,key,value){return obj[key]=value,!0}};exports["default"]=function(target){var messages=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("function"==typeof Proxy){var _ret=function(){var handler={};return Object.keys(messages).forEach(function(key){defaultBehaviors.hasOwnProperty(key)&&(handler[key]=function(){return _logJs2["default"].warn(messages[key]),defaultBehaviors[key].apply(this,arguments)})}),{v:new Proxy(target,handler)}}();if("object"==typeof _ret)return _ret.v}return target},module.exports=exports["default"]},{"./log.js":128}],123:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _taggedTemplateLiteralLoose(strings,raw){return strings.raw=raw,strings}function getEl(id){return 0===id.indexOf("#")&&(id=id.slice(1)),_globalDocument2["default"].getElementById(id)}function createEl(){var tagName=arguments.length<=0||void 0===arguments[0]?"div":arguments[0],properties=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],attributes=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],el=_globalDocument2["default"].createElement(tagName);return Object.getOwnPropertyNames(properties).forEach(function(propName){var val=properties[propName];-1!==propName.indexOf("aria-")||"role"===propName||"type"===propName?(_logJs2["default"].warn(_tsml2["default"](_templateObject,propName,val)),el.setAttribute(propName,val)):el[propName]=val}),Object.getOwnPropertyNames(attributes).forEach(function(attrName){attributes[attrName];el.setAttribute(attrName,attributes[attrName])}),el}function insertElFirst(child,parent){parent.firstChild?parent.insertBefore(child,parent.firstChild):parent.appendChild(child)}function getElData(el){var id=el[elIdAttr];return id||(id=el[elIdAttr]=Guid.newGUID()),elData[id]||(elData[id]={}),elData[id]}function hasElData(el){var id=el[elIdAttr];return id?!!Object.getOwnPropertyNames(elData[id]).length:!1}function removeElData(el){var id=el[elIdAttr];if(id){delete elData[id];try{delete el[elIdAttr]}catch(e){el.removeAttribute?el.removeAttribute(elIdAttr):el[elIdAttr]=null}}}function hasElClass(element,classToCheck){return-1!==(" "+element.className+" ").indexOf(" "+classToCheck+" ")}function addElClass(element,classToAdd){hasElClass(element,classToAdd)||(element.className=""===element.className?classToAdd:element.className+" "+classToAdd)}function removeElClass(element,classToRemove){if(hasElClass(element,classToRemove)){for(var classNames=element.className.split(" "),i=classNames.length-1;i>=0;i--)classNames[i]===classToRemove&&classNames.splice(i,1);element.className=classNames.join(" ")}}function setElAttributes(el,attributes){Object.getOwnPropertyNames(attributes).forEach(function(attrName){var attrValue=attributes[attrName];null===attrValue||"undefined"==typeof attrValue||attrValue===!1?el.removeAttribute(attrName):el.setAttribute(attrName,attrValue===!0?"":attrValue)})}function getElAttributes(tag){var obj,knownBooleans,attrs,attrName,attrVal;if(obj={},knownBooleans=",autoplay,controls,loop,muted,default,",tag&&tag.attributes&&tag.attributes.length>0){attrs=tag.attributes;for(var i=attrs.length-1;i>=0;i--)attrName=attrs[i].name,attrVal=attrs[i].value,("boolean"==typeof tag[attrName]||-1!==knownBooleans.indexOf(","+attrName+","))&&(attrVal=null!==attrVal?!0:!1),obj[attrName]=attrVal}return obj}function blockTextSelection(){_globalDocument2["default"].body.focus(),_globalDocument2["default"].onselectstart=function(){return!1}}function unblockTextSelection(){_globalDocument2["default"].onselectstart=function(){return!0}}function findElPosition(el){var box=void 0;if(el.getBoundingClientRect&&el.parentNode&&(box=el.getBoundingClientRect()),!box)return{left:0,top:0};var docEl=_globalDocument2["default"].documentElement,body=_globalDocument2["default"].body,clientLeft=docEl.clientLeft||body.clientLeft||0,scrollLeft=_globalWindow2["default"].pageXOffset||body.scrollLeft,left=box.left+scrollLeft-clientLeft,clientTop=docEl.clientTop||body.clientTop||0,scrollTop=_globalWindow2["default"].pageYOffset||body.scrollTop,top=box.top+scrollTop-clientTop;return{left:Math.round(left),top:Math.round(top)}}function getPointerPosition(el,event){var position={},box=findElPosition(el),boxW=el.offsetWidth,boxH=el.offsetHeight,boxY=box.top,boxX=box.left,pageY=event.pageY,pageX=event.pageX;return event.changedTouches&&(pageX=event.changedTouches[0].pageX,pageY=event.changedTouches[0].pageY),position.y=Math.max(0,Math.min(1,(boxY-pageY+boxH)/boxH)),position.x=Math.max(0,Math.min(1,(pageX-boxX)/boxW)),position}exports.__esModule=!0,exports.getEl=getEl,exports.createEl=createEl,exports.insertElFirst=insertElFirst,exports.getElData=getElData,exports.hasElData=hasElData,exports.removeElData=removeElData,exports.hasElClass=hasElClass,exports.addElClass=addElClass,exports.removeElClass=removeElClass,exports.setElAttributes=setElAttributes,exports.getElAttributes=getElAttributes,exports.blockTextSelection=blockTextSelection,exports.unblockTextSelection=unblockTextSelection,exports.findElPosition=findElPosition,exports.getPointerPosition=getPointerPosition;var _templateObject=_taggedTemplateLiteralLoose(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]),_globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),_globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),_guidJs=_dereq_("./guid.js"),Guid=_interopRequireWildcard(_guidJs),_logJs=_dereq_("./log.js"),_logJs2=_interopRequireDefault(_logJs),_tsml=_dereq_("tsml"),_tsml2=_interopRequireDefault(_tsml),elData={},elIdAttr="vdata"+(new Date).getTime()},{"./guid.js":127,"./log.js":128,"global/document":1,"global/window":2,tsml:54}],124:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function on(elem,type,fn){if(Array.isArray(type))return _handleMultipleEvents(on,elem,type,fn);var data=Dom.getElData(elem);data.handlers||(data.handlers={}),data.handlers[type]||(data.handlers[type]=[]),fn.guid||(fn.guid=Guid.newGUID()),data.handlers[type].push(fn),data.dispatcher||(data.disabled=!1,data.dispatcher=function(event,hash){if(!data.disabled){event=fixEvent(event);var handlers=data.handlers[event.type];if(handlers)for(var handlersCopy=handlers.slice(0),m=0,n=handlersCopy.length;n>m&&!event.isImmediatePropagationStopped();m++)handlersCopy[m].call(elem,event,hash)}}),1===data.handlers[type].length&&(elem.addEventListener?elem.addEventListener(type,data.dispatcher,!1):elem.attachEvent&&elem.attachEvent("on"+type,data.dispatcher))}function off(elem,type,fn){if(Dom.hasElData(elem)){var data=Dom.getElData(elem);if(data.handlers){if(Array.isArray(type))return _handleMultipleEvents(off,elem,type,fn);var removeType=function(t){data.handlers[t]=[],_cleanUpEvents(elem,t)};if(type){var handlers=data.handlers[type];if(handlers){if(!fn)return void removeType(type);if(fn.guid)for(var n=0;n<handlers.length;n++)handlers[n].guid===fn.guid&&handlers.splice(n--,1);_cleanUpEvents(elem,type)}}else for(var t in data.handlers)removeType(t)}}}function trigger(elem,event,hash){var elemData=Dom.hasElData(elem)?Dom.getElData(elem):{},parent=elem.parentNode||elem.ownerDocument;if("string"==typeof event&&(event={type:event,target:elem}),event=fixEvent(event),elemData.dispatcher&&elemData.dispatcher.call(elem,event,hash),parent&&!event.isPropagationStopped()&&event.bubbles===!0)trigger.call(null,parent,event,hash);else if(!parent&&!event.defaultPrevented){var targetData=Dom.getElData(event.target);event.target[event.type]&&(targetData.disabled=!0,"function"==typeof event.target[event.type]&&event.target[event.type](),targetData.disabled=!1)}return!event.defaultPrevented}function one(elem,type,fn){if(Array.isArray(type))return _handleMultipleEvents(one,elem,type,fn);var func=function func(){off(elem,type,func),fn.apply(this,arguments)};func.guid=fn.guid=fn.guid||Guid.newGUID(),on(elem,type,func)}function fixEvent(event){function returnTrue(){return!0}function returnFalse(){return!1}if(!event||!event.isPropagationStopped){var old=event||_globalWindow2["default"].event;event={};for(var key in old)"layerX"!==key&&"layerY"!==key&&"keyLocation"!==key&&"webkitMovementX"!==key&&"webkitMovementY"!==key&&("returnValue"===key&&old.preventDefault||(event[key]=old[key]));if(event.target||(event.target=event.srcElement||_globalDocument2["default"]),event.relatedTarget||(event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement),event.preventDefault=function(){old.preventDefault&&old.preventDefault(),event.returnValue=!1,old.returnValue=!1,event.defaultPrevented=!0},event.defaultPrevented=!1,event.stopPropagation=function(){old.stopPropagation&&old.stopPropagation(),event.cancelBubble=!0,old.cancelBubble=!0,event.isPropagationStopped=returnTrue},event.isPropagationStopped=returnFalse,event.stopImmediatePropagation=function(){old.stopImmediatePropagation&&old.stopImmediatePropagation(),event.isImmediatePropagationStopped=returnTrue,event.stopPropagation()},event.isImmediatePropagationStopped=returnFalse,null!=event.clientX){var doc=_globalDocument2["default"].documentElement,body=_globalDocument2["default"].body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}event.which=event.charCode||event.keyCode,null!=event.button&&(event.button=1&event.button?0:4&event.button?1:2&event.button?2:0)}return event}function _cleanUpEvents(elem,type){var data=Dom.getElData(elem);0===data.handlers[type].length&&(delete data.handlers[type],elem.removeEventListener?elem.removeEventListener(type,data.dispatcher,!1):elem.detachEvent&&elem.detachEvent("on"+type,data.dispatcher)),Object.getOwnPropertyNames(data.handlers).length<=0&&(delete data.handlers,delete data.dispatcher,delete data.disabled),0===Object.getOwnPropertyNames(data).length&&Dom.removeElData(elem)}function _handleMultipleEvents(fn,elem,types,callback){types.forEach(function(type){fn(elem,type,callback)})}exports.__esModule=!0,exports.on=on,exports.off=off,exports.trigger=trigger,exports.one=one,exports.fixEvent=fixEvent;var _domJs=_dereq_("./dom.js"),Dom=_interopRequireWildcard(_domJs),_guidJs=_dereq_("./guid.js"),Guid=_interopRequireWildcard(_guidJs),_globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),_globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument)},{"./dom.js":123,"./guid.js":127,"global/document":1,"global/window":2}],125:[function(_dereq_,module,exports){"use strict";exports.__esModule=!0;var _guidJs=_dereq_("./guid.js"),bind=function(context,fn,uid){fn.guid||(fn.guid=_guidJs.newGUID());var ret=function(){return fn.apply(context,arguments)};return ret.guid=uid?uid+"_"+fn.guid:fn.guid,ret};exports.bind=bind},{"./guid.js":127}],126:[function(_dereq_,module,exports){"use strict";function formatTime(seconds){var guide=arguments.length<=1||void 0===arguments[1]?seconds:arguments[1];return function(){var s=Math.floor(seconds%60),m=Math.floor(seconds/60%60),h=Math.floor(seconds/3600),gm=Math.floor(guide/60%60),gh=Math.floor(guide/3600);return(isNaN(seconds)||seconds===1/0)&&(h=m=s="-"),h=h>0||gh>0?h+":":"",m=((h||gm>=10)&&10>m?"0"+m:m)+":",s=10>s?"0"+s:s,h+m+s}()}exports.__esModule=!0,exports["default"]=formatTime,module.exports=exports["default"]},{}],127:[function(_dereq_,module,exports){"use strict";function newGUID(){return _guid++}exports.__esModule=!0,exports.newGUID=newGUID;var _guid=1},{}],128:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _logType(type,args){var argsArray=Array.prototype.slice.call(args),noop=function(){},console=_globalWindow2["default"].console||{log:noop,warn:noop,error:noop};type?argsArray.unshift(type.toUpperCase()+":"):type="log",log.history.push(argsArray),argsArray.unshift("VIDEOJS:"),console[type].apply?console[type].apply(console,argsArray):console[type](argsArray.join(" "))}exports.__esModule=!0;var _globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),log=function(){_logType(null,arguments)};log.history=[],log.error=function(){_logType("error",arguments)},log.warn=function(){_logType("warn",arguments)},exports["default"]=log,module.exports=exports["default"]},{"global/window":2}],129:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function isPlain(obj){return!!obj&&"object"==typeof obj&&"[object Object]"===obj.toString()&&obj.constructor===Object}function mergeOptions(){var args=Array.prototype.slice.call(arguments);return args.unshift({}),args.push(customizer),_lodashCompatObjectMerge2["default"].apply(null,args),args[0]}exports.__esModule=!0,exports["default"]=mergeOptions;var _lodashCompatObjectMerge=_dereq_("lodash-compat/object/merge"),_lodashCompatObjectMerge2=_interopRequireDefault(_lodashCompatObjectMerge),customizer=function(destination,source){return isPlain(source)?isPlain(destination)?void 0:mergeOptions(source):source};module.exports=exports["default"]},{"lodash-compat/object/merge":40}],130:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),createStyleElement=function(className){var style=_globalDocument2["default"].createElement("style");return style.className=className,style};exports.createStyleElement=createStyleElement;var setTextContent=function(el,content){el.styleSheet?el.styleSheet.cssText=content:el.textContent=content};exports.setTextContent=setTextContent},{"global/document":1}],131:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function createTimeRanges(start,end){return Array.isArray(start)?createTimeRangesObj(start):void 0===start||void 0===end?createTimeRangesObj():createTimeRangesObj([[start,end]])}function createTimeRangesObj(ranges){return void 0===ranges||0===ranges.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:ranges.length,start:getRange.bind(null,"start",0,ranges),end:getRange.bind(null,"end",1,ranges)}}function getRange(fnName,valueIndex,ranges,rangeIndex){return void 0===rangeIndex&&(_logJs2["default"].warn("DEPRECATED: Function '"+fnName+"' on 'TimeRanges' called without an index argument."),rangeIndex=0),rangeCheck(fnName,rangeIndex,ranges.length-1),ranges[rangeIndex][valueIndex]}function rangeCheck(fnName,index,maxIndex){if(0>index||index>maxIndex)throw new Error("Failed to execute '"+fnName+"' on 'TimeRanges': The index provided ("+index+") is greater than or equal to the maximum bound ("+maxIndex+").")}exports.__esModule=!0,exports.createTimeRanges=createTimeRanges;var _logJs=_dereq_("./log.js"),_logJs2=_interopRequireDefault(_logJs);exports.createTimeRange=createTimeRanges},{"./log.js":128}],132:[function(_dereq_,module,exports){"use strict";function toTitleCase(string){return string.charAt(0).toUpperCase()+string.slice(1)}exports.__esModule=!0,exports["default"]=toTitleCase,module.exports=exports["default"]},{}],133:[function(_dereq_,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),_globalWindow=_dereq_("global/window"),_globalWindow2=_interopRequireDefault(_globalWindow),parseUrl=function(url){var props=["protocol","hostname","port","pathname","search","hash","host"],a=_globalDocument2["default"].createElement("a");a.href=url;var addToBody=""===a.host&&"file:"!==a.protocol,div=void 0;addToBody&&(div=_globalDocument2["default"].createElement("div"),div.innerHTML='<a href="'+url+'"></a>',a=div.firstChild,div.setAttribute("style","display:none; position:absolute;"),_globalDocument2["default"].body.appendChild(div));for(var details={},i=0;i<props.length;i++)details[props[i]]=a[props[i]];return"http:"===details.protocol&&(details.host=details.host.replace(/:80$/,"")),"https:"===details.protocol&&(details.host=details.host.replace(/:443$/,"")),addToBody&&_globalDocument2["default"].body.removeChild(div),details};exports.parseUrl=parseUrl;var getAbsoluteURL=function(url){if(!url.match(/^https?:\/\//)){var div=_globalDocument2["default"].createElement("div");div.innerHTML='<a href="'+url+'">x</a>',url=div.firstChild.href}return url};exports.getAbsoluteURL=getAbsoluteURL;var getFileExtension=function(path){if("string"==typeof path){var splitPathRe=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,pathParts=splitPathRe.exec(path);if(pathParts)return pathParts.pop().toLowerCase()}return""};exports.getFileExtension=getFileExtension;var isCrossOrigin=function(url){var urlInfo=parseUrl(url),winLoc=_globalWindow2["default"].location,srcProtocol=":"===urlInfo.protocol?winLoc.protocol:urlInfo.protocol,crossOrigin=srcProtocol+urlInfo.host!==winLoc.protocol+winLoc.host;return crossOrigin};exports.isCrossOrigin=isCrossOrigin},{"global/document":1,"global/window":2}],134:[function(_dereq_,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _globalDocument=_dereq_("global/document"),_globalDocument2=_interopRequireDefault(_globalDocument),_setup=_dereq_("./setup"),setup=_interopRequireWildcard(_setup),_utilsStylesheetJs=_dereq_("./utils/stylesheet.js"),stylesheet=_interopRequireWildcard(_utilsStylesheetJs),_component=_dereq_("./component"),_component2=_interopRequireDefault(_component),_eventTarget=_dereq_("./event-target"),_eventTarget2=_interopRequireDefault(_eventTarget),_utilsEventsJs=_dereq_("./utils/events.js"),Events=_interopRequireWildcard(_utilsEventsJs),_player=_dereq_("./player"),_player2=_interopRequireDefault(_player),_pluginsJs=_dereq_("./plugins.js"),_pluginsJs2=_interopRequireDefault(_pluginsJs),_srcJsUtilsMergeOptionsJs=_dereq_("../../src/js/utils/merge-options.js"),_srcJsUtilsMergeOptionsJs2=_interopRequireDefault(_srcJsUtilsMergeOptionsJs),_utilsFnJs=_dereq_("./utils/fn.js"),Fn=_interopRequireWildcard(_utilsFnJs),_tracksTextTrackJs=_dereq_("./tracks/text-track.js"),_tracksTextTrackJs2=_interopRequireDefault(_tracksTextTrackJs),_objectAssign=_dereq_("object.assign"),_utilsTimeRangesJs=(_interopRequireDefault(_objectAssign),_dereq_("./utils/time-ranges.js")),_utilsFormatTimeJs=_dereq_("./utils/format-time.js"),_utilsFormatTimeJs2=_interopRequireDefault(_utilsFormatTimeJs),_utilsLogJs=_dereq_("./utils/log.js"),_utilsLogJs2=_interopRequireDefault(_utilsLogJs),_utilsDomJs=_dereq_("./utils/dom.js"),Dom=_interopRequireWildcard(_utilsDomJs),_utilsBrowserJs=_dereq_("./utils/browser.js"),browser=_interopRequireWildcard(_utilsBrowserJs),_utilsUrlJs=_dereq_("./utils/url.js"),Url=_interopRequireWildcard(_utilsUrlJs),_extendJs=_dereq_("./extend.js"),_extendJs2=_interopRequireDefault(_extendJs),_lodashCompatObjectMerge=_dereq_("lodash-compat/object/merge"),_lodashCompatObjectMerge2=_interopRequireDefault(_lodashCompatObjectMerge),_utilsCreateDeprecationProxyJs=_dereq_("./utils/create-deprecation-proxy.js"),_utilsCreateDeprecationProxyJs2=_interopRequireDefault(_utilsCreateDeprecationProxyJs),_xhr=_dereq_("xhr"),_xhr2=_interopRequireDefault(_xhr),_techHtml5Js=_dereq_("./tech/html5.js"),_techFlashJs=(_interopRequireDefault(_techHtml5Js),_dereq_("./tech/flash.js"));_interopRequireDefault(_techFlashJs);"undefined"==typeof HTMLVideoElement&&(_globalDocument2["default"].createElement("video"),_globalDocument2["default"].createElement("audio"),_globalDocument2["default"].createElement("track"));var videojs=function videojs(id,options,ready){var tag;if("string"==typeof id){if(0===id.indexOf("#")&&(id=id.slice(1)),videojs.getPlayers()[id])return options&&_utilsLogJs2["default"].warn('Player "'+id+'" is already initialised. Options will not be applied.'),ready&&videojs.getPlayers()[id].ready(ready),videojs.getPlayers()[id];tag=Dom.getEl(id)}else tag=id;if(!tag||!tag.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return tag.player||new _player2["default"](tag,options,ready)},style=_globalDocument2["default"].querySelector(".vjs-styles-defaults");if(!style){style=stylesheet.createStyleElement("vjs-styles-defaults");var head=_globalDocument2["default"].querySelector("head");head.insertBefore(style,head.firstChild),stylesheet.setTextContent(style,"\n    .video-js {\n      width: 300px;\n      height: 150px;\n    }\n\n    .vjs-fluid {\n      padding-top: 56.25%\n    }\n  ")}setup.autoSetupTimeout(1,videojs),videojs.VERSION="5.0.2",videojs.options=_player2["default"].prototype.options_,videojs.getPlayers=function(){return _player2["default"].players},videojs.players=_utilsCreateDeprecationProxyJs2["default"](_player2["default"].players,{get:"Access to videojs.players is deprecated; use videojs.getPlayers instead",set:"Modification of videojs.players is deprecated"}),videojs.getComponent=_component2["default"].getComponent,videojs.registerComponent=_component2["default"].registerComponent,videojs.browser=browser,videojs.TOUCH_ENABLED=browser.TOUCH_ENABLED,videojs.extend=_extendJs2["default"],videojs.mergeOptions=_srcJsUtilsMergeOptionsJs2["default"],videojs.bind=Fn.bind,videojs.plugin=_pluginsJs2["default"],videojs.addLanguage=function(code,data){var _merge;return code=(""+code).toLowerCase(),_lodashCompatObjectMerge2["default"](videojs.options.languages,(_merge={},_merge[code]=data,_merge))[code]},videojs.log=_utilsLogJs2["default"],videojs.createTimeRange=videojs.createTimeRanges=_utilsTimeRangesJs.createTimeRanges,videojs.formatTime=_utilsFormatTimeJs2["default"],videojs.parseUrl=Url.parseUrl,videojs.isCrossOrigin=Url.isCrossOrigin,videojs.EventTarget=_eventTarget2["default"],videojs.on=Events.on,videojs.one=Events.one,videojs.off=Events.off,videojs.trigger=Events.trigger,videojs.xhr=_xhr2["default"],videojs.TextTrack=_tracksTextTrackJs2["default"],"function"==typeof define&&define.amd?define("videojs",[],function(){return videojs}):"object"==typeof exports&&"object"==typeof module&&(module.exports=videojs),exports["default"]=videojs,module.exports=exports["default"]},{"../../src/js/utils/merge-options.js":129,"./component":63,"./event-target":95,"./extend.js":96,"./player":103,"./plugins.js":104,"./setup":106,"./tech/flash.js":109,"./tech/html5.js":110,"./tracks/text-track.js":119,"./utils/browser.js":120,"./utils/create-deprecation-proxy.js":122,"./utils/dom.js":123,"./utils/events.js":124,"./utils/fn.js":125,"./utils/format-time.js":126,"./utils/log.js":128,"./utils/stylesheet.js":130,"./utils/time-ranges.js":131,"./utils/url.js":133,"global/document":1,"lodash-compat/object/merge":40,"object.assign":45,xhr:55}]},{},[134])(134)}),function(root){var vttjs=root.vttjs={},cueShim=vttjs.VTTCue,regionShim=vttjs.VTTRegion,oldVTTCue=root.VTTCue,oldVTTRegion=root.VTTRegion;vttjs.shim=function(){vttjs.VTTCue=cueShim,vttjs.VTTRegion=regionShim},vttjs.restore=function(){vttjs.VTTCue=oldVTTCue,vttjs.VTTRegion=oldVTTRegion}}(this),function(root,vttjs){function findDirectionSetting(value){if("string"!=typeof value)return!1;var dir=directionSetting[value.toLowerCase()];return dir?value.toLowerCase():!1}function findAlignSetting(value){if("string"!=typeof value)return!1;var align=alignSetting[value.toLowerCase()];return align?value.toLowerCase():!1}function extend(obj){for(var i=1;i<arguments.length;i++){var cobj=arguments[i];for(var p in cobj)obj[p]=cobj[p]}return obj}function VTTCue(startTime,endTime,text){var cue=this,isIE8=/MSIE\s8\.0/.test(navigator.userAgent),baseObj={};isIE8?cue=document.createElement("custom"):baseObj.enumerable=!0,cue.hasBeenReset=!1;var _id="",_pauseOnExit=!1,_startTime=startTime,_endTime=endTime,_text=text,_region=null,_vertical="",_snapToLines=!0,_line="auto",_lineAlign="start",_position=50,_positionAlign="middle",_size=50,_align="middle";return Object.defineProperty(cue,"id",extend({},baseObj,{get:function(){return _id},set:function(value){_id=""+value}})),Object.defineProperty(cue,"pauseOnExit",extend({},baseObj,{get:function(){return _pauseOnExit},set:function(value){_pauseOnExit=!!value}})),Object.defineProperty(cue,"startTime",extend({},baseObj,{get:function(){return _startTime},set:function(value){if("number"!=typeof value)throw new TypeError("Start time must be set to a number.");_startTime=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"endTime",extend({},baseObj,{get:function(){return _endTime},set:function(value){if("number"!=typeof value)throw new TypeError("End time must be set to a number.");_endTime=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"text",extend({},baseObj,{get:function(){return _text},set:function(value){_text=""+value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"region",extend({},baseObj,{get:function(){return _region},set:function(value){_region=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"vertical",extend({},baseObj,{get:function(){return _vertical},set:function(value){var setting=findDirectionSetting(value);if(setting===!1)throw new SyntaxError("An invalid or illegal string was specified.");_vertical=setting,this.hasBeenReset=!0}})),Object.defineProperty(cue,"snapToLines",extend({},baseObj,{get:function(){return _snapToLines},set:function(value){_snapToLines=!!value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"line",extend({},baseObj,{get:function(){return _line},set:function(value){if("number"!=typeof value&&value!==autoKeyword)throw new SyntaxError("An invalid number or illegal string was specified.");_line=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"lineAlign",extend({},baseObj,{get:function(){return _lineAlign},set:function(value){var setting=findAlignSetting(value);if(!setting)throw new SyntaxError("An invalid or illegal string was specified.");_lineAlign=setting,this.hasBeenReset=!0}})),Object.defineProperty(cue,"position",extend({},baseObj,{get:function(){return _position},set:function(value){if(0>value||value>100)throw new Error("Position must be between 0 and 100.");_position=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"positionAlign",extend({},baseObj,{get:function(){return _positionAlign},set:function(value){var setting=findAlignSetting(value);if(!setting)throw new SyntaxError("An invalid or illegal string was specified.");_positionAlign=setting,this.hasBeenReset=!0}})),Object.defineProperty(cue,"size",extend({},baseObj,{get:function(){return _size},set:function(value){if(0>value||value>100)throw new Error("Size must be between 0 and 100.");_size=value,this.hasBeenReset=!0}})),Object.defineProperty(cue,"align",extend({},baseObj,{get:function(){return _align},set:function(value){var setting=findAlignSetting(value);if(!setting)throw new SyntaxError("An invalid or illegal string was specified.");_align=setting,this.hasBeenReset=!0}})),cue.displayState=void 0,isIE8?cue:void 0}var autoKeyword="auto",directionSetting={"":!0,lr:!0,rl:!0},alignSetting={start:!0,middle:!0,end:!0,left:!0,right:!0};VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},root.VTTCue=root.VTTCue||VTTCue,vttjs.VTTCue=VTTCue}(this,this.vttjs||{}),function(root,vttjs){function findScrollSetting(value){if("string"!=typeof value)return!1;var scroll=scrollSetting[value.toLowerCase()];return scroll?value.toLowerCase():!1}function isValidPercentValue(value){return"number"==typeof value&&value>=0&&100>=value}function VTTRegion(){var _width=100,_lines=3,_regionAnchorX=0,_regionAnchorY=100,_viewportAnchorX=0,_viewportAnchorY=100,_scroll="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return _width},set:function(value){if(!isValidPercentValue(value))throw new Error("Width must be between 0 and 100.");_width=value}},lines:{enumerable:!0,get:function(){return _lines},set:function(value){if("number"!=typeof value)throw new TypeError("Lines must be set to a number.");_lines=value}},regionAnchorY:{enumerable:!0,get:function(){return _regionAnchorY},set:function(value){if(!isValidPercentValue(value))throw new Error("RegionAnchorX must be between 0 and 100.");_regionAnchorY=value}},regionAnchorX:{enumerable:!0,get:function(){return _regionAnchorX},set:function(value){if(!isValidPercentValue(value))throw new Error("RegionAnchorY must be between 0 and 100.");_regionAnchorX=value}},viewportAnchorY:{enumerable:!0,get:function(){return _viewportAnchorY},set:function(value){if(!isValidPercentValue(value))throw new Error("ViewportAnchorY must be between 0 and 100.");_viewportAnchorY=value}},viewportAnchorX:{enumerable:!0,get:function(){return _viewportAnchorX},set:function(value){if(!isValidPercentValue(value))throw new Error("ViewportAnchorX must be between 0 and 100.");_viewportAnchorX=value}},scroll:{enumerable:!0,get:function(){return _scroll},set:function(value){var setting=findScrollSetting(value);if(setting===!1)throw new SyntaxError("An invalid or illegal string was specified.");_scroll=setting}}})}var scrollSetting={"":!0,up:!0};root.VTTRegion=root.VTTRegion||VTTRegion,vttjs.VTTRegion=VTTRegion}(this,this.vttjs||{}),function(global){function ParsingError(errorData,message){this.name="ParsingError",this.code=errorData.code,this.message=message||errorData.message}function parseTimeStamp(input){function computeSeconds(h,m,s,f){return 3600*(0|h)+60*(0|m)+(0|s)+(0|f)/1e3}var m=input.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return m?m[3]?computeSeconds(m[1],m[2],m[3].replace(":",""),m[4]):m[1]>59?computeSeconds(m[1],m[2],0,m[4]):computeSeconds(0,m[1],m[2],m[4]):null}function Settings(){this.values=_objCreate(null)}function parseOptions(input,callback,keyValueDelim,groupDelim){var groups=groupDelim?input.split(groupDelim):[input];for(var i in groups)if("string"==typeof groups[i]){var kv=groups[i].split(keyValueDelim);if(2===kv.length){var k=kv[0],v=kv[1];callback(k,v)}}}function parseCue(input,cue,regionList){function consumeTimeStamp(){var ts=parseTimeStamp(input);
if(null===ts)throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed timestamp: "+oInput);return input=input.replace(/^[^\sa-zA-Z-]+/,""),ts}function consumeCueSettings(input,cue){var settings=new Settings;parseOptions(input,function(k,v){switch(k){case"region":for(var i=regionList.length-1;i>=0;i--)if(regionList[i].id===v){settings.set(k,regionList[i].region);break}break;case"vertical":settings.alt(k,v,["rl","lr"]);break;case"line":var vals=v.split(","),vals0=vals[0];settings.integer(k,vals0),settings.percent(k,vals0)?settings.set("snapToLines",!1):null,settings.alt(k,vals0,["auto"]),2===vals.length&&settings.alt("lineAlign",vals[1],["start","middle","end"]);break;case"position":vals=v.split(","),settings.percent(k,vals[0]),2===vals.length&&settings.alt("positionAlign",vals[1],["start","middle","end"]);break;case"size":settings.percent(k,v);break;case"align":settings.alt(k,v,["start","middle","end","left","right"])}},/:/,/\s/),cue.region=settings.get("region",null),cue.vertical=settings.get("vertical",""),cue.line=settings.get("line","auto"),cue.lineAlign=settings.get("lineAlign","start"),cue.snapToLines=settings.get("snapToLines",!0),cue.size=settings.get("size",100),cue.align=settings.get("align","middle"),cue.position=settings.get("position",{start:0,left:0,middle:50,end:100,right:100},cue.align),cue.positionAlign=settings.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},cue.align)}function skipWhitespace(){input=input.replace(/^\s+/,"")}var oInput=input;if(skipWhitespace(),cue.startTime=consumeTimeStamp(),skipWhitespace(),"-->"!==input.substr(0,3))throw new ParsingError(ParsingError.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+oInput);input=input.substr(3),skipWhitespace(),cue.endTime=consumeTimeStamp(),skipWhitespace(),consumeCueSettings(input,cue)}function parseContent(window,input){function nextToken(){function consume(result){return input=input.substr(result.length),result}if(!input)return null;var m=input.match(/^([^<]*)(<[^>]+>?)?/);return consume(m[1]?m[1]:m[2])}function unescape1(e){return ESCAPE[e]}function unescape(s){for(;m=s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)s=s.replace(m[0],unescape1);return s}function shouldAdd(current,element){return!NEEDS_PARENT[element.localName]||NEEDS_PARENT[element.localName]===current.localName}function createElement(type,annotation){var tagName=TAG_NAME[type];if(!tagName)return null;var element=window.document.createElement(tagName);element.localName=tagName;var name=TAG_ANNOTATION[type];return name&&annotation&&(element[name]=annotation.trim()),element}for(var t,rootDiv=window.document.createElement("div"),current=rootDiv,tagStack=[];null!==(t=nextToken());)if("<"!==t[0])current.appendChild(window.document.createTextNode(unescape(t)));else{if("/"===t[1]){tagStack.length&&tagStack[tagStack.length-1]===t.substr(2).replace(">","")&&(tagStack.pop(),current=current.parentNode);continue}var node,ts=parseTimeStamp(t.substr(1,t.length-2));if(ts){node=window.document.createProcessingInstruction("timestamp",ts),current.appendChild(node);continue}var m=t.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!m)continue;if(node=createElement(m[1],m[3]),!node)continue;if(!shouldAdd(current,node))continue;m[2]&&(node.className=m[2].substr(1).replace("."," ")),tagStack.push(m[1]),current.appendChild(node),current=node}return rootDiv}function determineBidi(cueDiv){function pushNodes(nodeStack,node){for(var i=node.childNodes.length-1;i>=0;i--)nodeStack.push(node.childNodes[i])}function nextTextNode(nodeStack){if(!nodeStack||!nodeStack.length)return null;var node=nodeStack.pop(),text=node.textContent||node.innerText;if(text){var m=text.match(/^.*(\n|\r)/);return m?(nodeStack.length=0,m[0]):text}return"ruby"===node.tagName?nextTextNode(nodeStack):node.childNodes?(pushNodes(nodeStack,node),nextTextNode(nodeStack)):void 0}var charCode,nodeStack=[],text="";if(!cueDiv||!cueDiv.childNodes)return"ltr";for(pushNodes(nodeStack,cueDiv);text=nextTextNode(nodeStack);)for(var i=0;i<text.length;i++){charCode=text.charCodeAt(i);for(var j=0;j<strongRTLChars.length;j++)if(strongRTLChars[j]===charCode)return"rtl"}return"ltr"}function computeLinePos(cue){if("number"==typeof cue.line&&(cue.snapToLines||cue.line>=0&&cue.line<=100))return cue.line;if(!cue.track||!cue.track.textTrackList||!cue.track.textTrackList.mediaElement)return-1;for(var track=cue.track,trackList=track.textTrackList,count=0,i=0;i<trackList.length&&trackList[i]!==track;i++)"showing"===trackList[i].mode&&count++;return-1*++count}function StyleBox(){}function CueStyleBox(window,cue,styleOptions){var isIE8=/MSIE\s8\.0/.test(navigator.userAgent),color="rgba(255, 255, 255, 1)",backgroundColor="rgba(0, 0, 0, 0.8)";isIE8&&(color="rgb(255, 255, 255)",backgroundColor="rgb(0, 0, 0)"),StyleBox.call(this),this.cue=cue,this.cueDiv=parseContent(window,cue.text);var styles={color:color,backgroundColor:backgroundColor,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};isIE8||(styles.writingMode=""===cue.vertical?"horizontal-tb":"lr"===cue.vertical?"vertical-lr":"vertical-rl",styles.unicodeBidi="plaintext"),this.applyStyles(styles,this.cueDiv),this.div=window.document.createElement("div"),styles={textAlign:"middle"===cue.align?"center":cue.align,font:styleOptions.font,whiteSpace:"pre-line",position:"absolute"},isIE8||(styles.direction=determineBidi(this.cueDiv),styles.writingMode=""===cue.vertical?"horizontal-tb":"lr"===cue.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(styles),this.div.appendChild(this.cueDiv);var textPos=0;switch(cue.positionAlign){case"start":textPos=cue.position;break;case"middle":textPos=cue.position-cue.size/2;break;case"end":textPos=cue.position-cue.size}""===cue.vertical?this.applyStyles({left:this.formatStyle(textPos,"%"),width:this.formatStyle(cue.size,"%")}):this.applyStyles({top:this.formatStyle(textPos,"%"),height:this.formatStyle(cue.size,"%")}),this.move=function(box){this.applyStyles({top:this.formatStyle(box.top,"px"),bottom:this.formatStyle(box.bottom,"px"),left:this.formatStyle(box.left,"px"),right:this.formatStyle(box.right,"px"),height:this.formatStyle(box.height,"px"),width:this.formatStyle(box.width,"px")})}}function BoxPosition(obj){var lh,height,width,top,isIE8=/MSIE\s8\.0/.test(navigator.userAgent);if(obj.div){height=obj.div.offsetHeight,width=obj.div.offsetWidth,top=obj.div.offsetTop;var rects=(rects=obj.div.childNodes)&&(rects=rects[0])&&rects.getClientRects&&rects.getClientRects();obj=obj.div.getBoundingClientRect(),lh=rects?Math.max(rects[0]&&rects[0].height||0,obj.height/rects.length):0}this.left=obj.left,this.right=obj.right,this.top=obj.top||top,this.height=obj.height||height,this.bottom=obj.bottom||top+(obj.height||height),this.width=obj.width||width,this.lineHeight=void 0!==lh?lh:obj.lineHeight,isIE8&&!this.lineHeight&&(this.lineHeight=13)}function moveBoxToLinePosition(window,styleBox,containerBox,boxPositions){function findBestPosition(b,axis){for(var bestPosition,specifiedPosition=new BoxPosition(b),percentage=1,i=0;i<axis.length;i++){for(;b.overlapsOppositeAxis(containerBox,axis[i])||b.within(containerBox)&&b.overlapsAny(boxPositions);)b.move(axis[i]);if(b.within(containerBox))return b;var p=b.intersectPercentage(containerBox);percentage>p&&(bestPosition=new BoxPosition(b),percentage=p),b=new BoxPosition(specifiedPosition)}return bestPosition||specifiedPosition}var boxPosition=new BoxPosition(styleBox),cue=styleBox.cue,linePos=computeLinePos(cue),axis=[];if(cue.snapToLines){var size;switch(cue.vertical){case"":axis=["+y","-y"],size="height";break;case"rl":axis=["+x","-x"],size="width";break;case"lr":axis=["-x","+x"],size="width"}var step=boxPosition.lineHeight,position=step*Math.round(linePos),maxPosition=containerBox[size]+step,initialAxis=axis[0];Math.abs(position)>maxPosition&&(position=0>position?-1:1,position*=Math.ceil(maxPosition/step)*step),0>linePos&&(position+=""===cue.vertical?containerBox.height:containerBox.width,axis=axis.reverse()),boxPosition.move(initialAxis,position)}else{var calculatedPercentage=boxPosition.lineHeight/containerBox.height*100;switch(cue.lineAlign){case"middle":linePos-=calculatedPercentage/2;break;case"end":linePos-=calculatedPercentage}switch(cue.vertical){case"":styleBox.applyStyles({top:styleBox.formatStyle(linePos,"%")});break;case"rl":styleBox.applyStyles({left:styleBox.formatStyle(linePos,"%")});break;case"lr":styleBox.applyStyles({right:styleBox.formatStyle(linePos,"%")})}axis=["+y","-x","+x","-y"],boxPosition=new BoxPosition(styleBox)}var bestPosition=findBestPosition(boxPosition,axis);styleBox.move(bestPosition.toCSSCompatValues(containerBox))}function WebVTT(){}var _objCreate=Object.create||function(){function F(){}return function(o){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return F.prototype=o,new F}}();ParsingError.prototype=_objCreate(Error.prototype),ParsingError.prototype.constructor=ParsingError,ParsingError.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Settings.prototype={set:function(k,v){this.get(k)||""===v||(this.values[k]=v)},get:function(k,dflt,defaultKey){return defaultKey?this.has(k)?this.values[k]:dflt[defaultKey]:this.has(k)?this.values[k]:dflt},has:function(k){return k in this.values},alt:function(k,v,a){for(var n=0;n<a.length;++n)if(v===a[n]){this.set(k,v);break}},integer:function(k,v){/^-?\d+$/.test(v)&&this.set(k,parseInt(v,10))},percent:function(k,v){var m;return(m=v.match(/^([\d]{1,3})(\.[\d]*)?%$/))&&(v=parseFloat(v),v>=0&&100>=v)?(this.set(k,v),!0):!1}};var ESCAPE={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"","&rlm;":"","&nbsp;":""},TAG_NAME={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},TAG_ANNOTATION={v:"title",lang:"lang"},NEEDS_PARENT={rt:"ruby"},strongRTLChars=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];StyleBox.prototype.applyStyles=function(styles,div){div=div||this.div;for(var prop in styles)styles.hasOwnProperty(prop)&&(div.style[prop]=styles[prop])},StyleBox.prototype.formatStyle=function(val,unit){return 0===val?0:val+unit},CueStyleBox.prototype=_objCreate(StyleBox.prototype),CueStyleBox.prototype.constructor=CueStyleBox,BoxPosition.prototype.move=function(axis,toMove){switch(toMove=void 0!==toMove?toMove:this.lineHeight,axis){case"+x":this.left+=toMove,this.right+=toMove;break;case"-x":this.left-=toMove,this.right-=toMove;break;case"+y":this.top+=toMove,this.bottom+=toMove;break;case"-y":this.top-=toMove,this.bottom-=toMove}},BoxPosition.prototype.overlaps=function(b2){return this.left<b2.right&&this.right>b2.left&&this.top<b2.bottom&&this.bottom>b2.top},BoxPosition.prototype.overlapsAny=function(boxes){for(var i=0;i<boxes.length;i++)if(this.overlaps(boxes[i]))return!0;return!1},BoxPosition.prototype.within=function(container){return this.top>=container.top&&this.bottom<=container.bottom&&this.left>=container.left&&this.right<=container.right},BoxPosition.prototype.overlapsOppositeAxis=function(container,axis){switch(axis){case"+x":return this.left<container.left;case"-x":return this.right>container.right;case"+y":return this.top<container.top;case"-y":return this.bottom>container.bottom}},BoxPosition.prototype.intersectPercentage=function(b2){var x=Math.max(0,Math.min(this.right,b2.right)-Math.max(this.left,b2.left)),y=Math.max(0,Math.min(this.bottom,b2.bottom)-Math.max(this.top,b2.top)),intersectArea=x*y;return intersectArea/(this.height*this.width)},BoxPosition.prototype.toCSSCompatValues=function(reference){return{top:this.top-reference.top,bottom:reference.bottom-this.bottom,left:this.left-reference.left,right:reference.right-this.right,height:this.height,width:this.width}},BoxPosition.getSimpleBoxPosition=function(obj){var height=obj.div?obj.div.offsetHeight:obj.tagName?obj.offsetHeight:0,width=obj.div?obj.div.offsetWidth:obj.tagName?obj.offsetWidth:0,top=obj.div?obj.div.offsetTop:obj.tagName?obj.offsetTop:0;obj=obj.div?obj.div.getBoundingClientRect():obj.tagName?obj.getBoundingClientRect():obj;var ret={left:obj.left,right:obj.right,top:obj.top||top,height:obj.height||height,bottom:obj.bottom||top+(obj.height||height),width:obj.width||width};return ret},WebVTT.StringDecoder=function(){return{decode:function(data){if(!data)return"";if("string"!=typeof data)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(data))}}},WebVTT.convertCueToDOMTree=function(window,cuetext){return window&&cuetext?parseContent(window,cuetext):null};var FONT_SIZE_PERCENT=.05,FONT_STYLE="sans-serif",CUE_BACKGROUND_PADDING="1.5%";WebVTT.processCues=function(window,cues,overlay){function shouldCompute(cues){for(var i=0;i<cues.length;i++)if(cues[i].hasBeenReset||!cues[i].displayState)return!0;return!1}if(!window||!cues||!overlay)return null;for(;overlay.firstChild;)overlay.removeChild(overlay.firstChild);var paddedOverlay=window.document.createElement("div");if(paddedOverlay.style.position="absolute",paddedOverlay.style.left="0",paddedOverlay.style.right="0",paddedOverlay.style.top="0",paddedOverlay.style.bottom="0",paddedOverlay.style.margin=CUE_BACKGROUND_PADDING,overlay.appendChild(paddedOverlay),shouldCompute(cues)){var boxPositions=[],containerBox=BoxPosition.getSimpleBoxPosition(paddedOverlay),fontSize=Math.round(containerBox.height*FONT_SIZE_PERCENT*100)/100,styleOptions={font:fontSize+"px "+FONT_STYLE};!function(){for(var styleBox,cue,i=0;i<cues.length;i++)cue=cues[i],styleBox=new CueStyleBox(window,cue,styleOptions),paddedOverlay.appendChild(styleBox.div),moveBoxToLinePosition(window,styleBox,containerBox,boxPositions),cue.displayState=styleBox.div,boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox))}()}else for(var i=0;i<cues.length;i++)paddedOverlay.appendChild(cues[i].displayState)},WebVTT.Parser=function(window,vttjs,decoder){decoder||(decoder=vttjs,vttjs={}),vttjs||(vttjs={}),this.window=window,this.vttjs=vttjs,this.state="INITIAL",this.buffer="",this.decoder=decoder||new TextDecoder("utf8"),this.regionList=[]},WebVTT.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof ParsingError))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(data){function collectNextLine(){for(var buffer=self.buffer,pos=0;pos<buffer.length&&"\r"!==buffer[pos]&&"\n"!==buffer[pos];)++pos;var line=buffer.substr(0,pos);return"\r"===buffer[pos]&&++pos,"\n"===buffer[pos]&&++pos,self.buffer=buffer.substr(pos),line}function parseRegion(input){var settings=new Settings;if(parseOptions(input,function(k,v){switch(k){case"id":settings.set(k,v);break;case"width":settings.percent(k,v);break;case"lines":settings.integer(k,v);break;case"regionanchor":case"viewportanchor":var xy=v.split(",");if(2!==xy.length)break;var anchor=new Settings;if(anchor.percent("x",xy[0]),anchor.percent("y",xy[1]),!anchor.has("x")||!anchor.has("y"))break;settings.set(k+"X",anchor.get("x")),settings.set(k+"Y",anchor.get("y"));break;case"scroll":settings.alt(k,v,["up"])}},/=/,/\s/),settings.has("id")){var region=new(self.vttjs.VTTRegion||self.window.VTTRegion);region.width=settings.get("width",100),region.lines=settings.get("lines",3),region.regionAnchorX=settings.get("regionanchorX",0),region.regionAnchorY=settings.get("regionanchorY",100),region.viewportAnchorX=settings.get("viewportanchorX",0),region.viewportAnchorY=settings.get("viewportanchorY",100),region.scroll=settings.get("scroll",""),self.onregion&&self.onregion(region),self.regionList.push({id:settings.get("id"),region:region})}}function parseHeader(input){parseOptions(input,function(k,v){switch(k){case"Region":parseRegion(v)}},/:/)}var self=this;data&&(self.buffer+=self.decoder.decode(data,{stream:!0}));try{var line;if("INITIAL"===self.state){if(!/\r\n|\n/.test(self.buffer))return this;line=collectNextLine();var m=line.match(/^WEBVTT([ \t].*)?$/);if(!m||!m[0])throw new ParsingError(ParsingError.Errors.BadSignature);self.state="HEADER"}for(var alreadyCollectedLine=!1;self.buffer;){if(!/\r\n|\n/.test(self.buffer))return this;switch(alreadyCollectedLine?alreadyCollectedLine=!1:line=collectNextLine(),self.state){case"HEADER":/:/.test(line)?parseHeader(line):line||(self.state="ID");continue;case"NOTE":line||(self.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(line)){self.state="NOTE";break}if(!line)continue;if(self.cue=new(self.vttjs.VTTCue||self.window.VTTCue)(0,0,""),self.state="CUE",-1===line.indexOf("-->")){self.cue.id=line;continue}case"CUE":try{parseCue(line,self.cue,self.regionList)}catch(e){self.reportOrThrowError(e),self.cue=null,self.state="BADCUE";continue}self.state="CUETEXT";continue;case"CUETEXT":var hasSubstring=-1!==line.indexOf("-->");if(!line||hasSubstring&&(alreadyCollectedLine=!0)){self.oncue&&self.oncue(self.cue),self.cue=null,self.state="ID";continue}self.cue.text&&(self.cue.text+="\n"),self.cue.text+=line;continue;case"BADCUE":line||(self.state="ID");continue}}}catch(e){self.reportOrThrowError(e),"CUETEXT"===self.state&&self.cue&&self.oncue&&self.oncue(self.cue),self.cue=null,self.state="INITIAL"===self.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var self=this;try{if(self.buffer+=self.decoder.decode(),(self.cue||"HEADER"===self.state)&&(self.buffer+="\n\n",self.parse()),"INITIAL"===self.state)throw new ParsingError(ParsingError.Errors.BadSignature)}catch(e){self.reportOrThrowError(e)}return self.onflush&&self.onflush(),this}},global.WebVTT=WebVTT}(this,this.vttjs||{}),!function(){!function(a){var b=a&&a.videojs;if(b){b.CDN_VERSION="5.0.2";var c="https:"===a.location.protocol?"https://":"http://";b.options.flash.swf=c+"vjs.zencdn.net/swf/5.0.0-rc1/video-js.swf"}}(window),function(a,b,c,d,e,f,g){b&&b.HELP_IMPROVE_VIDEOJS!==!1&&(e.random()>.01||(f=b.location,g=b.videojs||{},a.src="//www.google-analytics.com/__utm.gif?utmwv=5.4.2&utmac=UA-16505296-3&utmn=1&utmhn="+d(f.hostname)+"&utmsr="+b.screen.availWidth+"x"+b.screen.availHeight+"&utmul="+(c.language||c.userLanguage||"").toLowerCase()+"&utmr="+d(f.href)+"&utmp="+d(f.hostname+f.pathname)+"&utmcc=__utma%3D1."+e.floor(1e10*e.random())+".1.1.1.1%3B&utme=8(vjsv*cdnv)9("+g.VERSION+"*"+g.CDN_VERSION+")"))}(new Image,window,navigator,encodeURIComponent,Math)}();