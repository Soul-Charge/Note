# Syntax

## 典型C程序的组成

| #include<...> （预处理器指令）  
| ...（其他预处理器指令）  
| 自定函数的声明（可选项）  
|  
| 主函数main()  
----|（组成函数的语句）  
----|（主函数内的其他函数）  
-----------|（其他函数内的语句）  
| 自定函数的实现（可选项）  

// TODO
> 自定函数细节在下方详述  

## 预处理(preprocessing)

C 编译器在编译前会对源代码进行预处理  

### #include <...> 与头文件

告诉文件包含尖括号内容的全部信息，相当于把文件的内容粘贴在此处  
头文件（xxx.h）一般包括变量声明、常量定义、函数声明  
编译器在链接部分会使用头文件寻找库代码内函数的具体实现  
[C标准库的头文件列表](https://m.runoob.com/cprogramming/)  

## 定义函数与main()函数

```c
定义函数返回值类型的关键字 函数名(定义函数接受参数类型的关键字)
{
    组成函数实现的语句
}
```

函数名后的圆括号`()`说明这是一个函数  
函数名左侧的关键字定义函数的返回值类型，返回给主调函数（调用该函数的函数，main()函数返回给操作系统）  
函数名右侧括号内的关键字定义函数接受参数值的类型，不接受参数填`void`  
花括号`{}`界定函数体的开始与结束  

### 典型C程序的main()函数  

```c
int main(void)
{
    /* 其他语句和函数调用 */
    return 0;
}
```

典型C程序从main()函数开始执行，int表示main()函数返回整数值，void表示函数不接受参数  
return 0 返回给操作系统表示程序正常运行结束  

### 添加自制函数

#### 在main()前定义函数

直接把要添加的函数的实现放到main()函数头前，何时调用取决于main()内在何处调用  

```c
void ShowMessage(void)
{
    // 实现略
}

int main(void)
{
    ShowMessage();
    return 0;
}
```

#### 使用函数原型

```c
void ShowMessage(void); // ShowMessage()函数原型，声明ShowMessage()函数

int main(void)
{
    ShowMessage();
    return 0;
}

void ShowMessage(void)
{
    // 实现略
}
```

#### // TODO 单独的函数实现源文件

将函数原型写入头文件  
在包含main()函数的源文件内引用包含函数原型的头文件，然后与包含函数实现的源文件一起编译  

#### // TODO 将函数实现制成动态库或静态库

将函数原型写入头文件  
在包含main()函数的源文件引用该头文件  
将函数实现制作成库代码  

## 语句 (statements)

语句都以分号结尾  

### 声明语句 (declaration statements)

#### 定义性声明 （defining declaration）

`关键字 标识符;`  
`关键字 标识符, 标识符;`  
声明一个（或多个）变量并为其分配内存空间（或称定义变量），变量需要先定义才能使用，定义可以放在代码块的任何位置  
**关键字：** 关键字为语言保留使用，在程序内不能用作其他目的（除注释）  
**标识符：** 为变量、函数或其他实体所选的名字  
**标识符命名规则：** 大小写字母、数字、下划线，区分大小写并且只能字母或下划线开头  
**保留标识符：** 标准库函数的名字(如printf），一些系统和C库使用的以下划线开头的标识符，这些也不能使用  

> 标识符命名其他规则：  
> C99标准标识符最大长度为63字符  

**一般标识符命名方法：**  

下划线：单词间用下划线连接  
> user_name  

驼峰：   单词间直接连接但首字母大写（除了开头）  
> userName  

帕斯卡：单词间直接连接且全部首字母大写  
>UserName  

![ISO ANSI C关键字](_v_images/20210913210215742_1176.png)
> 粗体为C90新增，斜体为C99新增

#### 引用性声明 （referncing declaration）

`extern 关键字 标识符;`  
不会分配内存空间  
// TODO 具体内容下方详述  

### 赋值语句 (assignment statements)

`左值 = 右值;`  

> 例：将值1赋予变量num  
> `num = 1;`  

// TODO 左值和右值相关内容下面详述  

### 函数调用语句 (function statements)

`functionName(acturalArgument);`  
键入函数名和括号后输入要传递的参数，此处无参数不能输入`void`  
程序运行到函数调用后控制权将移交给被调函数直至函数运行结束将控制权返回给主调函数  
**actural argument(实际参数)：** 实际传递给函数的参数  

### 控制语句 (control statements)

#### return;

`return value;`  
结束当前函数，并返回一个值，`value`可以是常量或变量  

### 空语句 (null statements)

`;`  
就一个分号，不做任何事情  

## 输入 & 输出

### 输出函数

#### printf();

格式化输出(printf formating)，可以特定格式输出参数  

// TODO 输出各种类型的变量的测试，指针数组等
// TODO 格式说明符之类的

```c
int num = 10;
printf("string"); // string
printf("\n");     // 换了一行
printf("%d",num); // 10
```

## 运算符




