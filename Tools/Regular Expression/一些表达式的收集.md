# 一些表达式的收集

## 匹配双引号内的字符

匹配两个双引号之间没有双引号的字符串  

```text
"[^"]*"
```

## 匹配12小时制的时间

```text
(1[012]|[1-9]):([0-5][0-9]) (am|pm)
```

## 匹配24小时制时间

小时的十位不可省略：

```text
(([01][0-9])|(2[0123])):([0-5]|[0-9])
```

小时的十位可省略

```text
(0?[0-9]|1[0-9]|2[0-3]):([0-5][0-9])
```

```text
([01]?[0-9]|2[0-3]):([0-5][0-9])
```

## 在Perl中修正单词的大小写

```perl
$var =~ s/\bJeff/Jeff/i;
# 使用i选项使得匹配不区分大小写
# 例：
# jeff 变成 Jeff
# JEFF 变成 Jeff
# JeFf 变成 Jeff
```

## 在Perl中修改浮点数表示位数

通常保留小数点后两位，如果第三位不为零也保留。  

```perl
$price =~ s/(\.\d\d[1-9]?)\d*/$1/;
```

## 用Perl对文件进行修改

### 单行命令

```shell
perl -p -i -e 's/regx/text/g' file file2
# -p  : 对文件的每一行进行操作
# -i  : 将替换结果写回文件,不加此选项则命令会将结果回显但不改变文件
# -e  : 表示单行perl程序
#  g  : 一行中进行多次操作(类似于vim的替换操作的g)
# file: 要操作的文件
# file2: 可能的多个文件，也可以用*.txt等方式代替文件名
```

### 使用单独的脚本文件

```shell
# 在终端运行的命令
perl -w script.pl inputfile > outputfile
# script.pl  用来处理的脚本文件
# inputfile  需要处理的文件
# outputfile 处理结果输出的文件
```

```perl
# 脚本文件的写法
# $line = <> 会从inputfile中读取一行内容保存(保留换行符)到line变量中
wile ($line = <>) # 读取文件每一行，具体操作不是很明白，应该是当<>到达文件尾部返回一个假值
{
    处理$line...
}
```